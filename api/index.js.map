{
  "version": 3,
  "sources": ["../server.js", "server-entry-module:@remix-run/dev/server-build", "../app/entry.server.tsx", "../app/root.tsx", "../app/routes/api.add-to-cart-multiple.tsx", "../app/lib/shopify.server.ts", "../app/routes/api.cloudinary-signature.tsx", "../app/routes/api.generate-image.tsx", "../app/lib/replicate.server.ts", "../app/routes/api.upload-image.tsx", "../app/routes/api.add-to-cart.tsx", "../app/routes/customize.tsx", "../app/components/TShirtCustomizer.tsx", "../app/lib/products.ts", "../app/routes/_index.tsx", "server-assets-manifest:@remix-run/dev/assets-manifest"],
  "sourcesContent": ["import { createRequestHandler } from \"@remix-run/vercel\";\nimport * as build from \"@remix-run/dev/server-build\";\n\nexport default createRequestHandler({ build, mode: process.env.NODE_ENV });\n", "\nimport * as entryServer from \"/Users/hmmbp/printaize/app/entry.server.tsx\";\nimport * as route0 from \"./root.tsx\";\nimport * as route1 from \"./routes/api.add-to-cart-multiple.tsx\";\nimport * as route2 from \"./routes/api.cloudinary-signature.tsx\";\nimport * as route3 from \"./routes/api.generate-image.tsx\";\nimport * as route4 from \"./routes/api.upload-image.tsx\";\nimport * as route5 from \"./routes/api.add-to-cart.tsx\";\nimport * as route6 from \"./routes/customize.tsx\";\nimport * as route7 from \"./routes/_index.tsx\";\n  export const mode = \"development\";\n  export { default as assets } from \"@remix-run/dev/assets-manifest\";\n  export const assetsBuildDirectory = \"public/build\";\n  export const future = {\"v3_fetcherPersist\":false,\"v3_relativeSplatPath\":false,\"v3_throwAbortReason\":false,\"v3_routeConfig\":false,\"v3_singleFetch\":false,\"v3_lazyRouteDiscovery\":false,\"unstable_optimizeDeps\":false};\n  export const publicPath = \"/build/\";\n  export const entry = { module: entryServer };\n  export const routes = {\n    \"root\": {\n      id: \"root\",\n      parentId: undefined,\n      path: \"\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route0\n    },\n  \"routes/api.add-to-cart-multiple\": {\n      id: \"routes/api.add-to-cart-multiple\",\n      parentId: \"root\",\n      path: \"api/add-to-cart-multiple\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route1\n    },\n  \"routes/api.cloudinary-signature\": {\n      id: \"routes/api.cloudinary-signature\",\n      parentId: \"root\",\n      path: \"api/cloudinary-signature\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route2\n    },\n  \"routes/api.generate-image\": {\n      id: \"routes/api.generate-image\",\n      parentId: \"root\",\n      path: \"api/generate-image\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route3\n    },\n  \"routes/api.upload-image\": {\n      id: \"routes/api.upload-image\",\n      parentId: \"root\",\n      path: \"api/upload-image\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route4\n    },\n  \"routes/api.add-to-cart\": {\n      id: \"routes/api.add-to-cart\",\n      parentId: \"root\",\n      path: \"api/add-to-cart\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route5\n    },\n  \"routes/customize\": {\n      id: \"routes/customize\",\n      parentId: \"root\",\n      path: \"customize\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route6\n    },\n  \"routes/_index\": {\n      id: \"routes/_index\",\n      parentId: \"root\",\n      path: undefined,\n      index: true,\n      caseSensitive: undefined,\n      module: route7\n    }\n  };", "/**\n * \u30B5\u30FC\u30D0\u30FC\u30B5\u30A4\u30C9\u306E\u30A8\u30F3\u30C8\u30EA\u30FC\u30DD\u30A4\u30F3\u30C8\n */\n\nimport { PassThrough } from \"node:stream\";\nimport type { AppLoadContext, EntryContext } from \"@remix-run/node\";\nimport { createReadableStreamFromReadable } from \"@remix-run/node\";\nimport { RemixServer } from \"@remix-run/react\";\nimport { isbot } from \"isbot\";\nimport { renderToPipeableStream } from \"react-dom/server\";\n\nconst ABORT_DELAY = 5_000;\n\nexport default function handleRequest(\n  request: Request,\n  responseStatusCode: number,\n  responseHeaders: Headers,\n  remixContext: EntryContext,\n  loadContext: AppLoadContext\n) {\n  return isbot(request.headers.get(\"user-agent\") || \"\")\n    ? handleBotRequest(\n        request,\n        responseStatusCode,\n        responseHeaders,\n        remixContext\n      )\n    : handleBrowserRequest(\n        request,\n        responseStatusCode,\n        responseHeaders,\n        remixContext\n      );\n}\n\nfunction handleBotRequest(\n  request: Request,\n  responseStatusCode: number,\n  responseHeaders: Headers,\n  remixContext: EntryContext\n) {\n  return new Promise((resolve, reject) => {\n    let shellRendered = false;\n    const { pipe, abort } = renderToPipeableStream(\n      <RemixServer\n        context={remixContext}\n        url={request.url}\n        abortDelay={ABORT_DELAY}\n      />,\n      {\n        onAllReady() {\n          shellRendered = true;\n          const body = new PassThrough();\n          const stream = createReadableStreamFromReadable(body);\n\n          responseHeaders.set(\"Content-Type\", \"text/html\");\n\n          resolve(\n            new Response(stream, {\n              headers: responseHeaders,\n              status: responseStatusCode,\n            })\n          );\n\n          pipe(body);\n        },\n        onShellError(error: unknown) {\n          reject(error);\n        },\n        onError(error: unknown) {\n          responseStatusCode = 500;\n          if (shellRendered) {\n            console.error(error);\n          }\n        },\n      }\n    );\n\n    setTimeout(abort, ABORT_DELAY);\n  });\n}\n\nfunction handleBrowserRequest(\n  request: Request,\n  responseStatusCode: number,\n  responseHeaders: Headers,\n  remixContext: EntryContext\n) {\n  return new Promise((resolve, reject) => {\n    let shellRendered = false;\n    const { pipe, abort } = renderToPipeableStream(\n      <RemixServer\n        context={remixContext}\n        url={request.url}\n        abortDelay={ABORT_DELAY}\n      />,\n      {\n        onShellReady() {\n          shellRendered = true;\n          const body = new PassThrough();\n          const stream = createReadableStreamFromReadable(body);\n\n          responseHeaders.set(\"Content-Type\", \"text/html\");\n\n          resolve(\n            new Response(stream, {\n              headers: responseHeaders,\n              status: responseStatusCode,\n            })\n          );\n\n          pipe(body);\n        },\n        onShellError(error: unknown) {\n          reject(error);\n        },\n        onError(error: unknown) {\n          responseStatusCode = 500;\n          if (shellRendered) {\n            console.error(error);\n          }\n        },\n      }\n    );\n\n    setTimeout(abort, ABORT_DELAY);\n  });\n}\n", "/**\n * Remix\u30A2\u30D7\u30EA\u306E\u30EB\u30FC\u30C8\u30B3\u30F3\u30DD\u30FC\u30CD\u30F3\u30C8\n */\n\nimport {\n  Links,\n  LiveReload,\n  Meta,\n  Outlet,\n  Scripts,\n  ScrollRestoration,\n  useLoaderData,\n} from \"@remix-run/react\";\nimport { json, type LoaderFunctionArgs } from \"@remix-run/node\";\n\n// \u74B0\u5883\u5909\u6570\u3092\u30AF\u30E9\u30A4\u30A2\u30F3\u30C8\u306B\u6E21\u3059\nexport async function loader({ request }: LoaderFunctionArgs) {\n  return json({\n    ENV: {\n      SUPABASE_URL: process.env.SUPABASE_URL,\n      SUPABASE_ANON_KEY: process.env.SUPABASE_ANON_KEY,\n    },\n  });\n}\n\nexport default function App() {\n  const data = useLoaderData<typeof loader>();\n  return (\n    <html lang=\"ja\">\n      <head>\n        <meta charSet=\"utf-8\" />\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n        <Meta />\n        <Links />\n        \n        {/* Google Fonts - \u65E5\u672C\u8A9E\u30D5\u30A9\u30F3\u30C8\uFF08\u5168\u30D5\u30A9\u30F3\u30C8\uFF09 */}\n        <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\" />\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossOrigin=\"anonymous\" />\n        <link href=\"https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&family=Noto+Serif+JP:wght@400;700&family=M+PLUS+Rounded+1c:wght@400;700&family=M+PLUS+1p:wght@400;700&family=M+PLUS+2:wght@400;700&family=Murecho:wght@400;700&family=Zen+Maru+Gothic:wght@400;700&family=Zen+Kaku+Gothic+New:wght@400;700&family=Zen+Kaku+Gothic+Antique:wght@400;700&family=Zen+Old+Mincho:wght@400;700&family=Zen+Kurenaido&family=Zen+Antique&family=Zen+Antique+Soft&family=Kosugi+Maru&family=Kosugi&family=Sawarabi+Mincho&family=Sawarabi+Gothic&family=Klee+One:wght@400;600&family=Shippori+Mincho:wght@400;700&family=Shippori+Antique&family=Shippori+Antique+B1&family=Yusei+Magic&family=Yomogi&family=BIZ+UDPGothic:wght@400;700&family=BIZ+UDPMincho:wght@400;700&family=Dela+Gothic+One&family=DotGothic16&family=Hina+Mincho&family=Kiwi+Maru:wght@400;500&family=Reggae+One&family=RocknRoll+One&family=Potta+One&family=Train+One&family=Rampart+One&family=Kaisei+Decol:wght@400;700&family=Kaisei+HarunoUmi:wght@400;700&family=Kaisei+Tokumin:wght@400;700&family=Kaisei+Opti:wght@400;700&family=Stick&family=Mochiy+Pop+One&family=Mochiy+Pop+P+One&family=New+Tegomin&family=Hachi+Maru+Pop&family=Otomanopee+One&family=Shirokuma&family=Slackkey&family=Cherry+Bomb+One&family=Monomaniac+One&family=Palette+Mosaic&family=Yuji+Syuku&family=Yuji+Boku&family=Yuji+Mai&display=swap\" rel=\"stylesheet\" />\n        \n        {/* Fabric.js\u3092CDN\u304B\u3089\u8AAD\u307F\u8FBC\u3080 */}\n        <script src=\"https://cdnjs.cloudflare.com/ajax/libs/fabric.js/5.3.0/fabric.min.js\"></script>\n        \n        <style>{`\n          * {\n            box-sizing: border-box;\n          }\n          \n          body {\n            margin: 0;\n            padding: 0;\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', \n                         'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', \n                         'Helvetica Neue', sans-serif;\n            -webkit-font-smoothing: antialiased;\n            -moz-osx-font-smoothing: grayscale;\n            background-color: #f5f5f5;\n          }\n          \n          canvas {\n            display: block;\n          }\n        `}</style>\n      </head>\n      <body>\n        <Outlet />\n        <ScrollRestoration />\n        <script\n          dangerouslySetInnerHTML={{\n            __html: `window.ENV = ${JSON.stringify(data.ENV)}`,\n          }}\n        />\n        <Scripts />\n        <LiveReload />\n      </body>\n    </html>\n  );\n}\n", "/**\n * \u8907\u6570\u30A2\u30A4\u30C6\u30E0\u3092\u4E00\u5EA6\u306B\u30AB\u30FC\u30C8\u306B\u8FFD\u52A0\u3059\u308BAPI\u30A8\u30F3\u30C9\u30DD\u30A4\u30F3\u30C8\n */\n\nimport { json, type ActionFunctionArgs } from \"@remix-run/node\";\nimport { createCart } from \"~/lib/shopify.server\";\n\nexport async function action({ request }: ActionFunctionArgs) {\n  if (request.method === \"OPTIONS\") {\n    return new Response(null, {\n      status: 204,\n      headers: {\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"POST, OPTIONS\",\n        \"Access-Control-Allow-Headers\": \"Content-Type\",\n      },\n    });\n  }\n\n  try {\n    // \u30EA\u30AF\u30A8\u30B9\u30C8\u30DC\u30C7\u30A3\u304B\u3089\u30A2\u30A4\u30C6\u30E0\u914D\u5217\u3092\u53D6\u5F97\n    const body = await request.json();\n    const { items } = body;\n\n    if (!items || !Array.isArray(items) || items.length === 0) {\n      return json(\n        { error: \"\u30AB\u30FC\u30C8\u306B\u8FFD\u52A0\u3059\u308B\u30A2\u30A4\u30C6\u30E0\u304C\u6307\u5B9A\u3055\u308C\u3066\u3044\u307E\u305B\u3093\" },\n        { status: 400 }\n      );\n    }\n\n    console.log(\"\u30AB\u30FC\u30C8\u306B\u8FFD\u52A0\u3059\u308B\u30A2\u30A4\u30C6\u30E0\u6570:\", items.length);\n\n    // \u5168\u3066\u306E\u30A2\u30A4\u30C6\u30E0\u30921\u56DE\u3067\u30AB\u30FC\u30C8\u306B\u8FFD\u52A0\n    const result = await createCart(items);\n\n    // \u30A8\u30E9\u30FC\u30C1\u30A7\u30C3\u30AF\n    if (result.userErrors && result.userErrors.length > 0) {\n      console.error(\"Shopify userErrors:\", result.userErrors);\n      return json(\n        {\n          success: false,\n          error: result.userErrors[0].message,\n          details: result.userErrors,\n        },\n        { status: 400 }\n      );\n    }\n\n    // \u30C1\u30A7\u30C3\u30AF\u30A2\u30A6\u30C8URL\u3092\u8FD4\u3059\n    return json({\n      success: true,\n      checkoutUrl: result.cart.checkoutUrl,\n      cartId: result.cart.id,\n    });\n  } catch (error) {\n    console.error(\"\u30AB\u30FC\u30C8\u8FFD\u52A0\u30A8\u30E9\u30FC:\", error);\n    return json(\n      {\n        success: false,\n        error: error instanceof Error ? error.message : \"\u30AB\u30FC\u30C8\u3078\u306E\u8FFD\u52A0\u306B\u5931\u6557\u3057\u307E\u3057\u305F\",\n      },\n      { status: 500 }\n    );\n  }\n}\n", "/**\n * Shopify Storefront API\u7D71\u5408\n * \u30AB\u30FC\u30C8\u6A5F\u80FD\u3068\u30C1\u30A7\u30C3\u30AF\u30A2\u30A6\u30C8\u6A5F\u80FD\u3092\u63D0\u4F9B\n */\n\n// \u30B9\u30C6\u30C3\u30D71: Shopify\u8A2D\u5B9A\u3092\u74B0\u5883\u5909\u6570\u304B\u3089\u53D6\u5F97\nconst SHOPIFY_STORE_DOMAIN = process.env.SHOPIFY_STORE_DOMAIN || \"\";\nconst SHOPIFY_STOREFRONT_ACCESS_TOKEN = process.env.SHOPIFY_STOREFRONT_ACCESS_TOKEN || \"\";\n\n// \u30B9\u30C6\u30C3\u30D72: GraphQL API\u306E\u30A8\u30F3\u30C9\u30DD\u30A4\u30F3\u30C8\nconst STOREFRONT_API_URL = `https://${SHOPIFY_STORE_DOMAIN}/api/2024-01/graphql.json`;\n\n/**\n * \u30B9\u30C6\u30C3\u30D73: Shopify Storefront API\u3078\u306E\u30EA\u30AF\u30A8\u30B9\u30C8\u3092\u9001\u4FE1\n */\nasync function shopifyFetch({\n  query,\n  variables = {},\n}: {\n  query: string;\n  variables?: Record<string, any>;\n}) {\n  try {\n    const response = await fetch(STOREFRONT_API_URL, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"X-Shopify-Storefront-Access-Token\": SHOPIFY_STOREFRONT_ACCESS_TOKEN,\n      },\n      body: JSON.stringify({ query, variables }),\n    });\n\n    if (!response.ok) {\n      throw new Error(`Shopify API Error: ${response.statusText}`);\n    }\n\n    const json = await response.json();\n\n    if (json.errors) {\n      throw new Error(`GraphQL Errors: ${JSON.stringify(json.errors)}`);\n    }\n\n    return json.data;\n  } catch (error) {\n    console.error(\"Shopify API Error:\", error);\n    throw error;\n  }\n}\n\n/**\n * \u30B9\u30C6\u30C3\u30D74: \u30AB\u30FC\u30C8\u3092\u4F5C\u6210\u3059\u308B\n */\nexport async function createCart(lineItems: Array<{\n  variantId: string;\n  quantity: number;\n  customAttributes?: Array<{ key: string; value: string }>;\n}>) {\n  const mutation = `\n    mutation createCart($input: CartInput!) {\n      cartCreate(input: $input) {\n        cart {\n          id\n          checkoutUrl\n          estimatedCost {\n            totalAmount {\n              amount\n              currencyCode\n            }\n          }\n          lines(first: 10) {\n            edges {\n              node {\n                id\n                quantity\n                merchandise {\n                  ... on ProductVariant {\n                    id\n                    title\n                    product {\n                      title\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n        userErrors {\n          field\n          message\n        }\n      }\n    }\n  `;\n\n  const variables = {\n    input: {\n      lines: lineItems.map(item => ({\n        merchandiseId: item.variantId,\n        quantity: item.quantity,\n        attributes: item.customAttributes,\n      })),\n    },\n  };\n\n  const data = await shopifyFetch({ query: mutation, variables });\n  return data.cartCreate;\n}\n\n/**\n * \u30B9\u30C6\u30C3\u30D75: \u30AB\u30B9\u30BF\u30E0T\u30B7\u30E3\u30C4\u3092\u30AB\u30FC\u30C8\u306B\u8FFD\u52A0\n * @param designImageUrl - \u30C7\u30B6\u30A4\u30F3\u753B\u50CF\u306EURL\n * @param productVariantId - T\u30B7\u30E3\u30C4\u306E\u30D0\u30EA\u30A2\u30F3\u30C8ID\n */\nexport async function addCustomTshirtToCart(\n  designImageUrl: string,\n  designImageUrlHD: string,\n  productVariantId: string = \"gid://shopify/ProductVariant/48602131661024\"\n) {\n  return await createCart([\n    {\n      variantId: productVariantId,\n      quantity: 1,\n      customAttributes: [\n        { key: \"design_image\", value: designImageUrl },\n        { key: \"design_image_hd\", value: designImageUrlHD },\n      ],\n    },\n  ]);\n}\n\n/**\n * \u30B9\u30C6\u30C3\u30D76: AI\u751F\u6210\u753B\u50CF\u3067\u30AB\u30B9\u30BF\u30E0T\u30B7\u30E3\u30C4\u3092\u30AB\u30FC\u30C8\u306B\u8FFD\u52A0\n */\nexport async function addAIGeneratedTshirtToCart(\n  designImageUrl: string,\n  designImageUrlHD: string,\n  prompt: string,\n  productVariantId: string = \"gid://shopify/ProductVariant/48602131661024\"\n) {\n  return await createCart([\n    {\n      variantId: productVariantId,\n      quantity: 1,\n      customAttributes: [\n        { key: \"design_image\", value: designImageUrl },\n        { key: \"design_image_hd\", value: designImageUrlHD },\n        { key: \"ai_prompt\", value: prompt },\n      ],\n    },\n  ]);\n}\n\n/**\n * \u30B9\u30C6\u30C3\u30D77: \u5546\u54C1\u4E00\u89A7\u3092\u53D6\u5F97\n */\nexport async function getProducts(first: number = 10) {\n  const query = `\n    query getProducts($first: Int!) {\n      products(first: $first) {\n        edges {\n          node {\n            id\n            title\n            description\n            variants(first: 10) {\n              edges {\n                node {\n                  id\n                  title\n                  priceV2 {\n                    amount\n                    currencyCode\n                  }\n                }\n              }\n            }\n            images(first: 1) {\n              edges {\n                node {\n                  url\n                  altText\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  `;\n\n  const data = await shopifyFetch({ query, variables: { first } });\n  return data.products;\n}\n", "/**\n * Cloudinary\u7F72\u540D\u4ED8\u304D\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u7528\u306E\u7F72\u540D\u751F\u6210API\n */\n\nimport { json, type ActionFunctionArgs } from \"@remix-run/node\";\nimport { v2 as cloudinary } from \"cloudinary\";\n\n// Cloudinary\u8A2D\u5B9A\ncloudinary.config({\n  cloud_name: process.env.CLOUDINARY_CLOUD_NAME,\n  api_key: process.env.CLOUDINARY_API_KEY,\n  api_secret: process.env.CLOUDINARY_API_SECRET,\n});\n\nexport async function action({ request }: ActionFunctionArgs) {\n  if (request.method === \"OPTIONS\") {\n    return new Response(null, {\n      status: 204,\n      headers: {\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"POST, OPTIONS\",\n        \"Access-Control-Allow-Headers\": \"Content-Type\",\n      },\n    });\n  }\n\n  try {\n    const body = await request.json();\n    const { folder = \"tshirt-designs\" } = body;\n\n    // \u74B0\u5883\u5909\u6570\u306E\u78BA\u8A8D\n    console.log('Cloudinary\u8A2D\u5B9A\u78BA\u8A8D:', {\n      cloudName: process.env.CLOUDINARY_CLOUD_NAME,\n      apiKeyExists: !!process.env.CLOUDINARY_API_KEY,\n      apiSecretExists: !!process.env.CLOUDINARY_API_SECRET,\n    });\n\n    // \u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u30D1\u30E9\u30E1\u30FC\u30BF\uFF08\u7F72\u540D\u306B\u542B\u3081\u308B\u30D1\u30E9\u30E1\u30FC\u30BF\u306E\u307F\uFF09\n    const timestamp = Math.round(new Date().getTime() / 1000);\n    const params = {\n      timestamp,\n      folder,\n    };\n\n    console.log('\u7F72\u540D\u751F\u6210\u30D1\u30E9\u30E1\u30FC\u30BF:', params);\n\n    // \u7F72\u540D\u3092\u751F\u6210\n    const signature = cloudinary.utils.api_sign_request(\n      params,\n      process.env.CLOUDINARY_API_SECRET!\n    );\n\n    console.log('\u7F72\u540D\u751F\u6210\u6210\u529F');\n\n    // \u7F72\u540D\u3068\u30D1\u30E9\u30E1\u30FC\u30BF\u3092\u8FD4\u3059\n    return json({\n      success: true,\n      signature,\n      timestamp,\n      cloudName: process.env.CLOUDINARY_CLOUD_NAME,\n      apiKey: process.env.CLOUDINARY_API_KEY,\n      folder,\n    });\n  } catch (error) {\n    console.error(\"\u7F72\u540D\u751F\u6210\u30A8\u30E9\u30FC:\", error);\n    return json(\n      {\n        success: false,\n        error: error instanceof Error ? error.message : \"\u7F72\u540D\u306E\u751F\u6210\u306B\u5931\u6557\u3057\u307E\u3057\u305F\",\n      },\n      { status: 500 }\n    );\n  }\n}\n", "/**\n * AI\u753B\u50CF\u751F\u6210API\u30A8\u30F3\u30C9\u30DD\u30A4\u30F3\u30C8\n */\n\nimport { json, type ActionFunctionArgs } from \"@remix-run/node\";\nimport { generateImage } from \"~/lib/replicate.server\";\n\n// \u30B9\u30C6\u30C3\u30D71: POST\u30EA\u30AF\u30A8\u30B9\u30C8\u3092\u51E6\u7406\nexport async function action({ request }: ActionFunctionArgs) {\n  // CORS\u5BFE\u5FDC\n  if (request.method === \"OPTIONS\") {\n    return new Response(null, {\n      status: 204,\n      headers: {\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"POST, OPTIONS\",\n        \"Access-Control-Allow-Headers\": \"Content-Type\",\n      },\n    });\n  }\n\n  try {\n    // \u30B9\u30C6\u30C3\u30D72: \u30EA\u30AF\u30A8\u30B9\u30C8\u30DC\u30C7\u30A3\u304B\u3089\u30D1\u30E9\u30E1\u30FC\u30BF\u3092\u53D6\u5F97\n    const body = await request.json();\n    const { prompt, width, height, negativePrompt } = body;\n\n    // \u30B9\u30C6\u30C3\u30D73: \u30D7\u30ED\u30F3\u30D7\u30C8\u306E\u30D0\u30EA\u30C7\u30FC\u30B7\u30E7\u30F3\n    if (!prompt || prompt.trim().length === 0) {\n      return json(\n        { error: \"\u30D7\u30ED\u30F3\u30D7\u30C8\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\" },\n        { status: 400 }\n      );\n    }\n\n    // \u30B9\u30C6\u30C3\u30D74: Replicate API\u3067\u753B\u50CF\u751F\u6210\n    const imageUrl = await generateImage(prompt, {\n      width: width || 1024,\n      height: height || 1024,\n      negativePrompt: negativePrompt || \"blurry, low quality, distorted\",\n    });\n\n    // \u30B9\u30C6\u30C3\u30D75: \u751F\u6210\u3055\u308C\u305F\u753B\u50CFURL\u3092\u8FD4\u3059\n    return json({\n      success: true,\n      imageUrl: imageUrl,\n      prompt: prompt,\n    });\n  } catch (error) {\n    console.error(\"AI\u753B\u50CF\u751F\u6210\u30A8\u30E9\u30FC:\", error);\n    return json(\n      {\n        success: false,\n        error: error instanceof Error ? error.message : \"\u753B\u50CF\u751F\u6210\u306B\u5931\u6557\u3057\u307E\u3057\u305F\",\n      },\n      { status: 500 }\n    );\n  }\n}\n", "/**\n * Replicate AI\u753B\u50CF\u751F\u6210API\u7D71\u5408\n */\n\nimport Replicate from \"replicate\";\n\n// \u30B9\u30C6\u30C3\u30D71: Replicate\u30AF\u30E9\u30A4\u30A2\u30F3\u30C8\u306E\u521D\u671F\u5316\nconst replicate = new Replicate({\n  auth: process.env.REPLICATE_API_TOKEN || \"\",\n});\n\n/**\n * \u30B9\u30C6\u30C3\u30D72: AI\u753B\u50CF\u751F\u6210\uFF08Stable Diffusion\u7CFB\u30E2\u30C7\u30EB\uFF09\n * @param prompt - \u751F\u6210\u3057\u305F\u3044\u753B\u50CF\u306E\u8AAC\u660E\n * @param options - \u8FFD\u52A0\u30AA\u30D7\u30B7\u30E7\u30F3\n */\nexport async function generateImage(\n  prompt: string,\n  options: {\n    width?: number;\n    height?: number;\n    negativePrompt?: string;\n    numOutputs?: number;\n  } = {}\n) {\n  try {\n    const {\n      width = 1024,\n      height = 1024,\n      negativePrompt = \"blurry, low quality, distorted, ugly\",\n      numOutputs = 1,\n    } = options;\n\n    console.log(\"AI\u753B\u50CF\u751F\u6210\u3092\u958B\u59CB:\", prompt);\n\n    // \u30B9\u30C6\u30C3\u30D73: Stable Diffusion XL\u3067\u753B\u50CF\u751F\u6210\n    // \u6CE8: \u30E2\u30C7\u30EB\u540D\u306F\u6700\u65B0\u306E\u3082\u306E\u306B\u5909\u66F4\u3057\u3066\u304F\u3060\u3055\u3044\n    const output = await replicate.run(\n      \"stability-ai/sdxl:39ed52f2a78e934b3ba6e2a89f5b1c712de7dfea535525255b1aa35c5565e08b\",\n      {\n        input: {\n          prompt: prompt,\n          negative_prompt: negativePrompt,\n          width: width,\n          height: height,\n          num_outputs: numOutputs,\n          scheduler: \"K_EULER\",\n          num_inference_steps: 50,\n          guidance_scale: 7.5,\n        },\n      }\n    );\n\n    console.log(\"AI\u753B\u50CF\u751F\u6210\u304C\u5B8C\u4E86\u3057\u307E\u3057\u305F\");\n\n    // \u51FA\u529B\u306F\u914D\u5217\u3067\u8FD4\u3055\u308C\u308B\u306E\u3067\u3001\u6700\u521D\u306E\u753B\u50CF\u3092\u8FD4\u3059\n    return Array.isArray(output) ? output[0] : output;\n  } catch (error) {\n    console.error(\"Replicate AI Error:\", error);\n    throw new Error(\"AI\u753B\u50CF\u751F\u6210\u306B\u5931\u6557\u3057\u307E\u3057\u305F\");\n  }\n}\n\n/**\n * \u30B9\u30C6\u30C3\u30D74: \u80CC\u666F\u524A\u9664AI\n * @param imageUrl - \u80CC\u666F\u3092\u524A\u9664\u3057\u305F\u3044\u753B\u50CF\u306EURL\n */\nexport async function removeBackground(imageUrl: string) {\n  try {\n    console.log(\"\u80CC\u666F\u524A\u9664\u3092\u958B\u59CB:\", imageUrl);\n\n    const output = await replicate.run(\n      \"cjwbw/rembg:fb8af171cfa1616ddcf1242c093f9c46bcada5ad4cf6f2fbe8b81b330ec5c003\",\n      {\n        input: {\n          image: imageUrl,\n        },\n      }\n    );\n\n    console.log(\"\u80CC\u666F\u524A\u9664\u304C\u5B8C\u4E86\u3057\u307E\u3057\u305F\");\n    return output;\n  } catch (error) {\n    console.error(\"Background Removal Error:\", error);\n    throw new Error(\"\u80CC\u666F\u524A\u9664\u306B\u5931\u6557\u3057\u307E\u3057\u305F\");\n  }\n}\n\n/**\n * \u30B9\u30C6\u30C3\u30D75: \u753B\u50CF\u306E\u30B9\u30BF\u30A4\u30EB\u5909\u63DB\n * @param imageUrl - \u5909\u63DB\u3057\u305F\u3044\u753B\u50CF\u306EURL\n * @param style - \u9069\u7528\u3059\u308B\u30B9\u30BF\u30A4\u30EB\n */\nexport async function applyStyle(\n  imageUrl: string,\n  style: \"anime\" | \"oil-painting\" | \"watercolor\" | \"sketch\"\n) {\n  try {\n    console.log(`\u30B9\u30BF\u30A4\u30EB\u5909\u63DB\u3092\u958B\u59CB: ${style}`);\n\n    // \u30B9\u30BF\u30A4\u30EB\u306B\u5FDC\u3058\u305F\u30D7\u30ED\u30F3\u30D7\u30C8\u3092\u751F\u6210\n    const stylePrompts = {\n      anime: \"anime style, vibrant colors, manga art\",\n      \"oil-painting\": \"oil painting, classical art, rich textures\",\n      watercolor: \"watercolor painting, soft colors, artistic\",\n      sketch: \"pencil sketch, black and white, hand drawn\",\n    };\n\n    const output = await replicate.run(\n      \"tencentarc/gfpgan:0fbacf7afc6c144e5be9767cff80f25aff23e52b0708f17e20f9879b2f21516c\",\n      {\n        input: {\n          img: imageUrl,\n          version: \"v1.4\",\n          scale: 2,\n        },\n      }\n    );\n\n    console.log(\"\u30B9\u30BF\u30A4\u30EB\u5909\u63DB\u304C\u5B8C\u4E86\u3057\u307E\u3057\u305F\");\n    return output;\n  } catch (error) {\n    console.error(\"Style Transfer Error:\", error);\n    throw new Error(\"\u30B9\u30BF\u30A4\u30EB\u5909\u63DB\u306B\u5931\u6557\u3057\u307E\u3057\u305F\");\n  }\n}\n\n/**\n * \u30B9\u30C6\u30C3\u30D76: \u9AD8\u753B\u8CEA\u5316\uFF08\u30A2\u30C3\u30D7\u30B9\u30B1\u30FC\u30EA\u30F3\u30B0\uFF09\n * @param imageUrl - \u9AD8\u753B\u8CEA\u5316\u3057\u305F\u3044\u753B\u50CF\u306EURL\n */\nexport async function upscaleImage(imageUrl: string) {\n  try {\n    console.log(\"\u753B\u50CF\u306E\u9AD8\u753B\u8CEA\u5316\u3092\u958B\u59CB\");\n\n    const output = await replicate.run(\n      \"nightmareai/real-esrgan:42fed1c4974146d4d2414e2be2c5277c7fcf05fcc3a73abf41610695738c1d7b\",\n      {\n        input: {\n          image: imageUrl,\n          scale: 4,\n          face_enhance: false,\n        },\n      }\n    );\n\n    console.log(\"\u753B\u50CF\u306E\u9AD8\u753B\u8CEA\u5316\u304C\u5B8C\u4E86\u3057\u307E\u3057\u305F\");\n    return output;\n  } catch (error) {\n    console.error(\"Upscale Error:\", error);\n    throw new Error(\"\u753B\u50CF\u306E\u9AD8\u753B\u8CEA\u5316\u306B\u5931\u6557\u3057\u307E\u3057\u305F\");\n  }\n}\n", "/**\n * \u753B\u50CF\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9API\u30A8\u30F3\u30C9\u30DD\u30A4\u30F3\u30C8\n * Base64\u753B\u50CF\u3092Cloudinary\u306B\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\n */\n\nimport { json, type ActionFunctionArgs } from \"@remix-run/node\";\nimport { v2 as cloudinary } from \"cloudinary\";\n\n// Cloudinary\u8A2D\u5B9A\ncloudinary.config({\n  cloud_name: process.env.CLOUDINARY_CLOUD_NAME,\n  api_key: process.env.CLOUDINARY_API_KEY,\n  api_secret: process.env.CLOUDINARY_API_SECRET,\n});\n\nexport async function action({ request }: ActionFunctionArgs) {\n  if (request.method === \"OPTIONS\") {\n    return new Response(null, {\n      status: 204,\n      headers: {\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"POST, OPTIONS\",\n        \"Access-Control-Allow-Headers\": \"Content-Type\",\n      },\n    });\n  }\n\n  try {\n    let body;\n    try {\n      body = await request.json();\n    } catch (parseError) {\n      console.error(\"JSON\u30D1\u30FC\u30B9\u30A8\u30E9\u30FC:\", parseError);\n      return json(\n        { \n          success: false,\n          error: \"\u30EA\u30AF\u30A8\u30B9\u30C8\u30DC\u30C7\u30A3\u306E\u89E3\u6790\u306B\u5931\u6557\u3057\u307E\u3057\u305F\u3002\u753B\u50CF\u30B5\u30A4\u30BA\u304C\u5927\u304D\u3059\u304E\u308B\u53EF\u80FD\u6027\u304C\u3042\u308A\u307E\u3059\u3002\" \n        },\n        { status: 413 } // Payload Too Large\n      );\n    }\n\n    const { imageData } = body;\n\n    if (!imageData) {\n      return json(\n        { success: false, error: \"\u753B\u50CF\u30C7\u30FC\u30BF\u304C\u6307\u5B9A\u3055\u308C\u3066\u3044\u307E\u305B\u3093\" },\n        { status: 400 }\n      );\n    }\n\n    // \u30C7\u30FC\u30BF\u30B5\u30A4\u30BA\u3092\u30ED\u30B0\u51FA\u529B\n    const sizeInMB = (imageData.length / (1024 * 1024)).toFixed(2);\n    console.log(`\u753B\u50CF\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u958B\u59CB - \u30B5\u30A4\u30BA: ${sizeInMB}MB`);\n    \n    if (parseFloat(sizeInMB) > 15) {\n      console.error(\"\u30D5\u30A1\u30A4\u30EB\u30B5\u30A4\u30BA\u304C\u5927\u304D\u3059\u304E\u307E\u3059:\", sizeInMB, \"MB\");\n      return json(\n        { \n          success: false,\n          error: `\u753B\u50CF\u30B5\u30A4\u30BA\u304C\u5927\u304D\u3059\u304E\u307E\u3059 (${sizeInMB}MB)\u300210MB\u4EE5\u4E0B\u306B\u3057\u3066\u304F\u3060\u3055\u3044\u3002` \n        },\n        { status: 413 }\n      );\n    }\n\n    // Cloudinary\u306BBase64\u753B\u50CF\u3092\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\n    const uploadResult = await cloudinary.uploader.upload(imageData, {\n      folder: \"tshirt-designs\", // Cloudinary\u306E\u30D5\u30A9\u30EB\u30C0\u540D\n      resource_type: \"image\",\n      format: \"png\", // PNG\u5F62\u5F0F\u3092\u7DAD\u6301\uFF08\u80CC\u666F\u900F\u904E\u306E\u305F\u3081\uFF09\n      transformation: [\n        { quality: \"auto:best\" }, // \u81EA\u52D5\u54C1\u8CEA\u6700\u9069\u5316\n        { fetch_format: \"auto\" }, // \u6700\u9069\u306A\u30D5\u30A9\u30FC\u30DE\u30C3\u30C8\u3092\u81EA\u52D5\u9078\u629E\uFF08\u900F\u904E\u4FDD\u6301\uFF09\n      ],\n      timeout: 120000, // \u30BF\u30A4\u30E0\u30A2\u30A6\u30C8\u3092120\u79D2\u306B\u5EF6\u9577\n    });\n\n    console.log('\u753B\u50CF\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u6210\u529F:', uploadResult.secure_url);\n\n    // \u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u3055\u308C\u305F\u753B\u50CF\u306EURL\u3092\u8FD4\u3059\n    return json({\n      success: true,\n      imageUrl: uploadResult.secure_url,\n      publicId: uploadResult.public_id,\n    });\n  } catch (error) {\n    console.error(\"\u753B\u50CF\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u30A8\u30E9\u30FC:\", error);\n    \n    // \u30A8\u30E9\u30FC\u306E\u8A73\u7D30\u3092\u30ED\u30B0\u51FA\u529B\n    if (error instanceof Error) {\n      console.error(\"\u30A8\u30E9\u30FC\u30E1\u30C3\u30BB\u30FC\u30B8:\", error.message);\n      console.error(\"\u30A8\u30E9\u30FC\u30B9\u30BF\u30C3\u30AF:\", error.stack);\n    }\n    \n    return json(\n      {\n        success: false,\n        error: error instanceof Error ? error.message : \"\u753B\u50CF\u306E\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u306B\u5931\u6557\u3057\u307E\u3057\u305F\",\n      },\n      { status: 500 }\n    );\n  }\n}\n", "/**\n * \u30AB\u30FC\u30C8\u8FFD\u52A0API\u30A8\u30F3\u30C9\u30DD\u30A4\u30F3\u30C8\n */\n\nimport { json, type ActionFunctionArgs } from \"@remix-run/node\";\nimport { addCustomTshirtToCart, addAIGeneratedTshirtToCart } from \"~/lib/shopify.server\";\n\n// \u30B9\u30C6\u30C3\u30D71: POST\u30EA\u30AF\u30A8\u30B9\u30C8\u3092\u51E6\u7406\nexport async function action({ request }: ActionFunctionArgs) {\n  if (request.method === \"OPTIONS\") {\n    return new Response(null, {\n      status: 204,\n      headers: {\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"POST, OPTIONS\",\n        \"Access-Control-Allow-Headers\": \"Content-Type\",\n      },\n    });\n  }\n\n  try {\n    // \u30B9\u30C6\u30C3\u30D72: \u30EA\u30AF\u30A8\u30B9\u30C8\u30DC\u30C7\u30A3\u304B\u3089\u30D1\u30E9\u30E1\u30FC\u30BF\u3092\u53D6\u5F97\n    const body = await request.json();\n    const { variantId, quantity, customAttributes, designImageUrl, designImageUrlHD, isAIGenerated, aiPrompt, productVariantId } = body;\n\n    // \u65B0\u5F62\u5F0F\uFF08customAttributes\uFF09\u3068\u65E7\u5F62\u5F0F\uFF08designImageUrl\uFF09\u306E\u4E21\u65B9\u306B\u5BFE\u5FDC\n    let finalDesignImageUrl = designImageUrl;\n    let finalDesignImageUrlHD = designImageUrlHD;\n    let finalVariantId = productVariantId || variantId;\n\n    if (customAttributes && Array.isArray(customAttributes)) {\n      // customAttributes\u5F62\u5F0F\u306E\u5834\u5408\n      const designImageAttr = customAttributes.find((attr: any) => attr.key === \"design_image\");\n      const designImageHDAttr = customAttributes.find((attr: any) => attr.key === \"design_image_hd\");\n      \n      if (designImageAttr) finalDesignImageUrl = designImageAttr.value;\n      if (designImageHDAttr) finalDesignImageUrlHD = designImageHDAttr.value;\n    }\n\n    // \u30B9\u30C6\u30C3\u30D73: \u30C7\u30B6\u30A4\u30F3\u753B\u50CF\u306E\u30D0\u30EA\u30C7\u30FC\u30B7\u30E7\u30F3\n    if (!finalDesignImageUrl) {\n      return json(\n        { error: \"\u30C7\u30B6\u30A4\u30F3\u753B\u50CF\u304C\u6307\u5B9A\u3055\u308C\u3066\u3044\u307E\u305B\u3093\" },\n        { status: 400 }\n      );\n    }\n\n    // URL\u306E\u9577\u3055\u3092\u30C1\u30A7\u30C3\u30AF\uFF08Shopify\u306E\u30AB\u30B9\u30BF\u30E0\u5C5E\u6027\u306F\u6700\u5927255\u6587\u5B57\uFF09\n    console.log(\"Design Image URL length:\", finalDesignImageUrl.length);\n    if (finalDesignImageUrlHD) {\n      console.log(\"Design Image HD URL length:\", finalDesignImageUrlHD.length);\n    }\n\n    if (finalDesignImageUrl.length > 255) {\n      return json(\n        { error: `\u30C7\u30B6\u30A4\u30F3\u753B\u50CFURL\u304C\u9577\u3059\u304E\u307E\u3059\uFF08${finalDesignImageUrl.length}\u6587\u5B57\u3001\u6700\u5927255\u6587\u5B57\uFF09` },\n        { status: 400 }\n      );\n    }\n\n    if (finalDesignImageUrlHD && finalDesignImageUrlHD.length > 255) {\n      return json(\n        { error: `HD\u753B\u50CFURL\u304C\u9577\u3059\u304E\u307E\u3059\uFF08${finalDesignImageUrlHD.length}\u6587\u5B57\u3001\u6700\u5927255\u6587\u5B57\uFF09` },\n        { status: 400 }\n      );\n    }\n\n    // \u30B9\u30C6\u30C3\u30D74: \u30AB\u30FC\u30C8\u306B\u8FFD\u52A0\n    let result;\n    if (isAIGenerated && aiPrompt) {\n      // AI\u751F\u6210\u753B\u50CF\u306E\u5834\u5408\n      result = await addAIGeneratedTshirtToCart(\n        finalDesignImageUrl,\n        finalDesignImageUrlHD,\n        aiPrompt,\n        finalVariantId\n      );\n    } else {\n      // \u901A\u5E38\u306E\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u753B\u50CF\u306E\u5834\u5408\n      result = await addCustomTshirtToCart(finalDesignImageUrl, finalDesignImageUrlHD, finalVariantId);\n    }\n\n    // \u30B9\u30C6\u30C3\u30D75: \u30A8\u30E9\u30FC\u30C1\u30A7\u30C3\u30AF\n    if (result.userErrors && result.userErrors.length > 0) {\n      console.error(\"Shopify userErrors:\", result.userErrors);\n      return json(\n        {\n          success: false,\n          error: result.userErrors[0].message,\n          details: result.userErrors,\n        },\n        { status: 400 }\n      );\n    }\n\n    // \u30B9\u30C6\u30C3\u30D76: \u30C1\u30A7\u30C3\u30AF\u30A2\u30A6\u30C8URL\u3092\u8FD4\u3059\n    return json({\n      success: true,\n      checkoutUrl: result.cart.checkoutUrl,\n      cartId: result.cart.id,\n    });\n  } catch (error) {\n    console.error(\"\u30AB\u30FC\u30C8\u8FFD\u52A0\u30A8\u30E9\u30FC:\", error);\n    return json(\n      {\n        success: false,\n        error: error instanceof Error ? error.message : \"\u30AB\u30FC\u30C8\u3078\u306E\u8FFD\u52A0\u306B\u5931\u6557\u3057\u307E\u3057\u305F\",\n      },\n      { status: 500 }\n    );\n  }\n}\n", "/**\n * \u30AB\u30B9\u30BF\u30DE\u30A4\u30BA\u30DA\u30FC\u30B8\uFF08\u5546\u54C1\u9078\u629E\u5F8C\uFF09\n */\n\nimport type { MetaFunction, LoaderFunctionArgs } from \"@remix-run/node\";\nimport { json } from \"@remix-run/node\";\nimport { useLoaderData, Link } from \"@remix-run/react\";\nimport TShirtCustomizer from \"~/components/TShirtCustomizer\";\nimport { getProductById } from \"~/lib/products\";\n\nexport const meta: MetaFunction = () => {\n  return [\n    { title: \"\u30C7\u30B6\u30A4\u30F3\u30AB\u30B9\u30BF\u30DE\u30A4\u30BA | PrintAIze\" },\n    {\n      name: \"description\",\n      content: \"AI\u3067\u753B\u50CF\u751F\u6210\u3082\u53EF\u80FD\uFF01\u81EA\u5206\u3060\u3051\u306E\u30AA\u30EA\u30B8\u30CA\u30EB\u30C7\u30B6\u30A4\u30F3\u3092\u4F5C\u6210\u3057\u3088\u3046\uFF01\",\n    },\n  ];\n};\n\nexport async function loader({ request }: LoaderFunctionArgs) {\n  const url = new URL(request.url);\n  const productId = url.searchParams.get(\"product\");\n\n  if (!productId) {\n    throw new Response(\"\u5546\u54C1\u304C\u9078\u629E\u3055\u308C\u3066\u3044\u307E\u305B\u3093\", { status: 400 });\n  }\n\n  const product = getProductById(productId);\n\n  if (!product) {\n    throw new Response(\"\u5546\u54C1\u304C\u898B\u3064\u304B\u308A\u307E\u305B\u3093\", { status: 404 });\n  }\n\n  return json({ product });\n}\n\nexport default function Customize() {\n  const { product } = useLoaderData<typeof loader>();\n\n  return (\n    <div\n      style={{\n        fontFamily: \"system-ui, sans-serif\",\n        minHeight: \"100vh\",\n        backgroundColor: \"#f5f5f5\",\n      }}\n    >\n      {/* \u30D8\u30C3\u30C0\u30FC */}\n      <header\n        style={{\n          background: \"linear-gradient(135deg, #667eea 0%, #764ba2 100%)\",\n          color: \"white\",\n          padding: \"20px\",\n          boxShadow: \"0 4px 6px rgba(0,0,0,0.1)\",\n        }}\n      >\n        <div style={{ maxWidth: \"1600px\", margin: \"0 auto\", display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\n          <div>\n            <h1 style={{ margin: 0, fontSize: \"24px\", fontWeight: \"bold\" }}>\n              \uD83C\uDFA8 {product.name}\n            </h1>\n            <p style={{ margin: \"5px 0 0\", opacity: 0.95, fontSize: \"14px\" }}>\n              {product.description}\n            </p>\n          </div>\n          <Link\n            to=\"/\"\n            style={{\n              backgroundColor: \"rgba(255,255,255,0.2)\",\n              color: \"white\",\n              padding: \"10px 20px\",\n              borderRadius: \"8px\",\n              textDecoration: \"none\",\n              fontSize: \"14px\",\n              fontWeight: \"600\",\n              border: \"2px solid rgba(255,255,255,0.3)\",\n              transition: \"all 0.2s\",\n            }}\n            onMouseEnter={(e) => {\n              e.currentTarget.style.backgroundColor = \"rgba(255,255,255,0.3)\";\n            }}\n            onMouseLeave={(e) => {\n              e.currentTarget.style.backgroundColor = \"rgba(255,255,255,0.2)\";\n            }}\n          >\n            \u2190 \u5546\u54C1\u3092\u5909\u66F4\n          </Link>\n        </div>\n      </header>\n\n      {/* \u30E1\u30A4\u30F3\u30B3\u30F3\u30C6\u30F3\u30C4 */}\n      <main style={{ padding: \"20px 0\" }}>\n        <TShirtCustomizer product={product} />\n      </main>\n\n      {/* \u30D5\u30C3\u30BF\u30FC */}\n      <footer\n        style={{\n          background: \"linear-gradient(135deg, #434343 0%, #000000 100%)\",\n          color: \"white\",\n          padding: \"30px 20px\",\n          textAlign: \"center\",\n          marginTop: \"60px\",\n        }}\n      >\n        <div style={{ maxWidth: \"1600px\", margin: \"0 auto\" }}>\n          <p style={{ margin: 0, opacity: 0.8 }}>\n            \u00A9 2026 PrintAIze | Powered by AI & Shopify\n          </p>\n        </div>\n      </footer>\n    </div>\n  );\n}\n", "/**\n * T\u30B7\u30E3\u30C4\u30AB\u30B9\u30BF\u30DE\u30A4\u30B6\u30FC\u30B3\u30F3\u30DD\u30FC\u30CD\u30F3\u30C8\uFF08\u5B8C\u5168\u7248\uFF09\n * - \u753B\u50CF\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\uFF06\u7DE8\u96C6\n * - AI\u753B\u50CF\u751F\u6210\uFF08Replicate\uFF09\n * - \u30C6\u30AD\u30B9\u30C8\u8FFD\u52A0\uFF06\u7DE8\u96C6\n * - \u30D5\u30A3\u30EB\u30BF\u30FC\u9069\u7528\n * - \u5C65\u6B74\u7BA1\u7406\uFF08\u5143\u306B\u623B\u3059/\u3084\u308A\u76F4\u3057\uFF09\n * - Shopify\u30AB\u30FC\u30C8\u306B\u8FFD\u52A0\n */\n\nimport { useEffect, useRef, useState } from \"react\";\nimport type { Product } from \"~/lib/products\";\n\ninterface TShirtCustomizerProps {\n  product: Product;\n}\n\n// SVG\u30A2\u30A4\u30B3\u30F3\u30B3\u30F3\u30DD\u30FC\u30CD\u30F3\u30C8\nconst Icon = ({ type, size = 20, color = \"currentColor\" }: { type: string; size?: number; color?: string }) => {\n  const icons: { [key: string]: JSX.Element } = {\n    clipboard: (\n      <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\">\n        <path d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\"/>\n      </svg>\n    ),\n    check: (\n      <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\">\n        <path d=\"M5 13l4 4L19 7\"/>\n      </svg>\n    ),\n    warning: (\n      <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\">\n        <path d=\"M12 9v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"/>\n      </svg>\n    ),\n    info: (\n      <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\">\n        <circle cx=\"12\" cy=\"12\" r=\"10\"/><path d=\"M12 16v-4m0-4h.01\"/>\n      </svg>\n    ),\n    lightbulb: (\n      <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\">\n        <path d=\"M9 21h6m-6 0v-2m6 2v-2m-9-7a6 6 0 1112 0c0 3.31-2.31 6-5 8H9c-2.69-2-5-4.69-5-8z\"/>\n      </svg>\n    ),\n    cart: (\n      <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\">\n        <circle cx=\"9\" cy=\"21\" r=\"1\"/><circle cx=\"20\" cy=\"21\" r=\"1\"/>\n        <path d=\"M1 1h4l2.68 13.39a2 2 0 002 1.61h9.72a2 2 0 002-1.61L23 6H6\"/>\n      </svg>\n    ),\n    save: (\n      <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\">\n        <path d=\"M19 21H5a2 2 0 01-2-2V5a2 2 0 012-2h11l5 5v11a2 2 0 01-2 2z\"/>\n        <path d=\"M17 21v-8H7v8M7 3v5h8\"/>\n      </svg>\n    ),\n    refresh: (\n      <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\">\n        <path d=\"M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0118.8-4.3M22 12.5a10 10 0 01-18.8 4.2\"/>\n      </svg>\n    ),\n    loading: (\n      <svg \n        width={size} \n        height={size} \n        viewBox=\"0 0 24 24\" \n        fill=\"none\" \n        stroke={color} \n        strokeWidth=\"2\"\n        style={{\n          animation: 'spin 1s linear infinite',\n        }}\n      >\n        <circle \n          cx=\"12\" \n          cy=\"12\" \n          r=\"10\" \n          strokeDasharray=\"60\" \n          strokeDashoffset=\"40\"\n        />\n        <style>{`\n          @keyframes spin {\n            from {\n              transform: rotate(0deg);\n            }\n            to {\n              transform: rotate(360deg);\n            }\n          }\n        `}</style>\n      </svg>\n    ),\n    image: (\n      <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\">\n        <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"/>\n        <circle cx=\"8.5\" cy=\"8.5\" r=\"1.5\"/><path d=\"M21 15l-5-5L5 21\"/>\n      </svg>\n    ),\n    text: (\n      <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\">\n        <path d=\"M4 7V4h16v3M9 20h6M12 4v16\"/>\n      </svg>\n    ),\n    palette: (\n      <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\">\n        <circle cx=\"13.5\" cy=\"6.5\" r=\".5\"/><circle cx=\"17.5\" cy=\"10.5\" r=\".5\"/>\n        <circle cx=\"8.5\" cy=\"7.5\" r=\".5\"/><circle cx=\"6.5\" cy=\"12.5\" r=\".5\"/>\n        <path d=\"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 011.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z\"/>\n      </svg>\n    ),\n    trash: (\n      <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\">\n        <path d=\"M3 6h18m-2 0v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2\"/>\n      </svg>\n    ),\n    plus: (\n      <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\">\n        <path d=\"M12 5v14m-7-7h14\"/>\n      </svg>\n    ),\n    robot: (\n      <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\">\n        <rect x=\"3\" y=\"11\" width=\"18\" height=\"10\" rx=\"2\"/><circle cx=\"12\" cy=\"5\" r=\"2\"/>\n        <path d=\"M12 7v4m-4 5h.01M16 16h.01\"/>\n      </svg>\n    ),\n    camera: (\n      <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\">\n        <path d=\"M23 19a2 2 0 01-2 2H3a2 2 0 01-2-2V8a2 2 0 012-2h4l2-3h6l2 3h4a2 2 0 012 2z\"/>\n        <circle cx=\"12\" cy=\"13\" r=\"4\"/>\n      </svg>\n    ),\n    upload: (\n      <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\">\n        <path d=\"M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4m14-7l-5-5-5 5m5-5v12\"/>\n      </svg>\n    ),\n    zoomIn: (\n      <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\">\n        <path d=\"M21 3l-9 9m0 0v-6m0 6h6\"/>\n        <path d=\"M3 21l9-9m0 0v6m0-6H6\"/>\n      </svg>\n    ),\n    zoomOut: (\n      <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\">\n        <path d=\"M15 9l6-6m0 0h-6m6 0v6\"/>\n        <path d=\"M9 15l-6 6m0 0h6m-6 0v-6\"/>\n      </svg>\n    ),\n  };\n  \n  return <span style={{ display: 'inline-flex', alignItems: 'center', verticalAlign: 'middle' }}>{icons[type] || null}</span>;\n};\n\n// \u30D5\u30A9\u30F3\u30C8\u30EA\u30B9\u30C8\u5B9A\u7FA9\uFF08Google Fonts\u65E5\u672C\u8A9E\u30D5\u30A9\u30F3\u30C8\u5168\u7A2E + \u82F1\u8A9E\u30D5\u30A9\u30F3\u30C8\uFF09\nconst FONT_LIST = [\n  // \u65E5\u672C\u8A9E\u30D5\u30A9\u30F3\u30C8 - Google Fonts\n  { value: \"Noto Sans JP\", label: \"Noto Sans JP\", family: \"'Noto Sans JP', sans-serif\", type: \"japanese\" },\n  { value: \"Noto Serif JP\", label: \"Noto Serif JP\", family: \"'Noto Serif JP', serif\", type: \"japanese\" },\n  { value: \"BIZ UDPGothic\", label: \"BIZ UDP\u30B4\u30B7\u30C3\u30AF\", family: \"'BIZ UDPGothic', sans-serif\", type: \"japanese\" },\n  { value: \"BIZ UDPMincho\", label: \"BIZ UDP\u660E\u671D\", family: \"'BIZ UDPMincho', serif\", type: \"japanese\" },\n  { value: \"M PLUS 1p\", label: \"M PLUS 1p\", family: \"'M PLUS 1p', sans-serif\", type: \"japanese\" },\n  { value: \"M PLUS 2\", label: \"M PLUS 2\", family: \"'M PLUS 2', sans-serif\", type: \"japanese\" },\n  { value: \"M PLUS Rounded 1c\", label: \"M PLUS Rounded 1c\", family: \"'M PLUS Rounded 1c', sans-serif\", type: \"japanese\" },\n  { value: \"Murecho\", label: \"Murecho\", family: \"'Murecho', sans-serif\", type: \"japanese\" },\n  { value: \"Zen Maru Gothic\", label: \"Zen Maru Gothic\", family: \"'Zen Maru Gothic', sans-serif\", type: \"japanese\" },\n  { value: \"Zen Kaku Gothic New\", label: \"Zen Kaku Gothic New\", family: \"'Zen Kaku Gothic New', sans-serif\", type: \"japanese\" },\n  { value: \"Zen Kaku Gothic Antique\", label: \"Zen Kaku Gothic Antique\", family: \"'Zen Kaku Gothic Antique', sans-serif\", type: \"japanese\" },\n  { value: \"Zen Old Mincho\", label: \"Zen Old Mincho\", family: \"'Zen Old Mincho', serif\", type: \"japanese\" },\n  { value: \"Zen Kurenaido\", label: \"Zen Kurenaido\", family: \"'Zen Kurenaido', sans-serif\", type: \"japanese\" },\n  { value: \"Zen Antique\", label: \"Zen Antique\", family: \"'Zen Antique', serif\", type: \"japanese\" },\n  { value: \"Zen Antique Soft\", label: \"Zen Antique Soft\", family: \"'Zen Antique Soft', serif\", type: \"japanese\" },\n  { value: \"Kosugi\", label: \"Kosugi\", family: \"'Kosugi', sans-serif\", type: \"japanese\" },\n  { value: \"Kosugi Maru\", label: \"Kosugi Maru\", family: \"'Kosugi Maru', sans-serif\", type: \"japanese\" },\n  { value: \"Sawarabi Mincho\", label: \"Sawarabi Mincho\", family: \"'Sawarabi Mincho', serif\", type: \"japanese\" },\n  { value: \"Sawarabi Gothic\", label: \"Sawarabi Gothic\", family: \"'Sawarabi Gothic', sans-serif\", type: \"japanese\" },\n  { value: \"Klee One\", label: \"Klee One\", family: \"'Klee One', cursive\", type: \"japanese\" },\n  { value: \"Shippori Mincho\", label: \"Shippori Mincho\", family: \"'Shippori Mincho', serif\", type: \"japanese\" },\n  { value: \"Shippori Antique\", label: \"Shippori Antique\", family: \"'Shippori Antique', sans-serif\", type: \"japanese\" },\n  { value: \"Shippori Antique B1\", label: \"Shippori Antique B1\", family: \"'Shippori Antique B1', sans-serif\", type: \"japanese\" },\n  { value: \"Yusei Magic\", label: \"Yusei Magic\", family: \"'Yusei Magic', sans-serif\", type: \"japanese\" },\n  { value: \"Yomogi\", label: \"Yomogi\", family: \"'Yomogi', cursive\", type: \"japanese\" },\n  { value: \"Dela Gothic One\", label: \"\u30C7\u30E9\u30B4\u30B7\u30C3\u30AF\", family: \"'Dela Gothic One', sans-serif\", type: \"japanese\" },\n  { value: \"DotGothic16\", label: \"\u30C9\u30C3\u30C8\u30B4\u30B7\u30C3\u30AF16\", family: \"'DotGothic16', sans-serif\", type: \"japanese\" },\n  { value: \"Hina Mincho\", label: \"\u3072\u306A\u660E\u671D\", family: \"'Hina Mincho', serif\", type: \"japanese\" },\n  { value: \"Kaisei Decol\", label: \"\u89E3\u661F\u30C7\u30B3\u30FC\u30EB\", family: \"'Kaisei Decol', serif\", type: \"japanese\" },\n  { value: \"Kaisei HarunoUmi\", label: \"Kaisei HarunoUmi\", family: \"'Kaisei HarunoUmi', serif\", type: \"japanese\" },\n  { value: \"Kaisei Tokumin\", label: \"Kaisei Tokumin\", family: \"'Kaisei Tokumin', serif\", type: \"japanese\" },\n  { value: \"Kaisei Opti\", label: \"Kaisei Opti\", family: \"'Kaisei Opti', serif\", type: \"japanese\" },\n  { value: \"Kiwi Maru\", label: \"\u30AD\u30A6\u30A4\u4E38\", family: \"'Kiwi Maru', sans-serif\", type: \"japanese\" },\n  { value: \"Reggae One\", label: \"Reggae One\", family: \"'Reggae One', cursive\", type: \"japanese\" },\n  { value: \"RocknRoll One\", label: \"RocknRoll One\", family: \"'RocknRoll One', sans-serif\", type: \"japanese\" },\n  { value: \"Potta One\", label: \"Potta One\", family: \"'Potta One', cursive\", type: \"japanese\" },\n  { value: \"Train One\", label: \"Train One\", family: \"'Train One', cursive\", type: \"japanese\" },\n  { value: \"Rampart One\", label: \"Rampart One\", family: \"'Rampart One', cursive\", type: \"japanese\" },\n  { value: \"Stick\", label: \"Stick\", family: \"'Stick', sans-serif\", type: \"japanese\" },\n  { value: \"Mochiy Pop One\", label: \"Mochiy Pop One\", family: \"'Mochiy Pop One', sans-serif\", type: \"japanese\" },\n  { value: \"Mochiy Pop P One\", label: \"Mochiy Pop P One\", family: \"'Mochiy Pop P One', sans-serif\", type: \"japanese\" },\n  { value: \"New Tegomin\", label: \"New Tegomin\", family: \"'New Tegomin', serif\", type: \"japanese\" },\n  { value: \"Hachi Maru Pop\", label: \"Hachi Maru Pop\", family: \"'Hachi Maru Pop', sans-serif\", type: \"japanese\" },\n  { value: \"Otomanopee One\", label: \"Otomanopee One\", family: \"'Otomanopee One', sans-serif\", type: \"japanese\" },\n  { value: \"Shirokuma\", label: \"Shirokuma\", family: \"'Shirokuma', cursive\", type: \"japanese\" },\n  { value: \"Slackkey\", label: \"Slackkey\", family: \"'Slackkey', cursive\", type: \"japanese\" },\n  { value: \"Cherry Bomb One\", label: \"Cherry Bomb One\", family: \"'Cherry Bomb One', cursive\", type: \"japanese\" },\n  { value: \"Monomaniac One\", label: \"Monomaniac One\", family: \"'Monomaniac One', sans-serif\", type: \"japanese\" },\n  { value: \"Palette Mosaic\", label: \"Palette Mosaic\", family: \"'Palette Mosaic', cursive\", type: \"japanese\" },\n  { value: \"Yuji Syuku\", label: \"Yuji Syuku\", family: \"'Yuji Syuku', serif\", type: \"japanese\" },\n  { value: \"Yuji Boku\", label: \"Yuji Boku\", family: \"'Yuji Boku', serif\", type: \"japanese\" },\n  { value: \"Yuji Mai\", label: \"Yuji Mai\", family: \"'Yuji Mai', serif\", type: \"japanese\" },\n  // \u30B7\u30B9\u30C6\u30E0\u30D5\u30A9\u30F3\u30C8\uFF08\u65E5\u672C\u8A9E\uFF09\n  { value: \"Hiragino Kaku Gothic ProN\", label: \"\u30D2\u30E9\u30AE\u30CE\u89D2\u30B4\u30B7\u30C3\u30AF\", family: \"'Hiragino Kaku Gothic ProN', sans-serif\", type: \"japanese\" },\n  { value: \"Yu Gothic\", label: \"\u6E38\u30B4\u30B7\u30C3\u30AF\", family: \"'Yu Gothic', sans-serif\", type: \"japanese\" },\n  { value: \"Meiryo\", label: \"\u30E1\u30A4\u30EA\u30AA\", family: \"Meiryo, sans-serif\", type: \"japanese\" },\n  // \u82F1\u8A9E\u30D5\u30A9\u30F3\u30C8\n  { value: \"Arial\", label: \"Arial\", family: \"Arial, sans-serif\", type: \"english\" },\n  { value: \"Helvetica\", label: \"Helvetica\", family: \"Helvetica, sans-serif\", type: \"english\" },\n  { value: \"Times New Roman\", label: \"Times New Roman\", family: \"'Times New Roman', serif\", type: \"english\" },\n  { value: \"Georgia\", label: \"Georgia\", family: \"Georgia, serif\", type: \"english\" },\n  { value: \"Courier New\", label: \"Courier New\", family: \"'Courier New', monospace\", type: \"english\" },\n  { value: \"Verdana\", label: \"Verdana\", family: \"Verdana, sans-serif\", type: \"english\" },\n  { value: \"Trebuchet MS\", label: \"Trebuchet MS\", family: \"'Trebuchet MS', sans-serif\", type: \"english\" },\n  { value: \"Comic Sans MS\", label: \"Comic Sans MS\", family: \"'Comic Sans MS', cursive\", type: \"english\" },\n  { value: \"Impact\", label: \"Impact\", family: \"Impact, sans-serif\", type: \"english\" },\n  { value: \"Palatino\", label: \"Palatino\", family: \"Palatino, serif\", type: \"english\" },\n  { value: \"Garamond\", label: \"Garamond\", family: \"Garamond, serif\", type: \"english\" },\n];\n\nexport default function TShirtCustomizer({ product }: TShirtCustomizerProps) {\n  // ========== \u30B9\u30C6\u30C3\u30D71: \u72B6\u614B\u7BA1\u7406 ==========\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const fabricCanvasRef = useRef<any>(null);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  \n  // \u753B\u50CF\u95A2\u9023\n  const [uploadedImages, setUploadedImages] = useState<string[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isFabricReady, setIsFabricReady] = useState(false);\n  const [showCopyrightModal, setShowCopyrightModal] = useState(false);\n  const [copyrightAgreed, setCopyrightAgreed] = useState(false);\n  const [imageQualityWarning, setImageQualityWarning] = useState<string | null>(null);\n  const pendingImageRef = useRef<File | null>(null);\n  const [fabricLoaded, setFabricLoaded] = useState(false);\n  \n  // AI\u751F\u6210\u95A2\u9023\n  const [aiPrompt, setAiPrompt] = useState(\"\");\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [lastAIPrompt, setLastAIPrompt] = useState(\"\");\n  const [generatedImageUrl, setGeneratedImageUrl] = useState(\"\");\n  \n  // \u30C6\u30AD\u30B9\u30C8\u95A2\u9023\n  const [textInput, setTextInput] = useState(\"\");\n  const [textColor, setTextColor] = useState(\"#000000\");\n  const [fontSize, setFontSize] = useState(40);\n  const [fontFamily, setFontFamily] = useState(\"Noto Sans JP\");\n  const firstTextObjectRef = useRef<any>(null); // \u521D\u56DE\u306E\u30C6\u30AD\u30B9\u30C8\u30AA\u30D6\u30B8\u30A7\u30AF\u30C8\u3092\u8FFD\u8DE1\n  const [isFontDropdownOpen, setIsFontDropdownOpen] = useState(false);\n  const [selectedObject, setSelectedObject] = useState<any>(null);\n  const [activeFontTab, setActiveFontTab] = useState<\"japanese\" | \"english\">(\"japanese\"); // \u30D5\u30A9\u30F3\u30C8\u30BF\u30D6\u306E\u72B6\u614B\n  \n  // \u5C65\u6B74\u7BA1\u7406\n  const historyRef = useRef<string[]>([]);\n  const historyStepRef = useRef<number>(0);\n  const [canUndo, setCanUndo] = useState(false);\n  const [canRedo, setCanRedo] = useState(false);\n  const isHistoryInitializedRef = useRef<boolean>(false); // \u5C65\u6B74\u521D\u671F\u5316\u30D5\u30E9\u30B0\uFF08ref\u3067\u7BA1\u7406\uFF09\n  const isLoadingHistoryRef = useRef<boolean>(false); // undo/redo\u5B9F\u884C\u4E2D\u30D5\u30E9\u30B0\n  \n  // \u30AB\u30FC\u30C8\u95A2\u9023\n  const [isAddingToCart, setIsAddingToCart] = useState(false);\n  const [loadingMessage, setLoadingMessage] = useState(\"\");\n  \n  // \u30E2\u30FC\u30C0\u30EB\u95A2\u9023\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [modalColor, setModalColor] = useState(product.colors[0].name);\n  // \u30AB\u30E9\u30FC\u3054\u3068\u306B\u500B\u6570\u3092\u4FDD\u6301\n  const [modalQuantities, setModalQuantities] = useState<{ [color: string]: { [size: string]: number } }>(() => {\n    const initial: { [color: string]: { [size: string]: number } } = {};\n    product.colors.forEach(color => {\n      initial[color.name] = {\n        S: 0,\n        M: color.name === product.colors[0].name ? 1 : 0, // \u6700\u521D\u306E\u30AB\u30E9\u30FC\u306E\u307FM\u30921\u306B\n        L: 0,\n        XL: 0,\n        XXL: 0,\n      };\n    });\n    return initial;\n  });\n  \n  // \u5546\u54C1\u9078\u629E\u95A2\u9023\n  const [selectedColor, setSelectedColor] = useState(product.colors[0]);\n  const [selectedSize, setSelectedSize] = useState<string>(\"M\");\n  \n  const sizes = [\"S\", \"M\", \"L\", \"XL\", \"XXL\"];\n\n  // \u30EC\u30B9\u30DD\u30F3\u30B7\u30D6\u5BFE\u5FDC\n  const [isMobile, setIsMobile] = useState(false);\n  \n  // \u30BA\u30FC\u30E0\u8868\u793A\u72B6\u614B\n  const [isZoomed, setIsZoomed] = useState(false);\n  \n  // \u30BA\u30FC\u30E0\u6642\u306EESC\u30AD\u30FC\u30CF\u30F3\u30C9\u30E9\u30FC\n  useEffect(() => {\n    const handleEscape = (e: KeyboardEvent) => {\n      if (e.key === 'Escape' && isZoomed) {\n        setIsZoomed(false);\n      }\n    };\n    \n    if (isZoomed) {\n      document.addEventListener('keydown', handleEscape);\n      // \u30BA\u30FC\u30E0\u6642\u306Fbody\u306E\u30B9\u30AF\u30ED\u30FC\u30EB\u3092\u7121\u52B9\u5316\n      document.body.style.overflow = 'hidden';\n    }\n    \n    return () => {\n      document.removeEventListener('keydown', handleEscape);\n      document.body.style.overflow = 'auto';\n    };\n  }, [isZoomed]);\n\n  useEffect(() => {\n    const checkMobile = () => {\n      setIsMobile(window.innerWidth < 768);\n    };\n    \n    checkMobile();\n    window.addEventListener('resize', checkMobile);\n    \n    return () => window.removeEventListener('resize', checkMobile);\n  }, []);\n\n  // \u30D5\u30A9\u30F3\u30C8\u30C9\u30ED\u30C3\u30D7\u30C0\u30A6\u30F3\u7528\u306Eref\n  const fontDropdownRef = useRef<HTMLDivElement>(null);\n\n  // \u30D5\u30A9\u30F3\u30C8\u30C9\u30ED\u30C3\u30D7\u30C0\u30A6\u30F3\u306E\u5916\u5074\u30AF\u30EA\u30C3\u30AF\u3067\u9589\u3058\u308B\n  useEffect(() => {\n    const handleClickOutside = (e: MouseEvent) => {\n      if (isFontDropdownOpen && fontDropdownRef.current && !fontDropdownRef.current.contains(e.target as Node)) {\n        setIsFontDropdownOpen(false);\n      }\n    };\n\n    if (isFontDropdownOpen) {\n      document.addEventListener('click', handleClickOutside);\n    }\n\n    return () => {\n      document.removeEventListener('click', handleClickOutside);\n    };\n  }, [isFontDropdownOpen]);\n\n  // \u30AB\u30E9\u30FC\u306B\u57FA\u3065\u3044\u3066\u5546\u54C1\u753B\u50CF\u306E\u30D1\u30B9\u3092\u751F\u6210\n  const getCurrentMockupImage = () => {\n    // \u30AB\u30E9\u30FC\u540D\u304B\u3089\u753B\u50CF\u30D5\u30A1\u30A4\u30EB\u540D\u3092\u6C7A\u5B9A\n    const colorSlug = \n      selectedColor.name === '\u30DB\u30EF\u30A4\u30C8' || selectedColor.name === '\u30AA\u30D5\u30DB\u30EF\u30A4\u30C8' \n        ? 'white' \n        : 'black';\n    return `/images/products/${product.id}-${colorSlug}.png`;\n  };\n\n  // \u30D7\u30EA\u30F3\u30C8\u7BC4\u56F2\u3092\u8A08\u7B97\uFF08mm \u2192 px\u5909\u63DB\uFF09\n  const getPrintAreaInPixels = (canvasSize: number) => {\n    // \u5546\u54C1\u3054\u3068\u306B\u30D7\u30EA\u30F3\u30C8\u7BC4\u56F2\u306E\u30B9\u30B1\u30FC\u30EB\u3092\u8ABF\u6574\n    let baseScale = 0.6; // \u30C7\u30D5\u30A9\u30EB\u30C8: \u30AD\u30E3\u30F3\u30D0\u30B9\u306E60%\n    let topOffset = 0; // \u30C7\u30D5\u30A9\u30EB\u30C8: \u30AA\u30D5\u30BB\u30C3\u30C8\u306A\u3057\n    \n    // T\u30B7\u30E3\u30C4\u7CFB\uFF1A\u5143\u306E\u67A0\u7DDA\u306E60%\u306B\u7E2E\u5C0F\uFF080.6 * 0.6 = 0.36\uFF09+ \u4E0A\u306B20px\u79FB\u52D5\n    // \u30D1\u30FC\u30AB\u30FC\uFF1A\u5143\u306E\u67A0\u7DDA\u306E40%\u306B\u7E2E\u5C0F\uFF080.6 * 0.4 = 0.24\uFF09\n    if (product.id === 'box-tshirt-short' || product.id === 'box-tshirt-long' || product.id === 'sweatshirt') {\n      baseScale = 0.36;\n      topOffset = -20; // \u4E0A\u306B20\u30D4\u30AF\u30BB\u30EB\u79FB\u52D5\n    } else if (product.id === 'hoodie') {\n      baseScale = 0.24; // 40%\u306B\u7E2E\u5C0F\n      topOffset = 0; // \u4E2D\u592E\u914D\u7F6E\n    }\n    \n    const scale = canvasSize * baseScale;\n    const ratio = product.printAreaWidth / product.printAreaHeight;\n    \n    let width, height;\n    if (ratio > 1) {\n      // \u6A2A\u9577\n      width = scale;\n      height = scale / ratio;\n    } else {\n      // \u7E26\u9577\n      height = scale;\n      width = scale * ratio;\n    }\n    \n    return {\n      width: Math.round(width),\n      height: Math.round(height),\n      left: Math.round((canvasSize - width) / 2),\n      top: Math.round((canvasSize - height) / 2) + topOffset,\n    };\n  };\n\n  // ========== \u30B9\u30C6\u30C3\u30D71.5: Fabric.js\u8AAD\u307F\u8FBC\u307F\u5F85\u6A5F ==========\n  useEffect(() => {\n    // Fabric.js\u304C\u30B0\u30ED\u30FC\u30D0\u30EB\u306B\u8AAD\u307F\u8FBC\u307E\u308C\u308B\u307E\u3067\u5F85\u3064\n    const checkFabric = setInterval(() => {\n      if (typeof window !== 'undefined' && typeof (window as any).fabric !== 'undefined') {\n        setFabricLoaded(true);\n        clearInterval(checkFabric);\n      }\n    }, 100);\n\n    // \u30BF\u30A4\u30E0\u30A2\u30A6\u30C8\uFF0810\u79D2\u5F8C\uFF09\n    const timeout = setTimeout(() => {\n      clearInterval(checkFabric);\n      if (!fabricLoaded) {\n        console.error('Fabric.js\u306E\u8AAD\u307F\u8FBC\u307F\u306B\u5931\u6557\u3057\u307E\u3057\u305F');\n      }\n    }, 10000);\n\n    return () => {\n      clearInterval(checkFabric);\n      clearTimeout(timeout);\n    };\n  }, []);\n\n  // ========== \u30B9\u30C6\u30C3\u30D72: Fabric.js\u30AD\u30E3\u30F3\u30D0\u30B9\u521D\u671F\u5316 ==========\n  useEffect(() => {\n    if (!canvasRef.current || !fabricLoaded || typeof (window as any).fabric === 'undefined') {\n      return;\n    }\n    \n    const fabricLib = (window as any).fabric;\n\n    // \u30AD\u30E3\u30F3\u30D0\u30B9\u30B5\u30A4\u30BA\u306F\u56FA\u5B9A\uFF08800x800\uFF09- CSS transform\u3067\u30B9\u30B1\u30FC\u30EA\u30F3\u30B0\n    const canvasSize = 800;\n    \n    // \u30AD\u30E3\u30F3\u30D0\u30B9\u3092\u4F5C\u6210\n    const canvas = new fabricLib.Canvas(canvasRef.current, {\n      width: canvasSize,\n      height: canvasSize,\n      backgroundColor: \"#f5f5f5\",\n      selection: true,\n      preserveObjectStacking: true, // \u9078\u629E\u6642\u306Bz-order\u3092\u5909\u66F4\u3057\u306A\u3044\n    });\n\n    fabricCanvasRef.current = canvas;\n    setIsFabricReady(true);\n\n    // \u30AB\u30B9\u30BF\u30E0\u524A\u9664\u30B3\u30F3\u30C8\u30ED\u30FC\u30EB\u3092\u8FFD\u52A0\n    const deleteIcon = \"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E%3Csvg version='1.1' id='Ebene_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='595.275px' height='595.275px' viewBox='200 215 230 470' xml:space='preserve'%3E%3Ccircle style='fill:%23F44336;' cx='299.76' cy='439.067' r='218.516'/%3E%3Cg%3E%3Crect x='267.162' y='307.978' transform='matrix(0.7071 -0.7071 0.7071 0.7071 -222.6202 340.6915)' style='fill:white;' width='65.545' height='262.18'/%3E%3Crect x='266.988' y='308.153' transform='matrix(0.7071 0.7071 -0.7071 0.7071 398.3889 -83.3116)' style='fill:white;' width='65.544' height='262.179'/%3E%3C/g%3E%3C/svg%3E\";\n    \n    const deleteControl = new fabricLib.Control({\n      x: 0.5,\n      y: -0.5,\n      offsetY: -16,\n      offsetX: 16,\n      cursorStyle: 'pointer',\n      mouseUpHandler: (eventData: any, transform: any) => {\n        const target = transform.target;\n        if (target && target.name !== 'printArea') {\n          // \u30C6\u30AD\u30B9\u30C8\u30AA\u30D6\u30B8\u30A7\u30AF\u30C8\u306E\u53C2\u7167\u3092\u30AF\u30EA\u30A2\n          if (firstTextObjectRef.current === target) {\n            firstTextObjectRef.current = null;\n            setTextInput(\"\");\n          }\n          \n          // \u30AA\u30D6\u30B8\u30A7\u30AF\u30C8\u3092\u524A\u9664\u3057\u3066\u521D\u671F\u72B6\u614B\u306B\u5B8C\u5168\u30EA\u30BB\u30C3\u30C8\n          canvas.remove(target);\n          canvas.renderAll();\n          setSelectedObject(null);\n          setIsLoading(false);\n          \n          // \u5C65\u6B74\u3092\u521D\u671F\u72B6\u614B\u306B\u30EA\u30BB\u30C3\u30C8\uFF08\u3084\u308A\u76F4\u3057\u3092\u7121\u52B9\u5316\uFF09\n          const initialState = historyRef.current[0];\n          historyRef.current = [initialState];\n          historyStepRef.current = 0;\n          updateHistoryButtons();\n        }\n        return true;\n      },\n      render: (ctx: CanvasRenderingContext2D, left: number, top: number, styleOverride: any, fabricObject: any) => {\n        const size = 24;\n        ctx.save();\n        ctx.translate(left, top);\n        ctx.rotate(fabricLib.util.degreesToRadians(fabricObject.angle || 0));\n        ctx.drawImage(deleteImg, -size / 2, -size / 2, size, size);\n        ctx.restore();\n      },\n      cornerSize: 24\n    });\n\n    // \u524A\u9664\u30A2\u30A4\u30B3\u30F3\u753B\u50CF\u3092\u8AAD\u307F\u8FBC\u3080\n    const deleteImg = document.createElement('img');\n    deleteImg.src = deleteIcon;\n\n    // \u3059\u3079\u3066\u306E\u30AA\u30D6\u30B8\u30A7\u30AF\u30C8\u306B\u524A\u9664\u30B3\u30F3\u30C8\u30ED\u30FC\u30EB\u3092\u8FFD\u52A0\n    fabricLib.Object.prototype.controls.deleteControl = deleteControl;\n\n    const mockupImageUrl = getCurrentMockupImage();\n\n    // \u5546\u54C1\u753B\u50CF\u3092\u8AAD\u307F\u8FBC\u3093\u3067\u30AD\u30E3\u30F3\u30D0\u30B9100%\u3067\u8868\u793A\uFF08\u4F59\u767D\u306A\u3057\uFF09\n    fabricLib.Image.fromURL(\n      mockupImageUrl,\n      (img: any) => {\n        if (!img || !img.width) {\n          console.error('Failed to load image:', mockupImageUrl);\n          return;\n        }\n\n        // \u30AD\u30E3\u30F3\u30D0\u30B9\u5168\u4F53\u306B\u30D5\u30A3\u30C3\u30C8\u3059\u308B\u3088\u3046\u30B9\u30B1\u30FC\u30EB\u3092\u8A08\u7B97\n        const scaleX = canvas.width! / (img.width || 1);\n        const scaleY = canvas.height! / (img.height || 1);\n        const scale = Math.min(scaleX, scaleY) * 0.95; // \u4F59\u767D\u3092\u5C11\u3057\u6B8B\u3057\u306695%\u8868\u793A\n        \n        img.scale(scale);\n        \n        // \u4E2D\u592E\u914D\u7F6E\n        img.set({\n          left: canvas.width! / 2,\n          top: canvas.height! / 2,\n          originX: 'center',\n          originY: 'center',\n          selectable: false,\n          evented: false,\n        });\n        \n        // \u80CC\u666F\u753B\u50CF\u306B\u306F\u524A\u9664\u30DC\u30BF\u30F3\u3092\u8868\u793A\u3057\u306A\u3044\n        img.setControlsVisibility({\n          deleteControl: false,\n        });\n\n        canvas.setBackgroundImage(img, canvas.renderAll.bind(canvas));\n        \n        // \u30D7\u30EA\u30F3\u30C8\u7BC4\u56F2\u306E\u77E9\u5F62\u3092\u63CF\u753B\uFF08\u70B9\u7DDA\uFF09\n        const printArea = getPrintAreaInPixels(canvasSize);\n        \n        // \u5546\u54C1\u306E\u8272\u306B\u5FDC\u3058\u3066\u70B9\u7DDA\u306E\u8272\u3092\u6C7A\u5B9A\n        const getPrintAreaStrokeColor = () => {\n          const colorName = selectedColor.name.toLowerCase();\n          if (colorName.includes('\u30D6\u30E9\u30C3\u30AF') || colorName.includes('black')) {\n            return 'white'; // \u30D6\u30E9\u30C3\u30AF\u306E\u6642\u306F\u767D\n          } else {\n            return '#000000'; // \u30DB\u30EF\u30A4\u30C8\u306E\u6642\u306F\u9ED2\n          }\n        };\n        \n        const printRect = new fabricLib.Rect({\n          left: printArea.left,\n          top: printArea.top,\n          width: printArea.width,\n          height: printArea.height,\n          fill: 'transparent',\n          stroke: getPrintAreaStrokeColor(),\n          strokeWidth: 0.25,\n          strokeDashArray: [2, 2], // 2pt\u7DDA\u5206\u306E\u7834\u7DDA\n          selectable: false,\n          evented: false,\n          name: 'printArea', // \u8B58\u5225\u7528\n        });\n        // \u30D7\u30EA\u30F3\u30C8\u7BC4\u56F2\u306E\u67A0\u306B\u306F\u524A\u9664\u30DC\u30BF\u30F3\u3092\u8868\u793A\u3057\u306A\u3044\n        printRect.setControlsVisibility({\n          deleteControl: false,\n        });\n        canvas.add(printRect);\n        \n        // \u521D\u671F\u72B6\u614B\u3092\u5C65\u6B74\u3068\u3057\u3066\u4FDD\u5B58\uFF08\u3053\u306E\u6642\u70B9\u3067\u306F\u300C\u5143\u306B\u623B\u3059\u300D\u306F\u7121\u52B9\uFF09\n        setTimeout(() => {\n          if (!isHistoryInitializedRef.current) {\n            const json = JSON.stringify(canvas.toJSON(['selectable', 'evented', 'name']));\n            historyRef.current = [json];\n            historyStepRef.current = 0;\n            isHistoryInitializedRef.current = true; // \u5C65\u6B74\u521D\u671F\u5316\u5B8C\u4E86\n            updateHistoryButtons();\n            console.log('\u521D\u671F\u5316\u5B8C\u4E86 - \u5C65\u6B74\u4FDD\u5B58\u304C\u6709\u52B9\u306B\u306A\u308A\u307E\u3057\u305F');\n          }\n        }, 100);\n      },\n      { crossOrigin: \"anonymous\" }\n    );\n\n    // \u30D7\u30EA\u30F3\u30C8\u7BC4\u56F2\u306E\u5883\u754C\u3092\u53D6\u5F97\n    const printArea = getPrintAreaInPixels(canvasSize);\n\n    // \u753B\u50CF\u306E\u79FB\u52D5\u30FB\u30B9\u30B1\u30FC\u30EB\u30FB\u56DE\u8EE2\u5236\u9650\uFF08\u7BC4\u56F2\u5185\u306B\u53CE\u3081\u308B\uFF09\n    canvas.on(\"object:moving\", (e: any) => {\n      const obj = e.target;\n      if (!obj || obj.name === 'printArea') return;\n\n      // Shift\u30AD\u30FC\u3067\u307E\u3063\u3059\u3050\u79FB\u52D5\uFF08Adobe\u98A8\uFF09\n      if (e.e && e.e.shiftKey) {\n        // \u79FB\u52D5\u958B\u59CB\u4F4D\u7F6E\u3092\u8A18\u9332\uFF08\u521D\u56DE\u306E\u307F\uFF09\n        if (!obj._movingStart) {\n          obj._movingStart = { x: obj.left, y: obj.top };\n        }\n        \n        // \u79FB\u52D5\u91CF\u3092\u8A08\u7B97\n        const dx = Math.abs(obj.left - obj._movingStart.x);\n        const dy = Math.abs(obj.top - obj._movingStart.y);\n        \n        // \u3088\u308A\u5927\u304D\u306A\u79FB\u52D5\u65B9\u5411\u306B\u56FA\u5B9A\n        if (dx > dy) {\n          // \u6C34\u5E73\u65B9\u5411\u306B\u56FA\u5B9A\n          obj.top = obj._movingStart.y;\n        } else {\n          // \u5782\u76F4\u65B9\u5411\u306B\u56FA\u5B9A\n          obj.left = obj._movingStart.x;\n        }\n      } else {\n        // Shift\u30AD\u30FC\u304C\u62BC\u3055\u308C\u3066\u3044\u306A\u3044\u5834\u5408\u306F\u8A18\u9332\u3092\u30AF\u30EA\u30A2\n        obj._movingStart = null;\n      }\n\n      // \u5883\u754C\u30DC\u30C3\u30AF\u30B9\u3092\u53D6\u5F97\uFF08absolute\u5EA7\u6A19\uFF09\n      obj.setCoords();\n      const objBounds = obj.getBoundingRect(true);\n      \n      // \u5DE6\u7AEF\u5236\u9650\n      if (objBounds.left < printArea.left) {\n        obj.left += (printArea.left - objBounds.left);\n      }\n      // \u53F3\u7AEF\u5236\u9650\n      if (objBounds.left + objBounds.width > printArea.left + printArea.width) {\n        obj.left -= ((objBounds.left + objBounds.width) - (printArea.left + printArea.width));\n      }\n      // \u4E0A\u7AEF\u5236\u9650\n      if (objBounds.top < printArea.top) {\n        obj.top += (printArea.top - objBounds.top);\n      }\n      // \u4E0B\u7AEF\u5236\u9650\n      if (objBounds.top + objBounds.height > printArea.top + printArea.height) {\n        obj.top -= ((objBounds.top + objBounds.height) - (printArea.top + printArea.height));\n      }\n    });\n\n    // \u30B9\u30B1\u30FC\u30EB\u5236\u9650\uFF08\u4F4D\u7F6E\u8ABF\u6574\u3067\u7BC4\u56F2\u5185\u306B\u53CE\u3081\u308B - \u6ED1\u3089\u304B\uFF09\n    canvas.on(\"object:scaling\", (e: any) => {\n      const obj = e.target;\n      if (!obj || obj.name === 'printArea') return;\n\n      obj.setCoords();\n      const objBounds = obj.getBoundingRect(true);\n      \n      // \u7BC4\u56F2\u5916\u306B\u306A\u3063\u305F\u5834\u5408\u3001\u4F4D\u7F6E\u3092\u8ABF\u6574\u3057\u3066\u7BC4\u56F2\u5185\u306B\u53CE\u3081\u308B\n      if (objBounds.left < printArea.left) {\n        obj.left += (printArea.left - objBounds.left);\n      }\n      if (objBounds.top < printArea.top) {\n        obj.top += (printArea.top - objBounds.top);\n      }\n      if (objBounds.left + objBounds.width > printArea.left + printArea.width) {\n        obj.left -= ((objBounds.left + objBounds.width) - (printArea.left + printArea.width));\n      }\n      if (objBounds.top + objBounds.height > printArea.top + printArea.height) {\n        obj.top -= ((objBounds.top + objBounds.height) - (printArea.top + printArea.height));\n      }\n    });\n\n\n    // \u56DE\u8EE2\u5236\u9650\uFF08\u4F4D\u7F6E\u8ABF\u6574\u3067\u7BC4\u56F2\u5185\u306B\u53CE\u3081\u308B - \u6ED1\u3089\u304B\uFF09\n    canvas.on(\"object:rotating\", (e: any) => {\n      const obj = e.target;\n      if (!obj || obj.name === 'printArea') return;\n\n      // Shift\u30AD\u30FC\u306715\u5EA6\u5358\u4F4D\u306B\u30B9\u30CA\u30C3\u30D7\uFF08Adobe\u98A8\uFF09\n      if (e.e && e.e.shiftKey) {\n        const snapAngle = 15; // 15\u5EA6\u5358\u4F4D\n        obj.angle = Math.round(obj.angle / snapAngle) * snapAngle;\n      }\n\n      obj.setCoords();\n      const objBounds = obj.getBoundingRect(true);\n      \n      // \u7BC4\u56F2\u5916\u306B\u306A\u3063\u305F\u5834\u5408\u3001\u4F4D\u7F6E\u3092\u8ABF\u6574\u3057\u3066\u7BC4\u56F2\u5185\u306B\u53CE\u3081\u308B\n      if (objBounds.left < printArea.left) {\n        obj.left += (printArea.left - objBounds.left);\n      }\n      if (objBounds.top < printArea.top) {\n        obj.top += (printArea.top - objBounds.top);\n      }\n      if (objBounds.left + objBounds.width > printArea.left + printArea.width) {\n        obj.left -= ((objBounds.left + objBounds.width) - (printArea.left + printArea.width));\n      }\n      if (objBounds.top + objBounds.height > printArea.top + printArea.height) {\n        obj.top -= ((objBounds.top + objBounds.height) - (printArea.top + printArea.height));\n      }\n    });\n\n    // \u30A4\u30D9\u30F3\u30C8\u30EA\u30B9\u30CA\u30FC\u8A2D\u5B9A\n    canvas.on(\"selection:created\", (e: any) => setSelectedObject(e.selected?.[0] || null));\n    canvas.on(\"selection:updated\", (e: any) => setSelectedObject(e.selected?.[0] || null));\n    canvas.on(\"selection:cleared\", () => setSelectedObject(null));\n    canvas.on(\"object:modified\", (e: any) => {\n      const obj = e.target;\n      \n      // Shift\u79FB\u52D5\u306E\u8A18\u9332\u3092\u30AF\u30EA\u30A2\n      if (obj && obj._movingStart) {\n        obj._movingStart = null;\n      }\n      \n      // \u30C6\u30AD\u30B9\u30C8\u30AA\u30D6\u30B8\u30A7\u30AF\u30C8\u306E\u5834\u5408\u3001\u30D5\u30A9\u30F3\u30C8\u30B5\u30A4\u30BA\u3092\u81EA\u52D5\u8ABF\u6574\n      if (obj && obj.type === \"i-text\") {\n        adjustTextSizeToFitPrintArea(obj);\n      }\n      \n      // \u64CD\u4F5C\u5B8C\u4E86\u5F8C\u306B\u7BC4\u56F2\u30C1\u30A7\u30C3\u30AF - \u306F\u307F\u51FA\u3057\u3066\u3044\u305F\u3089\u7BC4\u56F2\u5185\u306B\u53CE\u3081\u308B\n      if (obj && obj.name !== 'printArea') {\n        obj.setCoords();\n        const objBounds = obj.getBoundingRect(true);\n        \n        let needsAdjustment = false;\n        \n        // \u7BC4\u56F2\u5916\u30C1\u30A7\u30C3\u30AF\n        if (objBounds.left < printArea.left ||\n            objBounds.top < printArea.top ||\n            objBounds.left + objBounds.width > printArea.left + printArea.width ||\n            objBounds.top + objBounds.height > printArea.top + printArea.height) {\n          \n          // \u30AA\u30D6\u30B8\u30A7\u30AF\u30C8\u304C\u5927\u304D\u3059\u304E\u308B\u5834\u5408\u306F\u30B9\u30B1\u30FC\u30EB\u3092\u7E2E\u5C0F\n          const maxWidth = printArea.width;\n          const maxHeight = printArea.height;\n          \n          if (objBounds.width > maxWidth || objBounds.height > maxHeight) {\n            const scaleX = maxWidth / objBounds.width;\n            const scaleY = maxHeight / objBounds.height;\n            const scale = Math.min(scaleX, scaleY); // 100%\uFF08\u3074\u3063\u305F\u308A\uFF09\n            \n            obj.scaleX! *= scale;\n            obj.scaleY! *= scale;\n            needsAdjustment = true;\n          }\n          \n          // \u4F4D\u7F6E\u3092\u8ABF\u6574\n          obj.setCoords();\n          const newBounds = obj.getBoundingRect(true);\n          \n          if (newBounds.left < printArea.left) {\n            obj.left += (printArea.left - newBounds.left);\n            needsAdjustment = true;\n          }\n          if (newBounds.top < printArea.top) {\n            obj.top += (printArea.top - newBounds.top);\n            needsAdjustment = true;\n          }\n          if (newBounds.left + newBounds.width > printArea.left + printArea.width) {\n            obj.left -= ((newBounds.left + newBounds.width) - (printArea.left + printArea.width));\n            needsAdjustment = true;\n          }\n          if (newBounds.top + newBounds.height > printArea.top + printArea.height) {\n            obj.top -= ((newBounds.top + newBounds.height) - (printArea.top + printArea.height));\n            needsAdjustment = true;\n          }\n          \n          if (needsAdjustment) {\n            obj.setCoords();\n            canvas.renderAll();\n          }\n        }\n      }\n      \n      saveHistory();\n    });\n    canvas.on(\"object:added\", () => saveHistory());\n    canvas.on(\"object:removed\", () => saveHistory());\n\n    // \u30C6\u30AD\u30B9\u30C8\u30AA\u30D6\u30B8\u30A7\u30AF\u30C8\u306E\u9078\u629E\u30A4\u30D9\u30F3\u30C8\n    canvas.on(\"selection:created\", (e: any) => {\n      const obj = e.selected[0];\n      setSelectedObject(obj);\n      // \u30C6\u30AD\u30B9\u30C8\u30AA\u30D6\u30B8\u30A7\u30AF\u30C8\u304C\u9078\u629E\u3055\u308C\u305F\u3089\u5165\u529B\u30D5\u30A3\u30FC\u30EB\u30C9\u306B\u8868\u793A\n      if (obj && obj.type === \"i-text\") {\n        setTextInput(obj.text || \"\");\n        firstTextObjectRef.current = obj;\n      }\n    });\n\n    canvas.on(\"selection:updated\", (e: any) => {\n      const obj = e.selected[0];\n      setSelectedObject(obj);\n      // \u30C6\u30AD\u30B9\u30C8\u30AA\u30D6\u30B8\u30A7\u30AF\u30C8\u304C\u9078\u629E\u3055\u308C\u305F\u3089\u5165\u529B\u30D5\u30A3\u30FC\u30EB\u30C9\u306B\u8868\u793A\n      if (obj && obj.type === \"i-text\") {\n        setTextInput(obj.text || \"\");\n        firstTextObjectRef.current = obj;\n      } else {\n        setTextInput(\"\");\n        firstTextObjectRef.current = null;\n      }\n    });\n\n    canvas.on(\"selection:cleared\", () => {\n      setSelectedObject(null);\n      setTextInput(\"\");\n      firstTextObjectRef.current = null;\n    });\n\n    // \u30AD\u30FC\u30DC\u30FC\u30C9\u30A4\u30D9\u30F3\u30C8\uFF08Delete/Backspace\u30AD\u30FC\u3067\u524A\u9664\uFF09\n    const handleKeyDown = (e: KeyboardEvent) => {\n      // Cmd/Ctrl + Shift + Z: Redo\uFF08\u3084\u308A\u76F4\u3057\uFF09\n      const isMac = navigator.platform.toUpperCase().indexOf('MAC') >= 0;\n      const cmdOrCtrl = isMac ? e.metaKey : e.ctrlKey;\n      \n      if (cmdOrCtrl && e.shiftKey && (e.key === 'z' || e.key === 'Z')) {\n        e.preventDefault();\n        handleRedo();\n        return;\n      }\n      \n      // Cmd/Ctrl + Z: Undo\uFF08\u5143\u306B\u623B\u3059\uFF09\n      if (cmdOrCtrl && !e.shiftKey && (e.key === 'z' || e.key === 'Z')) {\n        e.preventDefault();\n        handleUndo();\n        return;\n      }\n      \n      // Delete/Backspace: \u524A\u9664\n      if ((e.key === 'Delete' || e.key === 'Backspace') && canvas.getActiveObject()) {\n        const activeObject = canvas.getActiveObject();\n        // \u30D7\u30EA\u30F3\u30C8\u7BC4\u56F2\u306E\u67A0\u306F\u524A\u9664\u3057\u306A\u3044\n        if (activeObject && activeObject.name !== 'printArea') {\n          e.preventDefault(); // \u30C7\u30D5\u30A9\u30EB\u30C8\u306E\u52D5\u4F5C\u3092\u9632\u3050\n          \n          // \u30C6\u30AD\u30B9\u30C8\u30AA\u30D6\u30B8\u30A7\u30AF\u30C8\u306E\u53C2\u7167\u3092\u30AF\u30EA\u30A2\n          if (firstTextObjectRef.current === activeObject) {\n            firstTextObjectRef.current = null;\n            setTextInput(\"\");\n          }\n          \n          // \u30AA\u30D6\u30B8\u30A7\u30AF\u30C8\u3092\u524A\u9664\u3057\u3066\u521D\u671F\u72B6\u614B\u306B\u5B8C\u5168\u30EA\u30BB\u30C3\u30C8\n          canvas.remove(activeObject);\n          canvas.renderAll();\n          setSelectedObject(null);\n          setIsLoading(false);\n          \n          // \u5C65\u6B74\u3092\u521D\u671F\u72B6\u614B\u306B\u30EA\u30BB\u30C3\u30C8\uFF08\u3084\u308A\u76F4\u3057\u3092\u7121\u52B9\u5316\uFF09\n          const initialState = historyRef.current[0];\n          historyRef.current = [initialState];\n          historyStepRef.current = 0;\n          updateHistoryButtons();\n        }\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n\n    // \u30AF\u30EA\u30FC\u30F3\u30A2\u30C3\u30D7\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n      if (fabricCanvasRef.current) {\n        fabricCanvasRef.current.dispose();\n      }\n    };\n  }, [fabricLoaded]);\n\n  // \u672C\u4F53\u30AB\u30E9\u30FC\u5909\u66F4\u6642\u306B\u80CC\u666F\u753B\u50CF\u3068\u70B9\u7DDA\u306E\u8272\u3060\u3051\u3092\u66F4\u65B0\uFF08\u30AB\u30B9\u30BF\u30DE\u30A4\u30BA\u5185\u5BB9\u3092\u4FDD\u6301\uFF09\n  useEffect(() => {\n    if (!fabricCanvasRef.current || !fabricLoaded || typeof (window as any).fabric === 'undefined') {\n      return;\n    }\n\n    const fabricLib = (window as any).fabric;\n    const canvas = fabricCanvasRef.current;\n    const mockupImageUrl = getCurrentMockupImage();\n\n    // \u80CC\u666F\u753B\u50CF\u3092\u66F4\u65B0\n    fabricLib.Image.fromURL(mockupImageUrl, (img: any) => {\n      if (!img || !img.width) return;\n\n      const scaleX = canvas.width! / (img.width || 1);\n      const scaleY = canvas.height! / (img.height || 1);\n      const scale = Math.min(scaleX, scaleY) * 0.95;\n      \n      img.scale(scale);\n      img.set({\n        left: canvas.width! / 2,\n        top: canvas.height! / 2,\n        originX: 'center',\n        originY: 'center',\n        selectable: false,\n        evented: false,\n      });\n\n      img.setControlsVisibility({\n        deleteControl: false,\n      });\n\n      canvas.setBackgroundImage(img, canvas.renderAll.bind(canvas));\n    }, { crossOrigin: \"anonymous\" });\n\n    // \u70B9\u7DDA\u306E\u8272\u3092\u66F4\u65B0\n    const objects = canvas.getObjects();\n    objects.forEach((obj: any) => {\n      if (obj.name === 'printArea') {\n        const colorName = selectedColor.name.toLowerCase();\n        const newColor = (colorName.includes('\u30D6\u30E9\u30C3\u30AF') || colorName.includes('black')) \n          ? 'white' \n          : '#000000';\n        obj.set('stroke', newColor);\n        canvas.renderAll();\n      }\n    });\n  }, [selectedColor, fabricLoaded, getCurrentMockupImage]);\n\n  // ========== \u30B9\u30C6\u30C3\u30D73: \u5C65\u6B74\u7BA1\u7406\u95A2\u6570 ==========\n  const saveHistory = () => {\n    if (!fabricCanvasRef.current) return;\n    \n    // \u5C65\u6B74\u304C\u521D\u671F\u5316\u3055\u308C\u3066\u3044\u306A\u3044\u5834\u5408\u306F\u4FDD\u5B58\u3057\u306A\u3044\n    if (!isHistoryInitializedRef.current) {\n      console.log('\u5C65\u6B74\u672A\u521D\u671F\u5316\u306E\u305F\u3081\u4FDD\u5B58\u3092\u30B9\u30AD\u30C3\u30D7');\n      return;\n    }\n\n    // undo/redo\u5B9F\u884C\u4E2D\u306F\u4FDD\u5B58\u3057\u306A\u3044\n    if (isLoadingHistoryRef.current) {\n      console.log('\u5C65\u6B74\u8AAD\u307F\u8FBC\u307F\u4E2D\u306E\u305F\u3081\u4FDD\u5B58\u3092\u30B9\u30AD\u30C3\u30D7');\n      return;\n    }\n\n    const json = JSON.stringify(fabricCanvasRef.current.toJSON(['selectable', 'evented', 'name']));\n    historyRef.current = historyRef.current.slice(0, historyStepRef.current + 1);\n    historyRef.current.push(json);\n    historyStepRef.current = historyRef.current.length - 1;\n    \n    console.log('\u5C65\u6B74\u4FDD\u5B58:', {\n      step: historyStepRef.current,\n      total: historyRef.current.length\n    });\n    \n    // \u5C65\u6B74\u304C50\u3092\u8D85\u3048\u305F\u5834\u5408\u3001\u521D\u671F\u72B6\u614B\uFF08\u30A4\u30F3\u30C7\u30C3\u30AF\u30B90\uFF09\u3092\u4FDD\u8B77\u3057\u3066\u53E4\u3044\u3082\u306E\u3092\u524A\u9664\n    if (historyRef.current.length > 50) {\n      // \u521D\u671F\u72B6\u614B\u3092\u4FDD\u6301\u3057\u305F\u307E\u307E\u3001\u53E4\u3044\u5C65\u6B74\u3092\u524A\u9664\n      historyRef.current.splice(1, 1); // \u30A4\u30F3\u30C7\u30C3\u30AF\u30B91\u306E\u8981\u7D20\u3092\u524A\u9664\n      historyStepRef.current--;\n    }\n    \n    updateHistoryButtons();\n  };\n\n  const updateHistoryButtons = () => {\n    const newCanUndo = historyStepRef.current > 0;\n    const newCanRedo = historyStepRef.current < historyRef.current.length - 1;\n    \n    console.log('\u5C65\u6B74\u66F4\u65B0:', {\n      current: historyStepRef.current,\n      total: historyRef.current.length,\n      canUndo: newCanUndo,\n      canRedo: newCanRedo\n    });\n    \n    setCanUndo(newCanUndo);\n    setCanRedo(newCanRedo);\n  };\n\n  const handleUndo = () => {\n    if (historyStepRef.current > 0 && fabricCanvasRef.current) {\n      isLoadingHistoryRef.current = true; // \u5C65\u6B74\u8AAD\u307F\u8FBC\u307F\u958B\u59CB\n      historyStepRef.current--;\n      const json = historyRef.current[historyStepRef.current];\n      \n      // \u521D\u56DE\u30C6\u30AD\u30B9\u30C8\u30AA\u30D6\u30B8\u30A7\u30AF\u30C8\u3092\u30AF\u30EA\u30A2\uFF08\u5C65\u6B74\u3092\u623B\u3059\u305F\u3081\uFF09\n      firstTextObjectRef.current = null;\n      setTextInput(\"\");\n      \n      fabricCanvasRef.current.loadFromJSON(json, () => {\n        fabricCanvasRef.current?.discardActiveObject(); // \u9078\u629E\u3092\u89E3\u9664\n        fabricCanvasRef.current?.renderAll();\n        \n        // \u6B21\u306E\u30D5\u30EC\u30FC\u30E0\u3067\u8A2D\u5B9A\u3092\u518D\u9069\u7528\uFF08\u78BA\u5B9F\u306B\u9069\u7528\u3055\u308C\u308B\u3088\u3046\u306B\uFF09\n        requestAnimationFrame(() => {\n          // \u5FA9\u5143\u5F8C\u3001\u80CC\u666F\u753B\u50CF\u3068printArea\u306E\u8A2D\u5B9A\u3092\u518D\u9069\u7528\uFF08\u89E6\u308C\u306A\u3044\u3088\u3046\u306B\u3059\u308B\uFF09\n          const backgroundImage = fabricCanvasRef.current?.backgroundImage;\n          if (backgroundImage) {\n            (backgroundImage as any).set({\n              selectable: false,\n              evented: false,\n            });\n            (backgroundImage as any).setControlsVisibility({\n              deleteControl: false,\n            });\n          }\n          \n          const objects = fabricCanvasRef.current?.getObjects();\n          objects?.forEach((obj: any) => {\n            if (obj.name === 'printArea') {\n              obj.set({\n                selectable: false,\n                evented: false,\n              });\n              obj.setControlsVisibility({\n                deleteControl: false,\n              });\n            }\n          });\n          \n          fabricCanvasRef.current?.renderAll();\n        });\n        \n        setSelectedObject(null); // React\u306E\u72B6\u614B\u3082\u66F4\u65B0\n        \n        // \u521D\u671F\u72B6\u614B\uFF08\u30B9\u30C6\u30C3\u30D70\uFF09\u306B\u623B\u3063\u305F\u5834\u5408\u3001\u5C65\u6B74\u3092\u30EA\u30BB\u30C3\u30C8\n        if (historyStepRef.current === 0) {\n          const initialState = historyRef.current[0];\n          historyRef.current = [initialState];\n          historyStepRef.current = 0;\n        }\n        \n        updateHistoryButtons(); // \u30DC\u30BF\u30F3\u306E\u72B6\u614B\u3092\u66F4\u65B0\n        isLoadingHistoryRef.current = false; // \u5C65\u6B74\u8AAD\u307F\u8FBC\u307F\u5B8C\u4E86\n      });\n    }\n  };\n\n  const handleRedo = () => {\n    if (historyStepRef.current < historyRef.current.length - 1 && fabricCanvasRef.current) {\n      isLoadingHistoryRef.current = true; // \u5C65\u6B74\u8AAD\u307F\u8FBC\u307F\u958B\u59CB\n      historyStepRef.current++;\n      const json = historyRef.current[historyStepRef.current];\n      \n      // \u521D\u56DE\u30C6\u30AD\u30B9\u30C8\u30AA\u30D6\u30B8\u30A7\u30AF\u30C8\u3092\u30AF\u30EA\u30A2\uFF08\u5C65\u6B74\u3092\u9032\u3081\u308B\u305F\u3081\uFF09\n      firstTextObjectRef.current = null;\n      setTextInput(\"\");\n      \n      fabricCanvasRef.current.loadFromJSON(json, () => {\n        fabricCanvasRef.current?.discardActiveObject(); // \u9078\u629E\u3092\u89E3\u9664\n        fabricCanvasRef.current?.renderAll();\n        \n        // \u6B21\u306E\u30D5\u30EC\u30FC\u30E0\u3067\u8A2D\u5B9A\u3092\u518D\u9069\u7528\uFF08\u78BA\u5B9F\u306B\u9069\u7528\u3055\u308C\u308B\u3088\u3046\u306B\uFF09\n        requestAnimationFrame(() => {\n          // \u5FA9\u5143\u5F8C\u3001\u80CC\u666F\u753B\u50CF\u3068printArea\u306E\u8A2D\u5B9A\u3092\u518D\u9069\u7528\uFF08\u89E6\u308C\u306A\u3044\u3088\u3046\u306B\u3059\u308B\uFF09\n          const backgroundImage = fabricCanvasRef.current?.backgroundImage;\n          if (backgroundImage) {\n            (backgroundImage as any).set({\n              selectable: false,\n              evented: false,\n            });\n            (backgroundImage as any).setControlsVisibility({\n              deleteControl: false,\n            });\n          }\n          \n          const objects = fabricCanvasRef.current?.getObjects();\n          objects?.forEach((obj: any) => {\n            if (obj.name === 'printArea') {\n              obj.set({\n                selectable: false,\n                evented: false,\n              });\n              obj.setControlsVisibility({\n                deleteControl: false,\n              });\n            }\n          });\n          \n          fabricCanvasRef.current?.renderAll();\n        });\n        \n        setSelectedObject(null); // React\u306E\u72B6\u614B\u3082\u66F4\u65B0\n        updateHistoryButtons(); // \u30DC\u30BF\u30F3\u306E\u72B6\u614B\u3092\u66F4\u65B0\n        isLoadingHistoryRef.current = false; // \u5C65\u6B74\u8AAD\u307F\u8FBC\u307F\u5B8C\u4E86\n      });\n    }\n  };\n\n  // \u753B\u50CF\u54C1\u8CEA\u30C1\u30A7\u30C3\u30AF\u95A2\u6570\n  const checkImageQuality = (file: File, width: number, height: number): { isGood: boolean; message: string } => {\n    // \u63A8\u5968\u30D4\u30AF\u30BB\u30EB\u30B5\u30A4\u30BA\uFF08300 DPI\uFF09\n    const recommendedWidth = 2953;\n    const recommendedHeight = 3685;\n    \n    // \u6700\u4F4E\u30D4\u30AF\u30BB\u30EB\u30B5\u30A4\u30BA\uFF08150 DPI\uFF09\n    const minWidth = 1182;\n    const minHeight = 1475;\n    \n    // \u30D5\u30A1\u30A4\u30EB\u30B5\u30A4\u30BA\u30C1\u30A7\u30C3\u30AF\uFF08100MB\u4EE5\u4E0A\uFF09\n    const fileSizeMB = file.size / (1024 * 1024);\n    if (fileSizeMB > 100) {\n      return {\n        isGood: false,\n        message: `[WARNING] \u30D5\u30A1\u30A4\u30EB\u30B5\u30A4\u30BA\u304C\u5927\u304D\u3059\u304E\u307E\u3059\uFF08${fileSizeMB.toFixed(1)}MB\uFF09\\n100MB\u4EE5\u4E0B\u3092\u63A8\u5968\u3057\u307E\u3059\u3002`\n      };\n    }\n    \n    // \u753B\u8CEA\u30C1\u30A7\u30C3\u30AF\n    if (width < minWidth || height < minHeight) {\n      return {\n        isGood: false,\n        message: `[WARNING] \u753B\u50CF\u30B5\u30A4\u30BA\u304C\u5C0F\u3055\u3059\u304E\u307E\u3059\\n\\n\u73FE\u5728: ${width} \u00D7 ${height}px\\n\u6700\u4F4E: ${minWidth} \u00D7 ${minHeight}px (150 DPI)\\n\u63A8\u5968: ${recommendedWidth} \u00D7 ${recommendedHeight}px (300 DPI)\\n\\n\u5370\u5237\u6642\u306B\u753B\u8CEA\u304C\u7C97\u304F\u306A\u308B\u53EF\u80FD\u6027\u304C\u3042\u308A\u307E\u3059\u3002`\n      };\n    } else if (width < recommendedWidth || height < recommendedHeight) {\n      return {\n        isGood: true,\n        message: `[INFO] \u753B\u50CF\u30B5\u30A4\u30BA\u306F\u4F7F\u7528\u53EF\u80FD\u3067\u3059\u304C\u3001\u3088\u308A\u9AD8\u753B\u8CEA\u3092\u304A\u6C42\u3081\u306E\u5834\u5408\u306F\u5927\u304D\u306A\u753B\u50CF\u3092\u63A8\u5968\u3057\u307E\u3059\\n\\n\u73FE\u5728: ${width} \u00D7 ${height}px\\n\u63A8\u5968: ${recommendedWidth} \u00D7 ${recommendedHeight}px (300 DPI)`\n      };\n    } else {\n      return {\n        isGood: true,\n        message: `[SUCCESS] \u9AD8\u54C1\u8CEA\u306A\u753B\u50CF\u3067\u3059\uFF01\\n\\n${width} \u00D7 ${height}px\\n\u5370\u5237\u306B\u6700\u9069\u306A\u30B5\u30A4\u30BA\u3067\u3059\u3002`\n      };\n    }\n  };\n\n  // \u8457\u4F5C\u6A29\u30E2\u30FC\u30C0\u30EB\u306E\u540C\u610F\u5F8C\u306B\u753B\u50CF\u3092\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\n  const processImageUpload = (file: File, event: React.ChangeEvent<HTMLInputElement>) => {\n    setIsLoading(true);\n    \n    const reader = new FileReader();\n    reader.onload = (e) => {\n      const imageUrl = e.target?.result as string;\n      \n      // \u753B\u50CF\u30B5\u30A4\u30BA\u3092\u53D6\u5F97\u3057\u3066\u54C1\u8CEA\u30C1\u30A7\u30C3\u30AF\n      const img = new Image();\n      img.onload = () => {\n        const qualityCheck = checkImageQuality(file, img.width, img.height);\n        setImageQualityWarning(qualityCheck.message);\n        \n        // \u6700\u4F4E\u54C1\u8CEA\u3092\u6E80\u305F\u3057\u3066\u3044\u306A\u3044\u5834\u5408\u306F\u78BA\u8A8D\n        if (!qualityCheck.isGood) {\n          const proceed = confirm(`${qualityCheck.message}\\n\\n\u305D\u308C\u3067\u3082\u3053\u306E\u753B\u50CF\u3092\u4F7F\u7528\u3057\u307E\u3059\u304B\uFF1F`);\n          if (!proceed) {\n            setIsLoading(false);\n            setImageQualityWarning(null);\n            event.target.value = '';\n            return;\n          }\n        }\n        \n        // \u30AD\u30E3\u30F3\u30D0\u30B9\u306B\u753B\u50CF\u3092\u8FFD\u52A0\n        setUploadedImages(prev => [...prev, imageUrl]);\n        \n        if (fabricCanvasRef.current && typeof (window as any).fabric !== 'undefined') {\n          const fabricLib = (window as any).fabric;\n          fabricLib.Image.fromURL(imageUrl, (fabricImg: any) => {\n            const canvas = fabricCanvasRef.current;\n            \n            // \u30D7\u30EA\u30F3\u30C8\u7BC4\u56F2\u3092\u53D6\u5F97\n            const printArea = getPrintAreaInPixels(canvas.width!);\n            \n            // \u30D7\u30EA\u30F3\u30C8\u7BC4\u56F2\u306E80%\u306B\u53CE\u307E\u308B\u3088\u3046\u306B\u30B9\u30B1\u30FC\u30EB\uFF08\u4F59\u88D5\u3092\u6301\u305F\u305B\u308B\uFF09\n            const maxWidth = printArea.width * 0.8;\n            const maxHeight = printArea.height * 0.8;\n            const scale = Math.min(\n              maxWidth / (fabricImg.width || 1),\n              maxHeight / (fabricImg.height || 1),\n              1\n            );\n            \n            fabricImg.scale(scale);\n            fabricImg.set({\n              left: printArea.left + printArea.width / 2,\n              top: printArea.top + printArea.height / 2,\n              originX: \"center\",\n              originY: \"center\",\n              selectable: true,\n              hasControls: true,\n              hasBorders: true,\n            });\n            \n            // \u5143\u306E\u9AD8\u89E3\u50CF\u5EA6\u753B\u50CF\u30C7\u30FC\u30BF\u3092\u4FDD\u5B58\uFF08\u91CD\u8981\uFF01\uFF09\n            (fabricImg as any).originalImageData = imageUrl; // \u5143\u306EDataURL\n            (fabricImg as any).originalWidth = img.width; // \u5143\u306E\u5E45\n            (fabricImg as any).originalHeight = img.height; // \u5143\u306E\u9AD8\u3055\n            \n            canvas.add(fabricImg);\n            canvas.setActiveObject(fabricImg);\n            canvas.renderAll();\n            \n            setIsLoading(false);\n            event.target.value = '';\n          });\n        } else {\n          setIsLoading(false);\n          event.target.value = '';\n        }\n      };\n      img.src = imageUrl;\n    };\n    \n    reader.onerror = () => {\n      setIsLoading(false);\n      event.target.value = '';\n    };\n    \n    reader.readAsDataURL(file);\n  };\n\n  // ========== \u30B9\u30C6\u30C3\u30D74: \u753B\u50CF\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u6A5F\u80FD ==========\n  const handleImageUpload = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const files = event.target.files;\n    if (!files || files.length === 0) {\n      setIsLoading(false);\n      return;\n    }\n    \n    const file = files[0]; // \u6700\u521D\u306E\u30D5\u30A1\u30A4\u30EB\u306E\u307F\u51E6\u7406\n    \n    // \u753B\u50CF\u30D5\u30A1\u30A4\u30EB\u304B\u30C1\u30A7\u30C3\u30AF\n    if (!file.type.startsWith(\"image/\")) {\n      alert(`${file.name} \u306F\u753B\u50CF\u30D5\u30A1\u30A4\u30EB\u3067\u306F\u3042\u308A\u307E\u305B\u3093\uFF08PNG, JPG, GIF\u306A\u3069\u3092\u4F7F\u7528\u3057\u3066\u304F\u3060\u3055\u3044\uFF09`);\n      event.target.value = '';\n      return;\n    }\n    \n    // \u521D\u56DE\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u6642\u306F\u8457\u4F5C\u6A29\u30E2\u30FC\u30C0\u30EB\u3092\u8868\u793A\n    if (!copyrightAgreed) {\n      pendingImageRef.current = file;\n      setShowCopyrightModal(true);\n      return;\n    }\n    \n    // \u8457\u4F5C\u6A29\u306B\u540C\u610F\u6E08\u307F\u306E\u5834\u5408\u306F\u76F4\u63A5\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\n    processImageUpload(file, event);\n  };\n  \n  // \u8457\u4F5C\u6A29\u540C\u610F\u5F8C\u306E\u51E6\u7406\n  const handleCopyrightAgree = () => {\n    setCopyrightAgreed(true);\n    setShowCopyrightModal(false);\n    \n    if (pendingImageRef.current && fileInputRef.current) {\n      // \u30C0\u30DF\u30FC\u30A4\u30D9\u30F3\u30C8\u3092\u4F5C\u6210\n      const dummyEvent = {\n        target: fileInputRef.current,\n        currentTarget: fileInputRef.current\n      } as React.ChangeEvent<HTMLInputElement>;\n      \n      processImageUpload(pendingImageRef.current, dummyEvent);\n      pendingImageRef.current = null;\n    }\n  };\n\n\n  // ========== \u30B9\u30C6\u30C3\u30D75: AI\u753B\u50CF\u751F\u6210\u6A5F\u80FD ==========\n  const handleGenerateAI = async () => {\n    if (!aiPrompt.trim()) {\n      alert(\"\u751F\u6210\u3057\u305F\u3044\u753B\u50CF\u306E\u8AAC\u660E\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\");\n      return;\n    }\n\n    setIsGenerating(true);\n\n    try {\n      const response = await fetch(\"/api/generate-image\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          prompt: aiPrompt,\n          width: 1024,\n          height: 1024,\n        }),\n      });\n\n      const data = await response.json();\n\n      if (data.success && data.imageUrl) {\n        setGeneratedImageUrl(data.imageUrl);\n        setLastAIPrompt(aiPrompt);\n\n        // \u751F\u6210\u3055\u308C\u305F\u753B\u50CF\u3092\u30AD\u30E3\u30F3\u30D0\u30B9\u306B\u8FFD\u52A0\n        if (fabricCanvasRef.current && typeof (window as any).fabric !== 'undefined') {\n          const fabricLib = (window as any).fabric;\n          fabricLib.Image.fromURL(data.imageUrl, (img) => {\n            const canvas = fabricCanvasRef.current;\n            \n            // \u30D7\u30EA\u30F3\u30C8\u7BC4\u56F2\u3092\u53D6\u5F97\n            const printArea = getPrintAreaInPixels(canvas.width!);\n            \n            // \u30D7\u30EA\u30F3\u30C8\u7BC4\u56F2\u306E80%\u306B\u53CE\u307E\u308B\u3088\u3046\u306B\u30B9\u30B1\u30FC\u30EB\n            const maxWidth = printArea.width * 0.8;\n            const maxHeight = printArea.height * 0.8;\n            const scale = Math.min(\n              maxWidth / (img.width || 1),\n              maxHeight / (img.height || 1),\n              1\n            );\n\n            img.scale(scale);\n            img.set({\n              left: printArea.left + printArea.width / 2,\n              top: printArea.top + printArea.height / 2,\n              originX: \"center\",\n              originY: \"center\",\n              selectable: true,\n              hasControls: true,\n              hasBorders: true,\n            });\n\n            // \u5143\u306E\u9AD8\u89E3\u50CF\u5EA6\u753B\u50CF\u30C7\u30FC\u30BF\u3092\u4FDD\u5B58\uFF08AI\u751F\u6210\u753B\u50CF\uFF09\n            (img as any).originalImageData = data.imageUrl; // \u5143\u306EURL\n            (img as any).originalWidth = img.width; // \u5143\u306E\u5E45\n            (img as any).originalHeight = img.height; // \u5143\u306E\u9AD8\u3055\n\n            fabricCanvasRef.current?.add(img);\n            fabricCanvasRef.current?.setActiveObject(img);\n            fabricCanvasRef.current?.renderAll();\n          }, { crossOrigin: \"anonymous\" });\n        }\n\n        setAiPrompt(\"\");\n      } else {\n        alert(data.error || \"AI\u753B\u50CF\u751F\u6210\u306B\u5931\u6557\u3057\u307E\u3057\u305F\");\n      }\n    } catch (error) {\n      console.error(\"AI\u751F\u6210\u30A8\u30E9\u30FC:\", error);\n      alert(\"AI\u753B\u50CF\u751F\u6210\u306B\u5931\u6557\u3057\u307E\u3057\u305F\");\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n\n  // ========== \u30B9\u30C6\u30C3\u30D76: \u30C6\u30AD\u30B9\u30C8\u8FFD\u52A0\u6A5F\u80FD ==========\n  // \u30C6\u30AD\u30B9\u30C8\u304C\u30D7\u30EA\u30F3\u30C8\u7BC4\u56F2\u3092\u8D85\u3048\u3066\u3044\u306A\u3044\u304B\u30C1\u30A7\u30C3\u30AF\u3057\u3066\u81EA\u52D5\u8ABF\u6574\n  const adjustTextSizeToFitPrintArea = (textObj: any) => {\n    if (!fabricCanvasRef.current) return;\n    \n    const canvas = fabricCanvasRef.current;\n    const printArea = getPrintAreaInPixels(canvas.width!);\n    \n    // \u30C6\u30AD\u30B9\u30C8\u306E\u5883\u754C\u30DC\u30C3\u30AF\u30B9\u3092\u53D6\u5F97\n    textObj.setCoords();\n    const textBounds = textObj.getBoundingRect(true);\n    \n    // \u30D7\u30EA\u30F3\u30C8\u7BC4\u56F2\u3092\u8D85\u3048\u3066\u3044\u308B\u304B\u30C1\u30A7\u30C3\u30AF\n    const exceedsWidth = textBounds.width > printArea.width;\n    const exceedsHeight = textBounds.height > printArea.height;\n    \n    if (exceedsWidth || exceedsHeight) {\n      // \u7E2E\u5C0F\u7387\u3092\u8A08\u7B97\uFF08\u4F59\u88D5\u3092\u6301\u305F\u305B\u308B\u305F\u3081\u306B95%\uFF09\n      const scaleX = printArea.width / textBounds.width;\n      const scaleY = printArea.height / textBounds.height;\n      const scale = Math.min(scaleX, scaleY) * 0.95;\n      \n      // \u30D5\u30A9\u30F3\u30C8\u30B5\u30A4\u30BA\u3092\u8ABF\u6574\n      const currentFontSize = textObj.fontSize;\n      const newFontSize = Math.floor(currentFontSize * scale);\n      \n      textObj.set({ fontSize: newFontSize });\n      setFontSize(newFontSize);\n      \n      // \u4F4D\u7F6E\u3092\u518D\u8ABF\u6574\uFF08\u4E2D\u592E\u306B\u914D\u7F6E\uFF09\n      textObj.set({\n        left: printArea.left + printArea.width / 2,\n        top: printArea.top + printArea.height / 2,\n      });\n      \n      textObj.setCoords();\n      canvas.renderAll();\n    }\n  };\n\n  // \u30EA\u30A2\u30EB\u30BF\u30A4\u30E0\u30C6\u30AD\u30B9\u30C8\u66F4\u65B0\n  const handleTextInputChange = (value: string) => {\n    setTextInput(value);\n    \n    if (!fabricCanvasRef.current || typeof (window as any).fabric === 'undefined') return;\n    \n    const fabricLib = (window as any).fabric;\n    const canvas = fabricCanvasRef.current;\n    \n    // \u9078\u629E\u4E2D\u306E\u30C6\u30AD\u30B9\u30C8\u30AA\u30D6\u30B8\u30A7\u30AF\u30C8\u304C\u5B58\u5728\u3059\u308B\u5834\u5408\u306F\u66F4\u65B0\n    if (firstTextObjectRef.current && canvas.contains(firstTextObjectRef.current)) {\n      firstTextObjectRef.current.set({ text: value });\n      \n      // \u30D7\u30EA\u30F3\u30C8\u7BC4\u56F2\u3092\u8D85\u3048\u3066\u3044\u306A\u3044\u304B\u30C1\u30A7\u30C3\u30AF\n      if (value.trim()) {\n        adjustTextSizeToFitPrintArea(firstTextObjectRef.current);\n      }\n      \n      canvas.renderAll();\n      if (value.trim()) {\n        saveHistory();\n      }\n    } \n    // \u65B0\u898F\u30C6\u30AD\u30B9\u30C8\u30AA\u30D6\u30B8\u30A7\u30AF\u30C8\u3092\u4F5C\u6210\uFF08\u521D\u56DE\u306E\u307F\uFF09\n    else if (value.trim() && !firstTextObjectRef.current) {\n      const printArea = getPrintAreaInPixels(canvas.width!);\n      \n      const text = new fabricLib.IText(value, {\n        left: printArea.left + printArea.width / 2,\n        top: printArea.top + printArea.height / 2,\n        originX: \"center\",\n        originY: \"center\",\n        fill: textColor,\n        fontSize: fontSize,\n        fontFamily: fontFamily,\n        selectable: true,\n        hasControls: true,\n        hasBorders: true,\n      });\n      \n      canvas.add(text);\n      canvas.setActiveObject(text);\n      \n      // \u30D7\u30EA\u30F3\u30C8\u7BC4\u56F2\u3092\u8D85\u3048\u3066\u3044\u306A\u3044\u304B\u30C1\u30A7\u30C3\u30AF\n      adjustTextSizeToFitPrintArea(text);\n      \n      canvas.renderAll();\n      firstTextObjectRef.current = text;\n      saveHistory();\n    }\n  };\n\n  const handleAddText = () => {\n    if (!textInput.trim() || !fabricCanvasRef.current || typeof (window as any).fabric === 'undefined') {\n      alert(\"\u30C6\u30AD\u30B9\u30C8\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\");\n      return;\n    }\n\n    const fabricLib = (window as any).fabric;\n    const canvas = fabricCanvasRef.current;\n    \n    // \u30D7\u30EA\u30F3\u30C8\u7BC4\u56F2\u306E\u4E2D\u592E\u306B\u914D\u7F6E\n    const printArea = getPrintAreaInPixels(canvas.width!);\n    \n    const text = new fabricLib.IText(textInput, {\n      left: printArea.left + printArea.width / 2,\n      top: printArea.top + printArea.height / 2,\n      originX: \"center\",\n      originY: \"center\",\n      fill: textColor,\n      fontSize: fontSize,\n      fontFamily: fontFamily,\n      selectable: true,\n      hasControls: true,\n      hasBorders: true,\n    });\n\n    fabricCanvasRef.current.add(text);\n    fabricCanvasRef.current.setActiveObject(text);\n    fabricCanvasRef.current.renderAll();\n    \n    // \u65B0\u3057\u3044\u30C6\u30AD\u30B9\u30C8\u3092\u8FFD\u52A0\u3059\u308B\u5834\u5408\u3001\u521D\u56DE\u30AA\u30D6\u30B8\u30A7\u30AF\u30C8\u3092\u30EA\u30BB\u30C3\u30C8\n    firstTextObjectRef.current = null;\n    setTextInput(\"\");\n    saveHistory();\n  };\n\n  const handleChangeTextColor = (color: string) => {\n    setTextColor(color);\n    if (selectedObject && selectedObject.type === \"i-text\") {\n      (selectedObject as any).set({ fill: color });\n      fabricCanvasRef.current?.renderAll();\n      saveHistory();\n    }\n  };\n\n  const handleChangeFontSize = (size: number) => {\n    setFontSize(size);\n    if (selectedObject && selectedObject.type === \"i-text\") {\n      (selectedObject as any).set({ fontSize: size });\n      \n      // \u30D7\u30EA\u30F3\u30C8\u7BC4\u56F2\u3092\u8D85\u3048\u306A\u3044\u3088\u3046\u306B\u81EA\u52D5\u8ABF\u6574\n      adjustTextSizeToFitPrintArea(selectedObject);\n      \n      fabricCanvasRef.current?.renderAll();\n      saveHistory();\n    }\n  };\n\n  const handleChangeFontFamily = (font: string) => {\n    setFontFamily(font);\n    if (selectedObject && selectedObject.type === \"i-text\") {\n      (selectedObject as any).set({ fontFamily: font });\n      \n      // \u30D5\u30A9\u30F3\u30C8\u5909\u66F4\u3067\u30B5\u30A4\u30BA\u304C\u5909\u308F\u308B\u53EF\u80FD\u6027\u304C\u3042\u308B\u305F\u3081\u3001\u30D7\u30EA\u30F3\u30C8\u7BC4\u56F2\u30C1\u30A7\u30C3\u30AF\n      adjustTextSizeToFitPrintArea(selectedObject);\n      \n      fabricCanvasRef.current?.renderAll();\n      saveHistory();\n    }\n  };\n\n  // \u30D5\u30A9\u30F3\u30C8\u30EA\u30B9\u30C8\u3092\u30D5\u30A3\u30EB\u30BF\u30EA\u30F3\u30B0\n  const getFilteredFonts = () => {\n    return FONT_LIST.filter(font => font.type === activeFontTab);\n  };\n\n  // ========== Cloudinary\u306B\u76F4\u63A5\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\uFF08\u304A\u5BA2\u3055\u3093\u306E\u751F\u30C7\u30FC\u30BF\u3092\u305D\u306E\u307E\u307E\u4FDD\u5B58\uFF09==========\n  const uploadToSupabaseDirect = async (imageDataUrl: string): Promise<string> => {\n    try {\n      console.log('Supabase\u76F4\u63A5\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u958B\u59CB...');\n      \n      // \u30B9\u30C6\u30C3\u30D71: Data URL\u3092Blob\u306B\u5909\u63DB\n      const response = await fetch(imageDataUrl);\n      const blob = await response.blob();\n      \n      const fileSizeMB = Math.round(blob.size / 1024 / 1024 * 100) / 100;\n      console.log('\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u3059\u308B\u30D5\u30A1\u30A4\u30EB\u30B5\u30A4\u30BA:', fileSizeMB, 'MB');\n\n      // \u30B9\u30C6\u30C3\u30D72: \u30D5\u30A1\u30A4\u30EB\u540D\u3092\u751F\u6210\uFF08\u30E6\u30CB\u30FC\u30AFID + \u30BF\u30A4\u30E0\u30B9\u30BF\u30F3\u30D7\uFF09\n      const timestamp = Date.now();\n      const randomId = Math.random().toString(36).substring(2, 15);\n      const fileName = `design-${timestamp}-${randomId}.png`;\n\n      // \u30B9\u30C6\u30C3\u30D73: Supabase\u306B\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\n      const { createClient } = await import('@supabase/supabase-js');\n      const supabaseUrl = (window as any).ENV?.SUPABASE_URL || '';\n      const supabaseKey = (window as any).ENV?.SUPABASE_ANON_KEY || '';\n      \n      if (!supabaseUrl || !supabaseKey) {\n        throw new Error('Supabase\u8A2D\u5B9A\u304C\u898B\u3064\u304B\u308A\u307E\u305B\u3093');\n      }\n\n      const supabase = createClient(supabaseUrl, supabaseKey);\n\n      console.log('Supabase\u306B\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u4E2D:', fileName);\n\n      const { data, error } = await supabase.storage\n        .from('printaize')\n        .upload(fileName, blob, {\n          contentType: 'image/png',\n          cacheControl: '3600',\n          upsert: false,\n        });\n\n      if (error) {\n        console.error('Supabase\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u30A8\u30E9\u30FC:', error);\n        throw new Error(`Supabase\u3078\u306E\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u306B\u5931\u6557\u3057\u307E\u3057\u305F: ${error.message}`);\n      }\n\n      // \u30B9\u30C6\u30C3\u30D74: \u516C\u958BURL\u3092\u53D6\u5F97\n      const { data: urlData } = supabase.storage\n        .from('printaize')\n        .getPublicUrl(data.path);\n\n      console.log('Supabase\u76F4\u63A5\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u6210\u529F:', urlData.publicUrl);\n\n      return urlData.publicUrl;\n    } catch (error) {\n      console.error(\"Supabase\u76F4\u63A5\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u30A8\u30E9\u30FC:\", error);\n      throw error;\n    }\n  };\n\n  // ========== \u9AD8\u89E3\u50CF\u5EA6\u51FA\u529B\u751F\u6210\uFF08\u5143\u306E\u753B\u50CF\u30C7\u30FC\u30BF\u3092\u4F7F\u7528\uFF09==========\n  const generateHighResolutionOutput = async (canvas: any, printArea: any): Promise<string> => {\n    return new Promise((resolve, reject) => {\n      try {\n        const fabricLib = (window as any).fabric;\n        if (!fabricLib) {\n          console.error('Fabric.js not loaded');\n          reject(new Error('Fabric.js not loaded'));\n          return;\n        }\n\n        // \u76EE\u6A19\u30B5\u30A4\u30BA: 2953px \u00D7 3685px\uFF08\u30D7\u30EA\u30F3\u30C8\u7BC4\u56F2 250mm \u00D7 312mm @ 300DPI\uFF09\n        // \u304A\u5BA2\u3055\u3093\u306E\u751F\u30C7\u30FC\u30BF\u3092\u6700\u5927\u9650\u6D3B\u7528\u3059\u308B\u305F\u3081\u3001\u9AD8\u89E3\u50CF\u5EA6\u3067\u51FA\u529B\n        // Cloudinary\u76F4\u63A5\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u3067\u30D5\u30A1\u30A4\u30EB\u30B5\u30A4\u30BA\u5236\u9650\u306A\u3057\n        const targetWidth = 2953;\n        const targetHeight = 3685;\n\n        // \u30B9\u30B1\u30FC\u30EB\u6BD4\u7387\u3092\u8A08\u7B97\n        const scaleRatio = targetWidth / printArea.width;\n\n        console.log('\u9AD8\u89E3\u50CF\u5EA6\u51FA\u529B\u958B\u59CB:', { targetWidth, targetHeight, scaleRatio });\n\n        // \u30AA\u30D5\u30B9\u30AF\u30EA\u30FC\u30F3\u30AD\u30E3\u30F3\u30D0\u30B9\u3092\u4F5C\u6210\n        const offscreenCanvas = new fabricLib.Canvas(null, {\n          width: targetWidth,\n          height: targetHeight,\n          backgroundColor: 'transparent',\n        });\n\n        // \u5143\u306E\u30AD\u30E3\u30F3\u30D0\u30B9\u306E\u30AA\u30D6\u30B8\u30A7\u30AF\u30C8\u3092\u9AD8\u89E3\u50CF\u5EA6\u3067\u518D\u69CB\u6210\n        const objects = canvas.getObjects();\n        const filteredObjects = objects.filter((obj: any) => obj.name !== 'printArea');\n        const totalObjects = filteredObjects.length;\n\n        console.log('\u51E6\u7406\u3059\u308B\u30AA\u30D6\u30B8\u30A7\u30AF\u30C8\u6570:', totalObjects);\n\n        if (totalObjects === 0) {\n          // \u30AA\u30D6\u30B8\u30A7\u30AF\u30C8\u304C\u306A\u3044\u5834\u5408\u306F\u7A7A\u306E\u900F\u904E\u753B\u50CF\u3092\u8FD4\u3059\n          const dataURL = offscreenCanvas.toDataURL({ format: 'png', quality: 1 });\n          resolve(dataURL);\n          return;\n        }\n\n        // \u30AA\u30D6\u30B8\u30A7\u30AF\u30C8\u3092\u683C\u7D0D\u3059\u308B\u914D\u5217\uFF08z-index\u3092\u4FDD\u6301\uFF09\n        const loadedObjects: Array<{ index: number; fabricObj: any }> = [];\n        let loadedCount = 0;\n\n        // \u30BF\u30A4\u30E0\u30A2\u30A6\u30C8\u51E6\u7406\uFF0830\u79D2\uFF09\n        const timeout = setTimeout(() => {\n          console.error('\u9AD8\u89E3\u50CF\u5EA6\u51FA\u529B\u30BF\u30A4\u30E0\u30A2\u30A6\u30C8');\n          reject(new Error('\u9AD8\u89E3\u50CF\u5EA6\u51FA\u529B\u304C\u30BF\u30A4\u30E0\u30A2\u30A6\u30C8\u3057\u307E\u3057\u305F'));\n        }, 30000);\n\n        const checkComplete = () => {\n          loadedCount++;\n          console.log(`\u30AA\u30D6\u30B8\u30A7\u30AF\u30C8\u8AAD\u307F\u8FBC\u307F: ${loadedCount}/${totalObjects}`);\n          \n          if (loadedCount === totalObjects) {\n            clearTimeout(timeout);\n            try {\n              // z-index\uFF08\u5143\u306E\u9806\u5E8F\uFF09\u3067\u30BD\u30FC\u30C8\u3057\u3066\u30AD\u30E3\u30F3\u30D0\u30B9\u306B\u8FFD\u52A0\n              console.log('\u5168\u30AA\u30D6\u30B8\u30A7\u30AF\u30C8\u8AAD\u307F\u8FBC\u307F\u5B8C\u4E86\u3002loadedObjects\u6570:', loadedObjects.length);\n              loadedObjects.sort((a, b) => a.index - b.index);\n              loadedObjects.forEach((item, i) => {\n                console.log(`\u30AD\u30E3\u30F3\u30D0\u30B9\u306B\u8FFD\u52A0 [${i}]:`, item.fabricObj.type, 'index:', item.index);\n                offscreenCanvas.add(item.fabricObj);\n              });\n              \n              offscreenCanvas.renderAll();\n              \n              // PNG\u5F62\u5F0F\u3067\u51FA\u529B\uFF08\u80CC\u666F\u900F\u904E\u3092\u7DAD\u6301\uFF09\n              const dataURL = offscreenCanvas.toDataURL({ \n                format: 'png',\n                multiplier: 1\n              });\n              \n              const sizeKB = Math.round(dataURL.length / 1024);\n              const sizeMB = (sizeKB / 1024).toFixed(2);\n              console.log('\u9AD8\u89E3\u50CF\u5EA6\u51FA\u529B\u5B8C\u4E86\uFF08PNG\u900F\u904E\u3001300DPI\uFF09 - \u30B5\u30A4\u30BA:', sizeKB, 'KB (', sizeMB, 'MB)');\n              console.log('\uD83D\uDCA1 Supabase\u76F4\u63A5\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u3092\u4F7F\u7528\u3059\u308B\u305F\u3081\u3001\u30D5\u30A1\u30A4\u30EB\u30B5\u30A4\u30BA\u5236\u9650\u306A\u3057');\n              \n              resolve(dataURL);\n            } catch (error) {\n              console.error('Canvas render\u30A8\u30E9\u30FC:', error);\n              reject(error);\n            }\n          }\n        };\n\n        filteredObjects.forEach((obj: any, index: number) => {\n\n          try {\n            // \u30D7\u30EA\u30F3\u30C8\u7BC4\u56F2\u306E\u5EA7\u6A19\u7CFB\u306B\u5909\u63DB\n            const relativeLeft = (obj.left - printArea.left) * scaleRatio;\n            const relativeTop = (obj.top - printArea.top) * scaleRatio;\n\n            if (obj.type === 'image' && (obj as any).originalImageData) {\n              // \u5143\u306E\u9AD8\u89E3\u50CF\u5EA6\u753B\u50CF\u3092\u4F7F\u7528\n              console.log('\u753B\u50CF\u8AAD\u307F\u8FBC\u307F\u958B\u59CB:', (obj as any).originalImageData.substring(0, 50));\n              \n              fabricLib.Image.fromURL(\n                (obj as any).originalImageData,\n                (hdImg: any) => {\n                  if (!hdImg) {\n                    console.error('\u753B\u50CF\u8AAD\u307F\u8FBC\u307F\u5931\u6557');\n                    // \u5931\u6557\u3057\u3066\u3082\u30AB\u30A6\u30F3\u30C8\u3092\u9032\u3081\u308B\n                    checkComplete();\n                    return;\n                  }\n\n                  try {\n                    // \u5143\u306E\u753B\u50CF\u30B5\u30A4\u30BA\u3092\u57FA\u6E96\u306B\u30B9\u30B1\u30FC\u30EB\u3092\u8A08\u7B97\n                    const originalWidth = (obj as any).originalWidth;\n                    const originalHeight = (obj as any).originalHeight;\n                    \n                    if (!originalWidth || !originalHeight) {\n                      console.warn('originalWidth/Height \u304C\u672A\u8A2D\u5B9A\u3002\u73FE\u5728\u306E\u30B5\u30A4\u30BA\u3092\u4F7F\u7528\u3057\u307E\u3059\u3002');\n                      // \u30D5\u30A9\u30FC\u30EB\u30D0\u30C3\u30AF: \u73FE\u5728\u306E\u30B5\u30A4\u30BA\u3092\u4F7F\u7528\n                      const newScaleX = obj.scaleX * scaleRatio;\n                      const newScaleY = obj.scaleY * scaleRatio;\n                      \n                      hdImg.set({\n                        left: relativeLeft,\n                        top: relativeTop,\n                        scaleX: newScaleX,\n                        scaleY: newScaleY,\n                        angle: obj.angle,\n                      });\n                      \n                      loadedObjects.push({ index, fabricObj: hdImg });\n                      checkComplete();\n                      return;\n                    }\n                    \n                    const originalScale = (obj.width * obj.scaleX) / originalWidth;\n                    const newScale = originalScale * scaleRatio;\n\n                    hdImg.set({\n                      left: relativeLeft,\n                      top: relativeTop,\n                      scaleX: newScale,\n                      scaleY: newScale,\n                      angle: obj.angle,\n                      originX: obj.originX,\n                      originY: obj.originY,\n                      flipX: obj.flipX,\n                      flipY: obj.flipY,\n                    });\n\n                    // \u30D5\u30A3\u30EB\u30BF\u30FC\u3082\u9069\u7528\n                    if (obj.filters && obj.filters.length > 0) {\n                      hdImg.filters = obj.filters.map((filter: any) => Object.assign(Object.create(Object.getPrototypeOf(filter)), filter));\n                      hdImg.applyFilters();\n                    }\n\n                    // z-index\u3092\u4FDD\u6301\u3057\u3066\u914D\u5217\u306B\u8FFD\u52A0\n                    console.log('\u753B\u50CF\u3092loadedObjects\u306B\u8FFD\u52A0:', index);\n                    loadedObjects.push({ index, fabricObj: hdImg });\n                    checkComplete();\n                  } catch (error) {\n                    console.error('\u753B\u50CF\u8A2D\u5B9A\u30A8\u30E9\u30FC:', error);\n                    // \u30A8\u30E9\u30FC\u3067\u3082\u30AB\u30A6\u30F3\u30C8\u3092\u9032\u3081\u308B\n                    checkComplete();\n                  }\n                },\n                { crossOrigin: 'anonymous' }\n              );\n            } else if (obj.type === 'text' || obj.type === 'textbox' || obj.type === 'i-text') {\n              // \u30C6\u30AD\u30B9\u30C8\u3092\u9AD8\u89E3\u50CF\u5EA6\u3067\u518D\u69CB\u6210\n              const hdText = new fabricLib.Text(obj.text, {\n                left: relativeLeft,\n                top: relativeTop,\n                fontSize: obj.fontSize * scaleRatio,\n                fontFamily: obj.fontFamily,\n                fill: obj.fill,\n                angle: obj.angle,\n                originX: obj.originX,\n                originY: obj.originY,\n                scaleX: obj.scaleX,\n                scaleY: obj.scaleY,\n              });\n\n              // z-index\u3092\u4FDD\u6301\u3057\u3066\u914D\u5217\u306B\u8FFD\u52A0\n              console.log('\u30C6\u30AD\u30B9\u30C8\u3092loadedObjects\u306B\u8FFD\u52A0:', index);\n              loadedObjects.push({ index, fabricObj: hdText });\n              checkComplete();\n            } else {\n              // \u305D\u306E\u4ED6\u306E\u30AA\u30D6\u30B8\u30A7\u30AF\u30C8\n              checkComplete();\n            }\n          } catch (error) {\n            console.error('\u30AA\u30D6\u30B8\u30A7\u30AF\u30C8\u51E6\u7406\u30A8\u30E9\u30FC:', error);\n            checkComplete();\n          }\n        });\n      } catch (error) {\n        console.error('generateHighResolutionOutput \u30A8\u30E9\u30FC:', error);\n        reject(error);\n      }\n    });\n  };\n\n  // ========== \u30E2\u30FC\u30C0\u30EB\u95A2\u9023\u306E\u95A2\u6570 ==========\n  \n  // \u30E2\u30FC\u30C0\u30EB\u3092\u958B\u304F\n  const openCartModal = () => {\n    // \u73FE\u5728\u9078\u629E\u3055\u308C\u3066\u3044\u308B\u30AB\u30E9\u30FC\u3092\u30E2\u30FC\u30C0\u30EB\u306E\u30C7\u30D5\u30A9\u30EB\u30C8\u306B\u8A2D\u5B9A\n    setModalColor(selectedColor.name);\n    \n    // \u73FE\u5728\u306E\u30AB\u30E9\u30FC\u30FB\u30B5\u30A4\u30BA\u306E\u500B\u6570\u304C0\u306E\u5834\u5408\u306E\u307F1\u306B\u3059\u308B\n    setModalQuantities(prev => {\n      const currentColorQuantities = prev[selectedColor.name];\n      const currentSizeQuantity = currentColorQuantities[selectedSize];\n      \n      if (currentSizeQuantity === 0) {\n        return {\n          ...prev,\n          [selectedColor.name]: {\n            ...currentColorQuantities,\n            [selectedSize]: 1,\n          }\n        };\n      }\n      return prev;\n    });\n    \n    setIsModalOpen(true);\n  };\n\n  // \u30E2\u30FC\u30C0\u30EB\u3092\u9589\u3058\u308B\n  const closeCartModal = () => {\n    setIsModalOpen(false);\n  };\n\n  // \u30E2\u30FC\u30C0\u30EB\u304B\u3089\u8907\u6570\u30A2\u30A4\u30C6\u30E0\u3092\u30AB\u30FC\u30C8\u306B\u8FFD\u52A0\n  const handleAddToCartMultiple = async () => {\n    // \u5168\u30AB\u30E9\u30FC\u30FB\u5168\u30B5\u30A4\u30BA\u304B\u3089\u9078\u629E\u3055\u308C\u305F\u500B\u6570\u3092\u53D6\u5F97\n    const allSelections: { color: string; size: string; quantity: number }[] = [];\n    \n    Object.entries(modalQuantities).forEach(([color, sizes]) => {\n      Object.entries(sizes).forEach(([size, quantity]) => {\n        if (quantity > 0) {\n          allSelections.push({ color, size, quantity });\n        }\n      });\n    });\n\n    if (allSelections.length === 0) {\n      alert('\u30B5\u30A4\u30BA\u3068\u500B\u6570\u3092\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044');\n      return;\n    }\n\n    // \u30E2\u30FC\u30C0\u30EB\u3092\u9589\u3058\u3066\u3001\u30AB\u30FC\u30C8\u306B\u8FFD\u52A0\n    closeCartModal();\n    \n    // \u5168\u9078\u629E\u306B\u5BFE\u3057\u3066\u30AB\u30FC\u30C8\u306B\u8FFD\u52A0\n    await handleAddToCartWithOptions(allSelections);\n  };\n\n  // \u8907\u6570\u306E\u30B5\u30A4\u30BA\u30FB\u500B\u6570\u3067\u30AB\u30FC\u30C8\u306B\u8FFD\u52A0\u3059\u308B\u51E6\u7406\n  const handleAddToCartWithOptions = async (allSelections: { color: string; size: string; quantity: number }[]) => {\n    if (!fabricCanvasRef.current) return;\n\n    setIsAddingToCart(true);\n    setLoadingMessage(\"\u30AB\u30FC\u30C8\u306B\u8FFD\u52A0\u4E2D...\uFF08\u5C11\u3057\u304A\u5F85\u3061\u304F\u3060\u3055\u3044\uFF09\");\n    \n    try {\n      // \u30B9\u30C6\u30C3\u30D71: \u30D7\u30EA\u30F3\u30C8\u7BC4\u56F2\u306E\u77E9\u5F62\uFF08\u70B9\u7DDA\uFF09\u3092\u4E00\u6642\u7684\u306B\u975E\u8868\u793A\n      const canvas = fabricCanvasRef.current;\n      let printAreaObj = canvas.getObjects().find((obj: any) => obj.id === 'printArea' || obj.name === 'printArea');\n      \n      // \u30D7\u30EA\u30F3\u30C8\u7BC4\u56F2\u30AA\u30D6\u30B8\u30A7\u30AF\u30C8\u3092\u975E\u8868\u793A\n      if (printAreaObj) {\n        printAreaObj.visible = false;\n        canvas.renderAll();\n      } else {\n        console.warn('\u30D7\u30EA\u30F3\u30C8\u7BC4\u56F2\u30AA\u30D6\u30B8\u30A7\u30AF\u30C8\u304C\u898B\u3064\u304B\u308A\u307E\u305B\u3093');\n      }\n\n      // \u30B9\u30C6\u30C3\u30D72: \u901A\u5E38\u89E3\u50CF\u5EA6\u7248\u3092\u751F\u6210\uFF08\u30D7\u30EC\u30D3\u30E5\u30FC\u7528\uFF09\n      const dataURL = canvas.toDataURL({\n        format: 'png',\n        quality: 1.0,\n      });\n\n      // \u30B9\u30C6\u30C3\u30D73: \u70B9\u7DDA\u3092\u518D\u8868\u793A\n      if (printAreaObj) {\n        printAreaObj.visible = true;\n        canvas.renderAll();\n      }\n      \n      // \u30B9\u30C6\u30C3\u30D74: \u9AD8\u89E3\u50CF\u5EA6\u51FA\u529B\u7528\u306E\u30D7\u30EA\u30F3\u30C8\u7BC4\u56F2\u3092\u8A08\u7B97\u3067\u6C42\u3081\u308B\n      let printArea = printAreaObj;\n      if (!printArea) {\n        const calculatedPrintArea = getPrintAreaInPixels(canvas.width);\n        printArea = {\n          left: calculatedPrintArea.left,\n          top: calculatedPrintArea.top,\n          width: calculatedPrintArea.width,\n          height: calculatedPrintArea.height,\n        };\n      }\n\n      // \u30B9\u30C6\u30C3\u30D75: \u9AD8\u89E3\u50CF\u5EA6\u7248\u3092\u751F\u6210\uFF08\u5370\u5237\u7528\u3001\u30D7\u30EA\u30F3\u30C8\u7BC4\u56F2\u306E\u307F\u3001\u80CC\u666F\u900F\u904E\uFF09\n      let dataURLHD: string;\n      try {\n        console.log('\u9AD8\u89E3\u50CF\u5EA6\u51FA\u529B\u3092\u751F\u6210\u4E2D...');\n        if (!printArea) {\n          throw new Error('\u30D7\u30EA\u30F3\u30C8\u7BC4\u56F2\u304C\u898B\u3064\u304B\u308A\u307E\u305B\u3093');\n        }\n        dataURLHD = await generateHighResolutionOutput(canvas, printArea);\n        const sizeInKB = Math.round(dataURLHD.length * 0.75 / 1024);\n        const sizeInMB = (sizeInKB / 1024).toFixed(2);\n        console.log(`\u9AD8\u89E3\u50CF\u5EA6\u51FA\u529B\u5B8C\u4E86\uFF08PNG\u900F\u904E\u3001300DPI\uFF09 - \u30B5\u30A4\u30BA: ${sizeInKB} KB ( ${sizeInMB} MB)`);\n      } catch (error) {\n        console.error('\u9AD8\u89E3\u50CF\u5EA6\u51FA\u529B\u30A8\u30E9\u30FC:', error);\n        alert(`\u9AD8\u89E3\u50CF\u5EA6\u51FA\u529B\u306B\u5931\u6557\u3057\u307E\u3057\u305F\\n\\n\u30A8\u30E9\u30FC: ${error instanceof Error ? error.message : '\u4E0D\u660E\u306A\u30A8\u30E9\u30FC'}`);\n        setIsAddingToCart(false);\n        setLoadingMessage(\"\");\n        return;\n      }\n\n      // \u30B9\u30C6\u30C3\u30D75: \u901A\u5E38\u7248\u3092Supabase\u306B\u76F4\u63A5\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\n      let designImageUrl: string;\n      try {\n        console.log('\u30D7\u30EC\u30D3\u30E5\u30FC\u753B\u50CF\u3092\u76F4\u63A5\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u4E2D...');\n        designImageUrl = await uploadToSupabaseDirect(dataURL);\n        console.log('\u30D7\u30EC\u30D3\u30E5\u30FC\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u6210\u529F:', designImageUrl);\n      } catch (uploadError) {\n        console.error('\u30D7\u30EC\u30D3\u30E5\u30FC\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u30A8\u30E9\u30FC:', uploadError);\n        alert(`\u30D7\u30EC\u30D3\u30E5\u30FC\u753B\u50CF\u306E\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u306B\u5931\u6557\u3057\u307E\u3057\u305F\\n\\n\u30A8\u30E9\u30FC: ${uploadError instanceof Error ? uploadError.message : '\u4E0D\u660E\u306A\u30A8\u30E9\u30FC'}`);\n        setIsAddingToCart(false);\n        setLoadingMessage(\"\");\n        return;\n      }\n\n      // \u30B9\u30C6\u30C3\u30D76: \u9AD8\u89E3\u50CF\u5EA6\u7248\u3092Supabase\u306B\u76F4\u63A5\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\n      let designImageUrlHD: string;\n      try {\n        console.log('\u9AD8\u89E3\u50CF\u5EA6\u753B\u50CF\u3092\u76F4\u63A5\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u4E2D...');\n        designImageUrlHD = await uploadToSupabaseDirect(dataURLHD);\n        console.log('\u9AD8\u89E3\u50CF\u5EA6\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u6210\u529F:', designImageUrlHD);\n      } catch (uploadError) {\n        console.error('\u9AD8\u89E3\u50CF\u5EA6\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u30A8\u30E9\u30FC:', uploadError);\n        alert(`\u9AD8\u89E3\u50CF\u5EA6\u753B\u50CF\u306E\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u306B\u5931\u6557\u3057\u307E\u3057\u305F\\n\\n\u30A8\u30E9\u30FC: ${uploadError instanceof Error ? uploadError.message : '\u4E0D\u660E\u306A\u30A8\u30E9\u30FC'}`);\n        setIsAddingToCart(false);\n        setLoadingMessage(\"\");\n        return;\n      }\n\n      // \u30B9\u30C6\u30C3\u30D77: design_images\u30C6\u30FC\u30D6\u30EB\u306B\u8A18\u9332\uFF08ordered: false\uFF09\n      let designImageId: string | null = null;\n      try {\n        const { createClient } = await import('@supabase/supabase-js');\n        const supabaseUrl = (window as any).ENV?.SUPABASE_URL || '';\n        const supabaseKey = (window as any).ENV?.SUPABASE_ANON_KEY || '';\n        \n        if (supabaseUrl && supabaseKey) {\n          const supabase = createClient(supabaseUrl, supabaseKey);\n          \n          const { data: insertData, error: insertError } = await supabase\n            .from('design_images')\n            .insert({\n              preview_url: designImageUrl,\n              hd_url: designImageUrlHD,\n              metadata: {\n                product_id: product.id,\n                selections: allSelections, // \u5168\u30AB\u30E9\u30FC\u30FB\u30B5\u30A4\u30BA\u306E\u9078\u629E\u3092\u4FDD\u5B58\n              }\n            })\n            .select()\n            .single();\n          \n          if (insertError) {\n            console.error('\u30C7\u30B6\u30A4\u30F3\u753B\u50CF\u306E\u8A18\u9332\u30A8\u30E9\u30FC:', insertError);\n          } else if (insertData) {\n            designImageId = insertData.id;\n            console.log('\u30C7\u30B6\u30A4\u30F3\u753B\u50CF\u3092\u8A18\u9332\u3057\u307E\u3057\u305F:', designImageId);\n          }\n        }\n      } catch (dbError) {\n        console.warn('\u30C7\u30FC\u30BF\u30D9\u30FC\u30B9\u8A18\u9332\u5931\u6557\uFF08\u7D9A\u884C\uFF09:', dbError);\n      }\n\n      // \u30B9\u30C6\u30C3\u30D78: \u5168\u3066\u306E\u30A2\u30A4\u30C6\u30E0\u3092\u914D\u5217\u306B\u307E\u3068\u3081\u308B\n      const cartItems = allSelections.map(selection => ({\n        variantId: getVariantId(selection.color, selection.size),\n        quantity: selection.quantity,\n        customAttributes: [\n          { key: \"design_image\", value: designImageUrl },\n          { key: \"design_image_hd\", value: designImageUrlHD },\n        ],\n      }));\n\n      console.log('\u30AB\u30FC\u30C8\u306B\u8FFD\u52A0\u3059\u308B\u30A2\u30A4\u30C6\u30E0\u6570:', cartItems.length);\n      console.log('\u30AB\u30FC\u30C8\u30A2\u30A4\u30C6\u30E0:', cartItems);\n\n      // \u30B9\u30C6\u30C3\u30D79: \u5168\u3066\u306E\u30A2\u30A4\u30C6\u30E0\u30921\u56DE\u3067\u30AB\u30FC\u30C8\u306B\u8FFD\u52A0\n      let checkoutUrl = '';\n      try {\n        const response = await fetch(\"/api/add-to-cart-multiple\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({\n            items: cartItems,\n          }),\n        });\n\n        if (!response.ok) {\n          throw new Error(`\u30AB\u30FC\u30C8\u8FFD\u52A0API\u30A8\u30E9\u30FC: ${response.status}`);\n        }\n        \n        const data = await response.json();\n        checkoutUrl = data.checkoutUrl;\n      } catch (error) {\n        console.error(`\u30AB\u30FC\u30C8\u8FFD\u52A0\u30A8\u30E9\u30FC:`, error);\n        alert(`\u30AB\u30FC\u30C8\u3078\u306E\u8FFD\u52A0\u306B\u5931\u6557\u3057\u307E\u3057\u305F\\n\\n\u30A8\u30E9\u30FC: ${error instanceof Error ? error.message : '\u4E0D\u660E\u306A\u30A8\u30E9\u30FC'}`);\n        setIsAddingToCart(false);\n        setLoadingMessage(\"\");\n        return;\n      }\n\n      // \u30B9\u30C6\u30C3\u30D710: Shopify\u30C1\u30A7\u30C3\u30AF\u30A2\u30A6\u30C8\u30DA\u30FC\u30B8\u306B\u79FB\u52D5\n      if (checkoutUrl) {\n        // \u6CE8\u6587\u72B6\u614B\u306E\u66F4\u65B0\u306F\u30B9\u30AD\u30C3\u30D7\n        // \u30AB\u30FC\u30C8\u8FFD\u52A0\u6642\u306F ordered: false \u306E\u307E\u307E\n        // 30\u65E5\u5F8C\u306B\u81EA\u52D5\u524A\u9664\u3055\u308C\u308B\uFF08\u672A\u8CFC\u5165\u306E\u5834\u5408\uFF09\n        if (designImageId) {\n          console.log('\u30AB\u30FC\u30C8\u8FFD\u52A0\u6210\u529F\u3002design_image_id:', designImageId);\n          console.log('ordered \u306F false \u306E\u307E\u307E\uFF0830\u65E5\u5F8C\u306B\u81EA\u52D5\u524A\u9664\u3055\u308C\u308B\uFF09');\n        }\n        \n        // Shopify\u306E\u30C1\u30A7\u30C3\u30AF\u30A2\u30A6\u30C8\u30DA\u30FC\u30B8\u306B\u30EA\u30C0\u30A4\u30EC\u30AF\u30C8\n        window.location.href = checkoutUrl;\n      } else {\n        alert(\"\u30C1\u30A7\u30C3\u30AF\u30A2\u30A6\u30C8URL\u306E\u53D6\u5F97\u306B\u5931\u6557\u3057\u307E\u3057\u305F\");\n      }\n    } catch (error) {\n      console.error(\"\u30AB\u30FC\u30C8\u8FFD\u52A0\u30A8\u30E9\u30FC:\", error);\n      alert(`\u30AB\u30FC\u30C8\u306B\u8FFD\u52A0\u3067\u304D\u307E\u305B\u3093\u3067\u3057\u305F\u3002\\n\\n\u30A8\u30E9\u30FC: ${error instanceof Error ? error.message : '\u4E0D\u660E\u306A\u30A8\u30E9\u30FC'}`);\n    } finally {\n      setIsAddingToCart(false);\n      setLoadingMessage(\"\");\n    }\n  };\n\n  // \u30D0\u30EA\u30A2\u30F3\u30C8ID\u3092\u53D6\u5F97\u3059\u308B\u30D8\u30EB\u30D1\u30FC\u95A2\u6570\n  const getVariantId = (color: string, size: string): string => {\n    const variantMap: { [key: string]: { [size: string]: string } } = {\n      '\u30DB\u30EF\u30A4\u30C8': {\n        'S': '48602131628256',\n        'M': '48602131661024',\n        'L': '48602131693792',\n        'XL': '48602131726560',\n        'XXL': '48602131759328',\n      },\n      '\u30D6\u30E9\u30C3\u30AF': {\n        'S': '48602131792096',\n        'M': '48602131824864',\n        'L': '48602131857632',\n        'XL': '48602131890400',\n        'XXL': '48602131923168',\n      },\n    };\n\n    const numericId = variantMap[color]?.[size] || '48602131661024'; // \u30C7\u30D5\u30A9\u30EB\u30C8: \u30DB\u30EF\u30A4\u30C8/M\n    return `gid://shopify/ProductVariant/${numericId}`;\n  };\n\n  // ========== \u30B9\u30C6\u30C3\u30D78: \u30AB\u30FC\u30C8\u8FFD\u52A0\u6A5F\u80FD\uFF08\u65E7\u7248\u30FB\u5358\u4E00\u30A2\u30A4\u30C6\u30E0\u7528\uFF09 ==========\n  const handleAddToCart = async () => {\n    if (!fabricCanvasRef.current) return;\n\n    setIsAddingToCart(true);\n    setLoadingMessage(\"\u30AB\u30FC\u30C8\u306B\u8FFD\u52A0\u4E2D...\uFF08\u5C11\u3057\u304A\u5F85\u3061\u304F\u3060\u3055\u3044\uFF09\");\n    \n    try {\n      // \u30B9\u30C6\u30C3\u30D71: \u30D7\u30EA\u30F3\u30C8\u7BC4\u56F2\u306E\u77E9\u5F62\uFF08\u70B9\u7DDA\uFF09\u3092\u4E00\u6642\u7684\u306B\u975E\u8868\u793A\n      const canvas = fabricCanvasRef.current;\n      const printAreaRect = canvas.getObjects().find((obj: any) => obj.name === 'printArea');\n      if (printAreaRect) {\n        printAreaRect.visible = false;\n        canvas.renderAll();\n      }\n\n      // \u30B9\u30C6\u30C3\u30D72: \u901A\u5E38\u89E3\u50CF\u5EA6\u7248\u3092\u751F\u6210\uFF08\u30D7\u30EC\u30D3\u30E5\u30FC\u7528 - \u30AD\u30E3\u30F3\u30D0\u30B9\u5168\u4F53\u3001\u70B9\u7DDA\u306A\u3057\uFF09\n      const dataURL = canvas.toDataURL({\n        format: \"png\",\n        quality: 1,\n      });\n      console.log('\u30D7\u30EC\u30D3\u30E5\u30FC\u753B\u50CF\u30B5\u30A4\u30BA:', Math.round(dataURL.length / 1024), 'KB');\n\n      // \u70B9\u7DDA\u3092\u518D\u8868\u793A\n      if (printAreaRect) {\n        printAreaRect.visible = true;\n        canvas.renderAll();\n      }\n\n      // \u30B9\u30C6\u30C3\u30D73: \u30D7\u30EA\u30F3\u30C8\u7BC4\u56F2\u3092\u53D6\u5F97\n      const printArea = getPrintAreaInPixels(canvas.width!);\n\n      // \u30B9\u30C6\u30C3\u30D74: \u9AD8\u89E3\u50CF\u5EA6\u7248\u3092\u751F\u6210\uFF08\u5370\u5237\u7528 - \u5143\u306E\u753B\u50CF\u30C7\u30FC\u30BF\u3092\u4F7F\u7528\uFF09\n      console.log('\u9AD8\u89E3\u50CF\u5EA6\u7248\u3092\u751F\u6210\u4E2D...');\n      const dataURLHD = await generateHighResolutionOutput(canvas, printArea);\n      console.log('\u9AD8\u89E3\u50CF\u5EA6\u7248\u751F\u6210\u5B8C\u4E86\u3002\u30B5\u30A4\u30BA:', Math.round(dataURLHD.length / 1024), 'KB');\n\n      // \u30B9\u30C6\u30C3\u30D75: \u901A\u5E38\u89E3\u50CF\u5EA6\u7248\u3092Cloudinary\u306B\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\n      const uploadResponse = await fetch(\"/api/upload-image\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          imageData: dataURL,\n        }),\n      });\n\n      const uploadData = await uploadResponse.json();\n\n      if (!uploadData.success) {\n        alert(uploadData.error || \"\u753B\u50CF\u306E\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u306B\u5931\u6557\u3057\u307E\u3057\u305F\");\n        return;\n      }\n\n      // \u30B9\u30C6\u30C3\u30D76: \u9AD8\u89E3\u50CF\u5EA6\u7248\u3092Supabase\u306B\u76F4\u63A5\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\uFF08\u30B5\u30FC\u30D0\u30FC\u3092\u7D4C\u7531\u3057\u306A\u3044\uFF09\n      let designImageUrlHD: string;\n      try {\n        console.log('\u9AD8\u89E3\u50CF\u5EA6\u753B\u50CF\u3092\u76F4\u63A5\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u4E2D...');\n        designImageUrlHD = await uploadToSupabaseDirect(dataURLHD);\n        console.log('\u9AD8\u89E3\u50CF\u5EA6\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u6210\u529F:', designImageUrlHD);\n      } catch (uploadError) {\n        console.error('\u9AD8\u89E3\u50CF\u5EA6\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u30A8\u30E9\u30FC:', uploadError);\n        alert(`\u9AD8\u89E3\u50CF\u5EA6\u753B\u50CF\u306E\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u306B\u5931\u6557\u3057\u307E\u3057\u305F\\n\\n\u30A8\u30E9\u30FC: ${uploadError instanceof Error ? uploadError.message : '\u4E0D\u660E\u306A\u30A8\u30E9\u30FC'}`);\n        return;\n      }\n\n      // \u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u3055\u308C\u305F\u753B\u50CF\u306EURL\n      const designImageUrl = uploadData.imageUrl; // \u30D7\u30EC\u30D3\u30E5\u30FC\u7528\uFF08\u30AD\u30E3\u30F3\u30D0\u30B9\u5168\u4F53\uFF09\n      // designImageUrlHD\u306F\u4E0A\u306E\u30B9\u30C6\u30C3\u30D76\u3067\u65E2\u306B\u5B9A\u7FA9\u6E08\u307F\n\n      // \u30B9\u30C6\u30C3\u30D77: \u30C7\u30B6\u30A4\u30F3\u753B\u50CF\u3092\u30C7\u30FC\u30BF\u30D9\u30FC\u30B9\u306B\u8A18\u9332\n      let designImageId: string | null = null;\n      try {\n        const { createClient } = await import('@supabase/supabase-js');\n        const supabaseUrl = (window as any).ENV?.SUPABASE_URL || '';\n        const supabaseKey = (window as any).ENV?.SUPABASE_ANON_KEY || '';\n        \n        if (supabaseUrl && supabaseKey) {\n          const supabase = createClient(supabaseUrl, supabaseKey);\n          \n          const { data: insertData, error: insertError } = await supabase\n            .from('design_images')\n            .insert({\n              preview_url: designImageUrl,\n              hd_url: designImageUrlHD,\n              metadata: {\n                product_id: product.id,\n                product_name: product.name,\n                color: selectedColor.name,\n                size: selectedSize,\n              }\n            })\n            .select('id')\n            .single();\n          \n          if (!insertError && insertData) {\n            designImageId = insertData.id;\n            console.log('\u30C7\u30B6\u30A4\u30F3\u753B\u50CF\u3092\u30C7\u30FC\u30BF\u30D9\u30FC\u30B9\u306B\u8A18\u9332:', designImageId);\n          } else {\n            console.warn('\u30C7\u30FC\u30BF\u30D9\u30FC\u30B9\u8A18\u9332\u30A8\u30E9\u30FC\uFF08\u7D9A\u884C\uFF09:', insertError);\n          }\n        }\n      } catch (dbError) {\n        console.warn('\u30C7\u30FC\u30BF\u30D9\u30FC\u30B9\u8A18\u9332\u5931\u6557\uFF08\u7D9A\u884C\uFF09:', dbError);\n      }\n\n      // \u30B9\u30C6\u30C3\u30D78: \u30AB\u30E9\u30FC\u00D7\u30B5\u30A4\u30BA\u306B\u5FDC\u3058\u305F\u5546\u54C1\u30D0\u30EA\u30A2\u30F3\u30C8ID\u3092\u53D6\u5F97\n      const variantMapping: { [key: string]: { [key: string]: string } } = {\n        \"\u30DB\u30EF\u30A4\u30C8\": {\n          \"S\": \"48602131628256\",\n          \"M\": \"48602131661024\",\n          \"L\": \"48602131693792\",\n          \"XL\": \"48602131726560\",\n          \"XXL\": \"48602131759328\",\n        },\n        \"\u30D6\u30E9\u30C3\u30AF\": {\n          \"S\": \"48602131792096\",\n          \"M\": \"48602131824864\",\n          \"L\": \"48602131857632\",\n          \"XL\": \"48602131890400\",\n          \"XXL\": \"48602131923168\",\n        },\n      };\n\n      // \u9078\u629E\u3055\u308C\u305F\u30AB\u30E9\u30FC\u3068\u30B5\u30A4\u30BA\u304B\u3089\u6B63\u3057\u3044\u30D0\u30EA\u30A2\u30F3\u30C8ID\u3092\u53D6\u5F97\n      const colorKey = selectedColor.name.includes(\"\u30DB\u30EF\u30A4\u30C8\") || selectedColor.name.includes(\"White\") ? \"\u30DB\u30EF\u30A4\u30C8\" : \"\u30D6\u30E9\u30C3\u30AF\";\n      const variantId = variantMapping[colorKey]?.[selectedSize] || \"48602131661024\"; // \u30C7\u30D5\u30A9\u30EB\u30C8: \u30DB\u30EF\u30A4\u30C8M\n      const productVariantId = `gid://shopify/ProductVariant/${variantId}`;\n\n      // \u30B9\u30C6\u30C3\u30D78: \u30AB\u30FC\u30C8\u306B\u8FFD\u52A0API\u3092\u547C\u3073\u51FA\u3059\uFF08\u901A\u5E38\u7248\u3068\u9AD8\u89E3\u50CF\u5EA6\u7248\u306E\u4E21\u65B9\u306EURL\u3092\u9001\u4FE1\uFF09\n      const response = await fetch(\"/api/add-to-cart\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          designImageUrl: designImageUrl, // Cloudinary\u306EURL\uFF08\u30D7\u30EC\u30D3\u30E5\u30FC\u7528\uFF09\n          designImageUrlHD: designImageUrlHD, // Cloudinary\u306EURL\uFF08\u5370\u5237\u7528\u30FB\u9AD8\u89E3\u50CF\u5EA6\uFF09\n          isAIGenerated: !!lastAIPrompt,\n          aiPrompt: lastAIPrompt,\n          productId: product.id,\n          productName: product.name,\n          color: selectedColor.name,\n          size: selectedSize,\n          price: product.price,\n          productVariantId: productVariantId,\n        }),\n      });\n\n      const data = await response.json();\n\n      if (data.success && data.checkoutUrl) {\n        // \u30B9\u30C6\u30C3\u30D79: \u6CE8\u6587\u72B6\u614B\u306E\u66F4\u65B0\u306F\u30B9\u30AD\u30C3\u30D7\n        // \u30AB\u30FC\u30C8\u8FFD\u52A0\u6642\u306F ordered: false \u306E\u307E\u307E\n        // 30\u65E5\u5F8C\u306B\u81EA\u52D5\u524A\u9664\u3055\u308C\u308B\uFF08\u672A\u8CFC\u5165\u306E\u5834\u5408\uFF09\n        // \n        // \u5C06\u6765\u7684\u306BShopify Webhook\u3092\u5B9F\u88C5\u3059\u308B\u5834\u5408\u306F\u3001\n        // \u6CE8\u6587\u5B8C\u4E86\u6642\u306B ordered: true \u306B\u66F4\u65B0\u3059\u308B\n        if (designImageId) {\n          console.log('\u30AB\u30FC\u30C8\u8FFD\u52A0\u6210\u529F\u3002design_image_id:', designImageId);\n          console.log('ordered \u306F false \u306E\u307E\u307E\uFF0830\u65E5\u5F8C\u306B\u81EA\u52D5\u524A\u9664\u3055\u308C\u308B\uFF09');\n        }\n        \n        // Shopify\u306E\u30C1\u30A7\u30C3\u30AF\u30A2\u30A6\u30C8\u30DA\u30FC\u30B8\u306B\u30EA\u30C0\u30A4\u30EC\u30AF\u30C8\n        window.location.href = data.checkoutUrl;\n      } else {\n        alert(data.error || \"\u30AB\u30FC\u30C8\u3078\u306E\u8FFD\u52A0\u306B\u5931\u6557\u3057\u307E\u3057\u305F\");\n      }\n    } catch (error) {\n      console.error(\"\u30AB\u30FC\u30C8\u8FFD\u52A0\u30A8\u30E9\u30FC:\", error);\n      const errorMessage = error instanceof Error ? error.message : \"\u4E0D\u660E\u306A\u30A8\u30E9\u30FC\";\n      alert(`\u30AB\u30FC\u30C8\u3078\u306E\u8FFD\u52A0\u306B\u5931\u6557\u3057\u307E\u3057\u305F\\n\\n\u30A8\u30E9\u30FC: ${errorMessage}`);\n    } finally {\n      setIsAddingToCart(false);\n      setLoadingMessage(\"\");\n    }\n  };\n\n  // ========== \u30B9\u30C6\u30C3\u30D79: \u305D\u306E\u4ED6\u306E\u6A5F\u80FD ==========\n  const handleUploadClick = () => fileInputRef.current?.click();\n\n  const handleRemoveSelected = () => {\n    if (fabricCanvasRef.current && selectedObject) {\n      // \u521D\u56DE\u30C6\u30AD\u30B9\u30C8\u30AA\u30D6\u30B8\u30A7\u30AF\u30C8\u304C\u524A\u9664\u3055\u308C\u308B\u5834\u5408\u3001\u53C2\u7167\u3092\u30AF\u30EA\u30A2\n      if (firstTextObjectRef.current === selectedObject) {\n        firstTextObjectRef.current = null;\n        setTextInput(\"\"); // \u30C6\u30AD\u30B9\u30C8\u5165\u529B\u30D5\u30A3\u30FC\u30EB\u30C9\u3082\u30AF\u30EA\u30A2\n      }\n      \n      fabricCanvasRef.current.remove(selectedObject);\n      fabricCanvasRef.current.renderAll();\n      setSelectedObject(null);\n      setIsLoading(false); // \u30ED\u30FC\u30C7\u30A3\u30F3\u30B0\u72B6\u614B\u3092\u30EA\u30BB\u30C3\u30C8\n      \n      // \u5C65\u6B74\u3092\u521D\u671F\u72B6\u614B\u306B\u30EA\u30BB\u30C3\u30C8\uFF08\u3084\u308A\u76F4\u3057\u3092\u7121\u52B9\u5316\uFF09\n      const initialState = historyRef.current[0];\n      historyRef.current = [initialState];\n      historyStepRef.current = 0;\n      updateHistoryButtons();\n    }\n  };\n\n  // \u30AA\u30D6\u30B8\u30A7\u30AF\u30C8\u914D\u7F6E\u30FB\u6574\u5217\u6A5F\u80FD\n  const handleCenterVertical = () => {\n    if (fabricCanvasRef.current && selectedObject) {\n      const canvas = fabricCanvasRef.current;\n      const printArea = getPrintAreaInPixels(canvas.width!);\n      \n      // \u30D7\u30EA\u30F3\u30C8\u7BC4\u56F2\u306E\u4E0A\u4E0B\u4E2D\u592E\u306B\u914D\u7F6E\n      selectedObject.set({\n        top: printArea.top + printArea.height / 2,\n        originY: 'center'\n      });\n      selectedObject.setCoords();\n      canvas.renderAll();\n      saveHistory();\n    }\n  };\n\n  const handleCenterHorizontal = () => {\n    if (fabricCanvasRef.current && selectedObject) {\n      const canvas = fabricCanvasRef.current;\n      const printArea = getPrintAreaInPixels(canvas.width!);\n      \n      // \u30D7\u30EA\u30F3\u30C8\u7BC4\u56F2\u306E\u5DE6\u53F3\u4E2D\u592E\u306B\u914D\u7F6E\n      selectedObject.set({\n        left: printArea.left + printArea.width / 2,\n        originX: 'center'\n      });\n      selectedObject.setCoords();\n      canvas.renderAll();\n      saveHistory();\n    }\n  };\n\n  const handleBringForward = () => {\n    if (fabricCanvasRef.current && selectedObject) {\n      fabricCanvasRef.current.bringForward(selectedObject);\n      fabricCanvasRef.current.renderAll();\n    }\n  };\n\n  const handleSendBackwards = () => {\n    if (fabricCanvasRef.current && selectedObject) {\n      fabricCanvasRef.current.sendBackwards(selectedObject);\n      fabricCanvasRef.current.renderAll();\n    }\n  };\n\n  const handleFitToPrintArea = () => {\n    if (!fabricCanvasRef.current || !selectedObject) return;\n    \n    const canvas = fabricCanvasRef.current;\n    const printArea = getPrintAreaInPixels(canvas.width!);\n    \n    // \u30D7\u30EA\u30F3\u30C8\u7BC4\u56F2\u3044\u3063\u3071\u3044\u306B\u30B9\u30B1\u30FC\u30EB\uFF08\u5143\u306E\u30B5\u30A4\u30BA\u304B\u3089\u8A08\u7B97\uFF09\n    const scaleX = printArea.width / selectedObject.width!;\n    const scaleY = printArea.height / selectedObject.height!;\n    const scale = Math.min(scaleX, scaleY);\n    \n    // \u7D76\u5BFE\u5024\u3067\u30B9\u30B1\u30FC\u30EB\u3092\u8A2D\u5B9A\n    selectedObject.set({\n      scaleX: scale,\n      scaleY: scale,\n      left: printArea.left + printArea.width / 2,\n      top: printArea.top + printArea.height / 2,\n    });\n    \n    selectedObject.setCoords();\n    canvas.renderAll();\n    saveHistory();\n  };\n\n  const handleClearCanvas = () => {\n    if (fabricCanvasRef.current) {\n      fabricCanvasRef.current.getObjects().forEach((obj) => {\n        fabricCanvasRef.current?.remove(obj);\n      });\n      fabricCanvasRef.current.renderAll();\n      setUploadedImages([]);\n      setSelectedObject(null);\n      setIsLoading(false); // \u30ED\u30FC\u30C7\u30A3\u30F3\u30B0\u72B6\u614B\u3092\u30EA\u30BB\u30C3\u30C8\n      \n      // \u521D\u56DE\u30C6\u30AD\u30B9\u30C8\u30AA\u30D6\u30B8\u30A7\u30AF\u30C8\u3082\u30AF\u30EA\u30A2\n      firstTextObjectRef.current = null;\n      setTextInput(\"\");\n      \n      // \u5C65\u6B74\u3092\u521D\u671F\u72B6\u614B\u306B\u30EA\u30BB\u30C3\u30C8\uFF08\u3084\u308A\u76F4\u3057\u3092\u7121\u52B9\u5316\uFF09\n      const initialState = historyRef.current[0];\n      historyRef.current = [initialState];\n      historyStepRef.current = 0;\n      updateHistoryButtons();\n    }\n  };\n\n  const handleSaveDesign = () => {\n    if (fabricCanvasRef.current) {\n      const dataURL = fabricCanvasRef.current.toDataURL({\n        format: \"png\",\n        quality: 1,\n      });\n\n      const link = document.createElement(\"a\");\n      link.download = \"tshirt-design.png\";\n      link.href = dataURL;\n      link.click();\n    }\n  };\n\n  // ========== \u30B9\u30C6\u30C3\u30D710: UI\u30EC\u30F3\u30C0\u30EA\u30F3\u30B0 ==========\n  \n  // Fabric.js\u304C\u8AAD\u307F\u8FBC\u307E\u308C\u308B\u307E\u3067\u30ED\u30FC\u30C7\u30A3\u30F3\u30B0\u8868\u793A\n  if (!fabricLoaded) {\n    return (\n      <div style={{ padding: \"60px\", textAlign: \"center\" }}>\n        <h2>\u23F3 \u8AAD\u307F\u8FBC\u307F\u4E2D...</h2>\n        <p style={{ color: \"#666\", marginTop: \"20px\" }}>\n          Fabric.js\u30E9\u30A4\u30D6\u30E9\u30EA\u3092\u8AAD\u307F\u8FBC\u3093\u3067\u3044\u307E\u3059...\n        </p>\n        <div style={{ \n          marginTop: \"30px\", \n          width: \"200px\", \n          height: \"4px\", \n          backgroundColor: \"#e0e0e0\", \n          margin: \"30px auto\",\n          borderRadius: \"2px\",\n          overflow: \"hidden\"\n        }}>\n          <div style={{\n            width: \"50%\",\n            height: \"100%\",\n            backgroundColor: \"#5c6ac4\",\n            animation: \"loading 1.5s ease-in-out infinite\"\n          }}></div>\n        </div>\n        <style>{`\n          @keyframes loading {\n            0% { transform: translateX(-100%); }\n            50% { transform: translateX(200%); }\n            100% { transform: translateX(-100%); }\n          }\n        `}</style>\n      </div>\n    );\n  }\n  \n  return (\n    <div style={{ \n      width: \"100%\", \n      maxWidth: \"1600px\",\n      margin: \"0 auto\", \n      padding: 0 \n    }}>\n      {/* \u30BA\u30FC\u30E0\u6642\u306E\u80CC\u666F\u30AA\u30FC\u30D0\u30FC\u30EC\u30A4 */}\n      {isZoomed && (\n        <div\n          onClick={() => setIsZoomed(false)}\n          style={{\n            position: \"fixed\",\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            backgroundColor: \"rgba(0, 0, 0, 0.85)\",\n            zIndex: 9998,\n            cursor: \"pointer\",\n          }}\n        />\n      )}\n      \n      {/* \u5546\u54C1\u60C5\u5831\u30D0\u30CA\u30FC */}\n      <div style={{\n        backgroundColor: \"white\",\n        borderRadius: \"0\",\n        padding: isMobile ? \"15px\" : \"20px\",\n        marginBottom: \"0\",\n        boxShadow: \"0 2px 8px rgba(0,0,0,0.08)\",\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: isMobile ? \"flex-start\" : \"center\",\n        flexWrap: \"wrap\",\n        gap: \"15px\",\n      }}>\n        <div style={{ flex: \"1 1 300px\" }}>\n          <h2 style={{ \n            margin: 0, \n            fontSize: isMobile ? \"18px\" : \"20px\", \n            color: \"#333\" \n          }}>\n            {product.name}\n          </h2>\n          <div style={{ \n            marginTop: \"10px\", \n            display: \"flex\", \n            gap: \"15px\", \n            alignItems: \"center\",\n            fontSize: \"13px\",\n          }}>\n            <div style={{ \n              display: \"flex\", \n              alignItems: \"center\", \n              gap: \"6px\",\n              padding: \"6px 12px\",\n              backgroundColor: \"#f0f4ff\",\n              borderRadius: \"20px\",\n            }}>\n              <div\n                style={{\n                  width: \"16px\",\n                  height: \"16px\",\n                  borderRadius: \"50%\",\n                  backgroundColor: selectedColor.hex,\n                  border: selectedColor.hex === '#FFFFFF' || selectedColor.hex === '#F5F5DC'\n                    ? '1.5px solid #ddd' \n                    : 'none',\n                }}\n              />\n              <span style={{ color: \"#667eea\", fontWeight: \"600\" }}>\n                {selectedColor.name}\n              </span>\n            </div>\n            <div style={{ \n              padding: \"6px 12px\",\n              backgroundColor: \"#f0f4ff\",\n              borderRadius: \"20px\",\n              color: \"#667eea\",\n              fontWeight: \"600\",\n            }}>\n              \u30B5\u30A4\u30BA: {selectedSize}\n            </div>\n          </div>\n        </div>\n        <div style={{ textAlign: \"right\" }}>\n          <div style={{ \n            fontSize: isMobile ? \"24px\" : \"28px\", \n            fontWeight: \"bold\", \n            color: \"#667eea\" \n          }}>\n            \u00A5{product.price.toLocaleString()}\n          </div>\n          <div style={{ \n            fontSize: isMobile ? \"11px\" : \"12px\", \n            color: \"#999\", \n            marginTop: \"5px\" \n          }}>\n            \u7A0E\u8FBC\u4FA1\u683C\n          </div>\n        </div>\n      </div>\n\n      <div style={{ \n        display: \"flex\", \n        flexDirection: isMobile ? \"column\" : \"row\",\n        gap: \"0\", \n        width: \"100%\", \n        margin: 0, \n        alignItems: \"flex-start\",\n      }}>\n        {/* \u5DE6\u5074: \u30AD\u30E3\u30F3\u30D0\u30B9\u30A8\u30EA\u30A2 */}\n        <div style={{ \n          flex: isMobile ? \"none\" : \"1 1 auto\", \n          minWidth: \"0\", \n          width: isMobile ? \"100%\" : \"auto\",\n          backgroundColor: \"#f5f5f5\" \n        }}>\n          <div style={{ \n            display: \"flex\", \n            flexDirection: \"column\", \n            alignItems: \"center\", \n            padding: isMobile ? \"15px\" : \"20px\",\n            width: \"100%\",\n          }}>\n            <div\n              style={{\n                border: \"none\",\n                borderRadius: \"0\",\n                overflow: \"visible\",\n                boxShadow: \"none\",\n                backgroundColor: \"#f5f5f5\",\n                width: \"100%\",\n                maxWidth: isZoomed ? \"none\" : \"800px\",\n                margin: \"0 auto\",\n                position: isZoomed ? \"fixed\" : \"relative\",\n                top: isZoomed ? 0 : \"auto\",\n                left: isZoomed ? 0 : \"auto\",\n                right: isZoomed ? 0 : \"auto\",\n                bottom: isZoomed ? 0 : \"auto\",\n                zIndex: isZoomed ? 9999 : \"auto\",\n                display: \"flex\",\n                justifyContent: \"center\",\n                alignItems: \"center\",\n                padding: isZoomed ? \"20px\" : \"0\",\n              }}\n            >\n              {/* \u30BA\u30FC\u30E0\u30DC\u30BF\u30F3 */}\n              <button\n                onClick={() => setIsZoomed(!isZoomed)}\n                style={{\n                  position: \"absolute\",\n                  top: isZoomed ? \"20px\" : \"10px\",\n                  right: isZoomed ? \"20px\" : \"10px\",\n                  width: \"40px\",\n                  height: \"40px\",\n                  borderRadius: \"50%\",\n                  border: \"none\",\n                  backgroundColor: \"white\",\n                  boxShadow: \"0 2px 8px rgba(0,0,0,0.15)\",\n                  cursor: \"pointer\",\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  justifyContent: \"center\",\n                  zIndex: 10,\n                  transition: \"all 0.2s ease\",\n                }}\n                onMouseEnter={(e) => {\n                  e.currentTarget.style.transform = \"scale(1.1)\";\n                  e.currentTarget.style.boxShadow = \"0 4px 12px rgba(0,0,0,0.2)\";\n                }}\n                onMouseLeave={(e) => {\n                  e.currentTarget.style.transform = \"scale(1)\";\n                  e.currentTarget.style.boxShadow = \"0 2px 8px rgba(0,0,0,0.15)\";\n                }}\n                title={isZoomed ? \"\u5143\u306E\u30B5\u30A4\u30BA\u306B\u623B\u3059\" : \"\u62E1\u5927\u8868\u793A\"}\n              >\n                <Icon type={isZoomed ? \"zoomOut\" : \"zoomIn\"} size={20} color=\"#667eea\" />\n              </button>\n              \n              <canvas \n                ref={canvasRef} \n                style={{ \n                  display: \"block\",\n                  width: isZoomed ? \"auto\" : \"100%\",\n                  height: isZoomed ? \"90vh\" : \"auto\",\n                  maxWidth: isZoomed ? \"90vw\" : \"none\",\n                  maxHeight: isZoomed ? \"90vh\" : \"none\",\n                  objectFit: \"contain\",\n                }} \n              />\n            </div>\n\n            {/* \u30AA\u30D6\u30B8\u30A7\u30AF\u30C8\u64CD\u4F5C\u30B3\u30F3\u30C8\u30ED\u30FC\u30EB */}\n            <div style={{ \n              marginTop: \"15px\", \n              display: \"flex\", \n              flexWrap: \"wrap\",\n              gap: isMobile ? \"8px\" : \"10px\", \n              justifyContent: \"center\",\n              width: \"100%\",\n              maxWidth: isMobile ? \"100%\" : \"800px\"\n            }}>\n              {/* \u5C65\u6B74 */}\n              <button \n                onClick={handleUndo} \n                disabled={!canUndo} \n                style={{\n                  ...historyButtonStyle(canUndo),\n                  padding: isMobile ? \"8px 10px\" : \"10px 12px\",\n                  display: \"flex\",\n                  flexDirection: \"column\",\n                  alignItems: \"center\",\n                  gap: \"4px\",\n                  minWidth: isMobile ? \"60px\" : \"70px\"\n                }}\n                title=\"\u5143\u306B\u623B\u3059 (Cmd/Ctrl+Z)\"\n              >\n                <svg width={isMobile ? \"18\" : \"20\"} height={isMobile ? \"18\" : \"20\"} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                  <path d=\"M3 7v6h6\" />\n                  <path d=\"M21 17a9 9 0 00-9-9 9 9 0 00-6 2.3L3 13\" />\n                </svg>\n                <span style={{ fontSize: isMobile ? \"9px\" : \"10px\" }}>\u5143\u306B\u623B\u3059</span>\n              </button>\n              <button \n                onClick={handleRedo} \n                disabled={!canRedo} \n                style={{\n                  ...historyButtonStyle(canRedo),\n                  padding: isMobile ? \"8px 10px\" : \"10px 12px\",\n                  display: \"flex\",\n                  flexDirection: \"column\",\n                  alignItems: \"center\",\n                  gap: \"4px\",\n                  minWidth: isMobile ? \"60px\" : \"70px\"\n                }}\n                title=\"\u3084\u308A\u76F4\u3057 (Cmd/Ctrl+Shift+Z)\"\n              >\n                <svg width={isMobile ? \"18\" : \"20\"} height={isMobile ? \"18\" : \"20\"} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                  <path d=\"M21 7v6h-6\" />\n                  <path d=\"M3 17a9 9 0 019-9 9 9 0 016 2.3l3 2.7\" />\n                </svg>\n                <span style={{ fontSize: isMobile ? \"9px\" : \"10px\" }}>\u3084\u308A\u76F4\u3057</span>\n              </button>\n              \n              {/* \u914D\u7F6E */}\n              <button \n                onClick={handleCenterVertical} \n                disabled={!selectedObject}\n                style={{\n                  ...historyButtonStyle(!!selectedObject),\n                  padding: isMobile ? \"8px 10px\" : \"10px 12px\",\n                  display: \"flex\",\n                  flexDirection: \"column\",\n                  alignItems: \"center\",\n                  gap: \"4px\",\n                  minWidth: isMobile ? \"60px\" : \"70px\"\n                }}\n                title=\"\u4E0A\u4E0B\u4E2D\u592E\"\n              >\n                <svg width={isMobile ? \"18\" : \"20\"} height={isMobile ? \"18\" : \"20\"} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                  <path d=\"M12 5v14M5 12l7-7 7 7M5 12l7 7 7-7\" />\n                </svg>\n                <span style={{ fontSize: isMobile ? \"9px\" : \"10px\" }}>\u4E0A\u4E0B\u4E2D\u592E</span>\n              </button>\n              <button \n                onClick={handleCenterHorizontal} \n                disabled={!selectedObject}\n                style={{\n                  ...historyButtonStyle(!!selectedObject),\n                  padding: isMobile ? \"8px 10px\" : \"10px 12px\",\n                  display: \"flex\",\n                  flexDirection: \"column\",\n                  alignItems: \"center\",\n                  gap: \"4px\",\n                  minWidth: isMobile ? \"60px\" : \"70px\"\n                }}\n                title=\"\u5DE6\u53F3\u4E2D\u592E\"\n              >\n                <svg width={isMobile ? \"18\" : \"20\"} height={isMobile ? \"18\" : \"20\"} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                  <path d=\"M5 12h14M12 5l-7 7 7 7M12 5l7 7-7 7\" />\n                </svg>\n                <span style={{ fontSize: isMobile ? \"9px\" : \"10px\" }}>\u5DE6\u53F3\u4E2D\u592E</span>\n              </button>\n              \n              {/* \u91CD\u306A\u308A\u9806 */}\n              <button \n                onClick={handleBringForward} \n                disabled={!selectedObject}\n                style={{\n                  ...historyButtonStyle(!!selectedObject),\n                  padding: isMobile ? \"8px 10px\" : \"10px 12px\",\n                  display: \"flex\",\n                  flexDirection: \"column\",\n                  alignItems: \"center\",\n                  gap: \"4px\",\n                  minWidth: isMobile ? \"60px\" : \"70px\"\n                }}\n                title=\"\u624B\u524D\u306B\u79FB\u52D5\"\n              >\n                <svg width={isMobile ? \"18\" : \"20\"} height={isMobile ? \"18\" : \"20\"} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                  <rect x=\"9\" y=\"13\" width=\"10\" height=\"10\" rx=\"2\" ry=\"2\" opacity=\"0.5\" />\n                  <rect x=\"5\" y=\"1\" width=\"10\" height=\"10\" rx=\"2\" ry=\"2\" />\n                </svg>\n                <span style={{ fontSize: isMobile ? \"9px\" : \"10px\" }}>\u624B\u524D\u3078</span>\n              </button>\n              <button \n                onClick={handleSendBackwards} \n                disabled={!selectedObject}\n                style={{\n                  ...historyButtonStyle(!!selectedObject),\n                  padding: isMobile ? \"8px 10px\" : \"10px 12px\",\n                  display: \"flex\",\n                  flexDirection: \"column\",\n                  alignItems: \"center\",\n                  gap: \"4px\",\n                  minWidth: isMobile ? \"60px\" : \"70px\"\n                }}\n                title=\"\u5965\u306B\u79FB\u52D5\"\n              >\n                <svg width={isMobile ? \"18\" : \"20\"} height={isMobile ? \"18\" : \"20\"} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                  <rect x=\"5\" y=\"1\" width=\"10\" height=\"10\" rx=\"2\" ry=\"2\" opacity=\"0.5\" />\n                  <rect x=\"9\" y=\"13\" width=\"10\" height=\"10\" rx=\"2\" ry=\"2\" />\n                </svg>\n                <span style={{ fontSize: isMobile ? \"9px\" : \"10px\" }}>\u5965\u3078</span>\n              </button>\n              \n              {/* \u305D\u306E\u4ED6 */}\n              <button \n                onClick={handleFitToPrintArea} \n                disabled={!selectedObject}\n                style={{\n                  ...historyButtonStyle(!!selectedObject),\n                  padding: isMobile ? \"8px 10px\" : \"10px 12px\",\n                  display: \"flex\",\n                  flexDirection: \"column\",\n                  alignItems: \"center\",\n                  gap: \"4px\",\n                  minWidth: isMobile ? \"60px\" : \"70px\"\n                }}\n                title=\"\u5370\u5237\u9762\u3092\u8986\u3046\"\n              >\n                <svg width={isMobile ? \"18\" : \"20\"} height={isMobile ? \"18\" : \"20\"} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                  <path d=\"M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7\" />\n                </svg>\n                <span style={{ fontSize: isMobile ? \"9px\" : \"10px\" }}>\u30D7\u30EA\u30F3\u30C8\u7BC4\u56F2\u6700\u5927</span>\n              </button>\n              <button \n                onClick={handleRemoveSelected} \n                disabled={!selectedObject}\n                style={{\n                  ...historyButtonStyle(!!selectedObject),\n                  padding: isMobile ? \"8px 10px\" : \"10px 12px\",\n                  display: \"flex\",\n                  flexDirection: \"column\",\n                  alignItems: \"center\",\n                  gap: \"4px\",\n                  minWidth: isMobile ? \"60px\" : \"70px\",\n                  backgroundColor: selectedObject ? \"#e74c3c\" : \"#cccccc\",\n                }}\n                title=\"\u524A\u9664 (Delete/Backspace)\"\n              >\n                <svg width={isMobile ? \"18\" : \"20\"} height={isMobile ? \"18\" : \"20\"} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                  <polyline points=\"3 6 5 6 21 6\" />\n                  <path d=\"M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2\" />\n                  <line x1=\"10\" y1=\"11\" x2=\"10\" y2=\"17\" />\n                  <line x1=\"14\" y1=\"11\" x2=\"14\" y2=\"17\" />\n                </svg>\n                <span style={{ fontSize: isMobile ? \"9px\" : \"10px\" }}>\u524A\u9664</span>\n              </button>\n            </div>\n\n            {/* \u64CD\u4F5C\u8AAC\u660E */}\n            <div style={{ \n              ...infoBoxStyle, \n              width: \"100%\", \n              maxWidth: isMobile ? \"100%\" : \"800px\", \n              backgroundColor: \"#ffffff\",\n              marginTop: isMobile ? \"15px\" : \"20px\",\n              padding: isMobile ? \"15px\" : \"20px\"\n            }}>\n              <h3 style={{ \n                marginTop: 0, \n                fontSize: isMobile ? \"14px\" : \"16px\" \n              }}>\n                \uD83D\uDCDD \u4F7F\u3044\u65B9\n              </h3>\n              <ul style={{ \n                marginBottom: 0, \n                lineHeight: 1.6, \n                paddingLeft: isMobile ? \"18px\" : \"20px\", \n                fontSize: isMobile ? \"12px\" : \"13px\" \n              }}>\n                <li>\uD83E\uDD16 AI\u306B\u753B\u50CF\u3092\u751F\u6210\u3055\u305B\u308B\u3053\u3068\u304C\u3067\u304D\u307E\u3059</li>\n                <li>\uD83D\uDCF7 \u753B\u50CF\u3092\u8907\u6570\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u3057\u3066\u91CD\u306D\u5408\u308F\u305B\u3067\u304D\u307E\u3059</li>\n                <li>\u270F\uFE0F \u30C6\u30AD\u30B9\u30C8\u3092\u8FFD\u52A0\u3057\u3066\u30AB\u30B9\u30BF\u30DE\u30A4\u30BA\u3067\u304D\u307E\u3059</li>\n                <li>\uD83C\uDFA8 \u753B\u50CF\u306B\u30D5\u30A3\u30EB\u30BF\u30FC\u3092\u9069\u7528\u3067\u304D\u307E\u3059</li>\n                <li>\uD83D\uDED2 \u5B8C\u6210\u3057\u305F\u3089Shopify\u30AB\u30FC\u30C8\u306B\u8FFD\u52A0\u3067\u304D\u307E\u3059</li>\n              </ul>\n            </div>\n          </div>\n        </div>\n\n        {/* \u53F3\u5074: \u30B3\u30F3\u30C8\u30ED\u30FC\u30EB\u30D1\u30CD\u30EB */}\n        <div style={{ \n          width: isMobile ? \"100%\" : \"min(380px, 30vw)\", \n          minWidth: isMobile ? \"auto\" : \"300px\",\n          maxWidth: isMobile ? \"100%\" : \"400px\",\n          flex: isMobile ? \"none\" : \"0 0 auto\",\n          backgroundColor: \"#ffffff\",\n          overflowY: \"auto\",\n          overflowX: \"hidden\",\n          height: isMobile ? \"auto\" : \"100vh\",\n          position: isMobile ? \"relative\" : \"sticky\",\n          top: 0,\n        }}>\n          <div style={{\n            ...panelStyle,\n            padding: isMobile ? \"20px 15px\" : \"24px\",\n            wordWrap: \"break-word\",\n            overflowWrap: \"break-word\",\n          }}>\n            <h2 style={{ \n              marginTop: 0, \n              color: \"#333\", \n              marginBottom: isMobile ? \"15px\" : \"20px\",\n              fontSize: isMobile ? \"18px\" : \"20px\"\n            }}>\n              \u5546\u54C1\u8A73\u7D30\n            </h2>\n\n            {/* \u5546\u54C1\u8AAC\u660E\u30BB\u30AF\u30B7\u30E7\u30F3 */}\n            <div style={sectionStyle}>\n              <div style={{\n                padding: \"15px\",\n                backgroundColor: \"#f8f9fa\",\n                borderRadius: \"8px\",\n                marginBottom: \"20px\",\n              }}>\n                <h3 style={{ ...sectionTitleStyle, marginTop: 0 }}>\uD83D\uDCDD \u5546\u54C1\u8AAC\u660E</h3>\n                <p style={{ \n                  fontSize: \"14px\", \n                  color: \"#666\", \n                  lineHeight: \"1.6\",\n                  margin: 0,\n                }}>\n                  {product.description}\n                </p>\n              </div>\n            </div>\n\n            {/* \u672C\u4F53\u30AB\u30E9\u30FC\u9078\u629E\u30BB\u30AF\u30B7\u30E7\u30F3 */}\n            <div style={sectionStyle}>\n              <h3 style={sectionTitleStyle}>\uD83C\uDFA8 \u672C\u4F53\u30AB\u30E9\u30FC</h3>\n              <div style={{ display: \"flex\", gap: \"12px\", marginBottom: \"20px\" }}>\n                {product.colors.map((color) => (\n                  <button\n                    key={color.name}\n                    onClick={() => setSelectedColor(color)}\n                    style={{\n                      flex: 1,\n                      padding: \"12px\",\n                      border: selectedColor.name === color.name \n                        ? \"3px solid #667eea\" \n                        : \"2px solid #ddd\",\n                      borderRadius: \"8px\",\n                      backgroundColor: \"white\",\n                      cursor: \"pointer\",\n                      transition: \"all 0.2s\",\n                      display: \"flex\",\n                      flexDirection: \"column\",\n                      alignItems: \"center\",\n                      gap: \"8px\",\n                    }}\n                    onMouseEnter={(e) => {\n                      if (selectedColor.name !== color.name) {\n                        e.currentTarget.style.borderColor = \"#999\";\n                      }\n                    }}\n                    onMouseLeave={(e) => {\n                      if (selectedColor.name !== color.name) {\n                        e.currentTarget.style.borderColor = \"#ddd\";\n                      }\n                    }}\n                  >\n                    <div\n                      style={{\n                        width: \"40px\",\n                        height: \"40px\",\n                        borderRadius: \"50%\",\n                        backgroundColor: color.hex,\n                        border: color.hex === '#FFFFFF' || color.hex === '#F5F5DC'\n                          ? '2px solid #e0e0e0' \n                          : 'none',\n                        boxShadow: \"0 2px 4px rgba(0,0,0,0.1)\",\n                      }}\n                    />\n                    <span style={{ \n                      fontSize: \"12px\", \n                      fontWeight: selectedColor.name === color.name ? \"bold\" : \"normal\",\n                      color: selectedColor.name === color.name ? \"#667eea\" : \"#666\",\n                    }}>\n                      {color.name}\n                    </span>\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            {/* \u30B5\u30A4\u30BA\u9078\u629E\u30BB\u30AF\u30B7\u30E7\u30F3 */}\n            <div style={sectionStyle}>\n              <h3 style={sectionTitleStyle}>\uD83D\uDCCF \u30B5\u30A4\u30BA</h3>\n              <div style={{ \n                display: \"grid\", \n                gridTemplateColumns: \"repeat(5, 1fr)\", \n                gap: \"8px\",\n                marginBottom: \"20px\",\n              }}>\n                {sizes.map((size) => (\n                  <button\n                    key={size}\n                    onClick={() => setSelectedSize(size)}\n                    style={{\n                      padding: \"12px 8px\",\n                      border: selectedSize === size \n                        ? \"3px solid #667eea\" \n                        : \"2px solid #ddd\",\n                      borderRadius: \"8px\",\n                      backgroundColor: selectedSize === size ? \"#f0f4ff\" : \"white\",\n                      cursor: \"pointer\",\n                      fontSize: \"14px\",\n                      fontWeight: selectedSize === size ? \"bold\" : \"normal\",\n                      color: selectedSize === size ? \"#667eea\" : \"#666\",\n                      transition: \"all 0.2s\",\n                    }}\n                    onMouseEnter={(e) => {\n                      if (selectedSize !== size) {\n                        e.currentTarget.style.backgroundColor = \"#f5f5f5\";\n                      }\n                    }}\n                    onMouseLeave={(e) => {\n                      if (selectedSize !== size) {\n                        e.currentTarget.style.backgroundColor = \"white\";\n                      }\n                    }}\n                  >\n                    {size}\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            <hr style={dividerStyle} />\n\n            {/* \u30AB\u30FC\u30C8\u306B\u8FFD\u52A0\u30DC\u30BF\u30F3 */}\n            <button\n              onClick={openCartModal}\n              disabled={isAddingToCart}\n              style={{\n                ...buttonStyle(\"#5c6ac4\", !isAddingToCart),\n                fontSize: isMobile ? \"16px\" : \"18px\",\n                fontWeight: \"bold\",\n                padding: isMobile ? \"14px\" : \"16px\",\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                gap: \"8px\",\n                marginBottom: \"24px\"\n              }}\n            >\n              {isAddingToCart ? (\n                <div style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\", gap: \"4px\" }}>\n                  <div style={{ display: \"flex\", alignItems: \"center\", gap: \"8px\" }}>\n                    <Icon type=\"loading\" size={20} color=\"white\" /> \n                    \u30AB\u30FC\u30C8\u306B\u8FFD\u52A0\u4E2D...\n                  </div>\n                  <span style={{ fontSize: \"13px\" }}>\uFF08\u5C11\u3057\u304A\u5F85\u3061\u304F\u3060\u3055\u3044\uFF09</span>\n                </div>\n              ) : (\n                <><Icon type=\"cart\" size={20} color=\"white\" /> \u30AB\u30FC\u30C8\u306B\u8FFD\u52A0</>\n              )}\n            </button>\n\n            <hr style={dividerStyle} />\n\n            <h2 style={{ marginTop: 0, color: \"#333\" }}>\u30C7\u30B6\u30A4\u30F3\u7DE8\u96C6</h2>\n\n            {/* \u753B\u50CF\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u30BB\u30AF\u30B7\u30E7\u30F3 */}\n            <div style={sectionStyle}>\n              <h3 style={sectionTitleStyle}>\uD83D\uDCF7 \u753B\u50CF\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9</h3>\n              <input\n                ref={fileInputRef}\n                type=\"file\"\n                accept=\"image/*\"\n                multiple\n                onChange={handleImageUpload}\n                style={{ display: \"none\" }}\n              />\n              <button\n                onClick={handleUploadClick}\n                disabled={isLoading}\n                style={{\n                  ...buttonStyle(\"#3498db\", !isLoading),\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  justifyContent: \"center\",\n                  gap: \"8px\"\n                }}\n              >\n                {isLoading ? (\n                  <><Icon type=\"loading\" size={18} color=\"white\" /> \u8AAD\u307F\u8FBC\u307F\u4E2D...</>\n                ) : (\n                  <><Icon type=\"upload\" size={18} color=\"white\" /> \u753B\u50CF\u3092\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9</>\n                )}\n              </button>\n              \n              {/* \u9078\u629E\u3055\u308C\u305F\u30AA\u30D6\u30B8\u30A7\u30AF\u30C8\u306E\u524A\u9664\u30DC\u30BF\u30F3 */}\n            </div>\n\n            <hr style={dividerStyle} />\n\n            {/* AI\u753B\u50CF\u751F\u6210\u30BB\u30AF\u30B7\u30E7\u30F3 */}\n            <div style={sectionStyle}>\n              <h3 style={sectionTitleStyle}>\uD83E\uDD16 AI\u753B\u50CF\u751F\u6210</h3>\n              <textarea\n                value={aiPrompt}\n                onChange={(e) => setAiPrompt(e.target.value)}\n                placeholder=\"\u4F8B: \u5B87\u5B99\u3092\u98DB\u3076\u732B\u3001\u30B5\u30A4\u30D0\u30FC\u30D1\u30F3\u30AF\u306A\u90FD\u5E02\u3001\u30AB\u30E9\u30D5\u30EB\u306A\u62BD\u8C61\u753B...\"\n                rows={3}\n                style={textareaStyle}\n                disabled={isGenerating}\n              />\n              <button\n                onClick={handleGenerateAI}\n                disabled={isGenerating}\n                style={primaryButtonStyle(isGenerating)}\n              >\n                {isGenerating ? \"\u23F3 \u751F\u6210\u4E2D...\" : \"\u2728 AI\u3067\u753B\u50CF\u751F\u6210\"}\n              </button>\n              {lastAIPrompt && (\n                <p style={{ fontSize: \"12px\", color: \"#666\", marginTop: \"10px\" }}>\n                  \u6700\u5F8C\u306E\u751F\u6210: \"{lastAIPrompt}\"\n                </p>\n              )}\n            </div>\n\n            <hr style={dividerStyle} />\n\n            {/* \u30C6\u30AD\u30B9\u30C8\u8FFD\u52A0\u30BB\u30AF\u30B7\u30E7\u30F3 */}\n            <div style={sectionStyle}>\n              <h3 style={sectionTitleStyle}>\u270F\uFE0F \u30C6\u30AD\u30B9\u30C8\u8FFD\u52A0</h3>\n              <input\n                type=\"text\"\n                value={textInput}\n                onChange={(e) => handleTextInputChange(e.target.value)}\n                placeholder=\"\u30C6\u30AD\u30B9\u30C8\u3092\u5165\u529B\"\n                style={inputStyle}\n              />\n              <div style={{ display: \"flex\", gap: \"10px\", marginBottom: \"10px\" }}>\n                <div style={{ flex: 1 }}>\n                  <label style={labelStyle}>\u8272</label>\n                  <input\n                    type=\"color\"\n                    value={textColor}\n                    onChange={(e) => handleChangeTextColor(e.target.value)}\n                    style={colorInputStyle}\n                  />\n                </div>\n                <div style={{ flex: 1 }}>\n                  <label style={labelStyle}>\u30B5\u30A4\u30BA: {fontSize}px</label>\n                  <input\n                    type=\"range\"\n                    min=\"10\"\n                    max=\"100\"\n                    value={fontSize}\n                    onChange={(e) => handleChangeFontSize(Number(e.target.value))}\n                    style={{ width: \"100%\" }}\n                  />\n                </div>\n              </div>\n              <label style={{ \n                fontSize: isMobile ? \"12px\" : \"13px\", \n                fontWeight: \"600\",\n                color: \"#333\",\n                marginBottom: \"8px\",\n                display: \"block\"\n              }}>\n                \u30D5\u30A9\u30F3\u30C8\u306E\u9078\u629E\n              </label>\n              \n              {/* \u30AB\u30B9\u30BF\u30E0\u30D5\u30A9\u30F3\u30C8\u30C9\u30ED\u30C3\u30D7\u30C0\u30A6\u30F3 */}\n              <div ref={fontDropdownRef} style={{ position: \"relative\", width: \"100%\" }}>\n                {/* \u9078\u629E\u4E2D\u306E\u30D5\u30A9\u30F3\u30C8\u8868\u793A */}\n                <div\n                  onClick={() => setIsFontDropdownOpen(!isFontDropdownOpen)}\n                  style={{\n                    ...selectStyle,\n                    cursor: \"pointer\",\n                    fontFamily: FONT_LIST.find(f => f.value === fontFamily)?.family || fontFamily,\n                    fontSize: isMobile ? \"14px\" : \"16px\",\n                    display: \"flex\",\n                    justifyContent: \"space-between\",\n                    alignItems: \"center\"\n                  }}\n                >\n                  <span>{FONT_LIST.find(f => f.value === fontFamily)?.label || fontFamily}</span>\n                  <span style={{ fontSize: \"12px\" }}>{isFontDropdownOpen ? \"\u25B2\" : \"\u25BC\"}</span>\n                </div>\n                \n                {/* \u30C9\u30ED\u30C3\u30D7\u30C0\u30A6\u30F3\u30EA\u30B9\u30C8 */}\n                {isFontDropdownOpen && (\n                  <div style={{\n                    position: \"absolute\",\n                    top: \"100%\",\n                    left: 0,\n                    right: 0,\n                    backgroundColor: \"white\",\n                    border: \"2px solid #4c51bf\",\n                    borderRadius: \"8px\",\n                    maxHeight: \"350px\",\n                    overflowY: \"auto\",\n                    zIndex: 1000,\n                    boxShadow: \"0 4px 6px rgba(0, 0, 0, 0.1)\",\n                    marginTop: \"4px\"\n                  }}>\n                    {/* \u30BF\u30D6\u30DC\u30BF\u30F3 */}\n                    <div style={{\n                      display: \"flex\",\n                      borderBottom: \"2px solid #e2e8f0\",\n                      position: \"sticky\",\n                      top: 0,\n                      backgroundColor: \"white\",\n                      zIndex: 1001\n                    }}>\n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          setActiveFontTab(\"japanese\");\n                        }}\n                        style={{\n                          flex: 1,\n                          padding: \"12px\",\n                          border: \"none\",\n                          backgroundColor: activeFontTab === \"japanese\" ? \"#4c51bf\" : \"transparent\",\n                          color: activeFontTab === \"japanese\" ? \"white\" : \"#4a5568\",\n                          fontWeight: activeFontTab === \"japanese\" ? \"bold\" : \"normal\",\n                          cursor: \"pointer\",\n                          transition: \"all 0.2s\",\n                          fontSize: isMobile ? \"14px\" : \"16px\"\n                        }}\n                      >\n                        \u65E5\u672C\u8A9E\n                      </button>\n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          setActiveFontTab(\"english\");\n                        }}\n                        style={{\n                          flex: 1,\n                          padding: \"12px\",\n                          border: \"none\",\n                          backgroundColor: activeFontTab === \"english\" ? \"#4c51bf\" : \"transparent\",\n                          color: activeFontTab === \"english\" ? \"white\" : \"#4a5568\",\n                          fontWeight: activeFontTab === \"english\" ? \"bold\" : \"normal\",\n                          cursor: \"pointer\",\n                          transition: \"all 0.2s\",\n                          fontSize: isMobile ? \"14px\" : \"16px\"\n                        }}\n                      >\n                        English\n                      </button>\n                    </div>\n                    \n                    {/* \u30D5\u30A9\u30F3\u30C8\u30EA\u30B9\u30C8 */}\n                    {getFilteredFonts().map((font) => (\n                      <div\n                        key={font.value}\n                        onClick={() => {\n                          handleChangeFontFamily(font.value);\n                          setIsFontDropdownOpen(false);\n                        }}\n                        style={{\n                          padding: isMobile ? \"10px 12px\" : \"12px 16px\",\n                          cursor: \"pointer\",\n                          fontFamily: font.family,\n                          fontSize: isMobile ? \"14px\" : \"16px\",\n                          borderBottom: \"1px solid #eee\",\n                          backgroundColor: fontFamily === font.value ? \"#f0f0ff\" : \"transparent\",\n                          transition: \"background-color 0.2s\"\n                        }}\n                        onMouseEnter={(e) => {\n                          if (fontFamily !== font.value) {\n                            e.currentTarget.style.backgroundColor = \"#f9f9f9\";\n                          }\n                        }}\n                        onMouseLeave={(e) => {\n                          if (fontFamily !== font.value) {\n                            e.currentTarget.style.backgroundColor = \"transparent\";\n                          }\n                        }}\n                      >\n                        {font.label}\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n            </div>\n\n            <hr style={dividerStyle} />\n\n            {/* \u64CD\u4F5C\u30DC\u30BF\u30F3 */}\n            <button \n              onClick={handleClearCanvas} \n              style={{\n                ...buttonStyle(\"#ff8c42\", true),\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                gap: \"8px\"\n              }}\n            >\n              <Icon type=\"refresh\" size={18} color=\"white\" /> \u3059\u3079\u3066\u30AF\u30EA\u30A2\n            </button>\n            <button \n              onClick={handleSaveDesign} \n              style={{\n                ...buttonStyle(\"#00b894\", true),\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                gap: \"8px\"\n              }}\n            >\n              <Icon type=\"save\" size={18} color=\"white\" /> \u753B\u50CF\u3068\u3057\u3066\u4FDD\u5B58\n            </button>\n          </div>\n        </div>\n      </div>\n      \n      {/* \u8457\u4F5C\u6A29\u30E2\u30FC\u30C0\u30EB */}\n      {showCopyrightModal && (\n        <div style={{\n          position: \"fixed\",\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          backgroundColor: \"rgba(0, 0, 0, 0.7)\",\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          zIndex: 10000,\n          padding: \"20px\"\n        }}>\n          <div style={{\n            backgroundColor: \"white\",\n            borderRadius: \"16px\",\n            padding: isMobile ? \"24px\" : \"40px\",\n            maxWidth: \"600px\",\n            width: \"100%\",\n            maxHeight: \"80vh\",\n            overflowY: \"auto\",\n            boxShadow: \"0 10px 40px rgba(0, 0, 0, 0.3)\"\n          }}>\n            <h2 style={{ \n              fontSize: isMobile ? \"20px\" : \"24px\", \n              marginBottom: \"20px\",\n              color: \"#333\",\n              fontWeight: \"bold\",\n              display: \"flex\",\n              alignItems: \"center\",\n              gap: \"8px\"\n            }}>\n              <Icon type=\"clipboard\" size={24} color=\"#333\" /> \u753B\u50CF\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u524D\u306E\u3054\u78BA\u8A8D\n            </h2>\n            \n            <div style={{ \n              marginBottom: \"24px\",\n              fontSize: isMobile ? \"14px\" : \"15px\",\n              lineHeight: \"1.8\",\n              color: \"#555\"\n            }}>\n              <h3 style={{ fontSize: isMobile ? \"16px\" : \"18px\", marginBottom: \"12px\", color: \"#444\", display: \"flex\", alignItems: \"center\", gap: \"6px\" }}>\n                <Icon type=\"check\" size={18} color=\"#28a745\" /> \u63A8\u5968\u753B\u50CF\u30B5\u30A4\u30BA\n              </h3>\n              <p style={{ marginBottom: \"16px\", padding: \"12px\", backgroundColor: \"#f8f9fa\", borderRadius: \"8px\" }}>\n                <strong>300 DPI\u4EE5\u4E0A</strong>\u306E\u9AD8\u89E3\u50CF\u5EA6\u753B\u50CF\u3092\u63A8\u5968\u3057\u307E\u3059\u3002<br/>\n                \u30D7\u30EA\u30F3\u30C8\u7BC4\u56F2: 250mm \u00D7 312mm\n              </p>\n              \n              <h3 style={{ fontSize: isMobile ? \"16px\" : \"18px\", marginBottom: \"12px\", color: \"#444\", display: \"flex\", alignItems: \"center\", gap: \"6px\" }}>\n                <Icon type=\"warning\" size={18} color=\"#ffc107\" /> \u8457\u4F5C\u6A29\u30FB\u5229\u7528\u898F\u7D04\n              </h3>\n              <ul style={{ paddingLeft: \"20px\", marginBottom: \"16px\" }}>\n                <li style={{ marginBottom: \"8px\" }}>\n                  <strong>\u7B2C\u4E09\u8005\u306E\u8457\u4F5C\u6A29\u3092\u4FB5\u5BB3\u3059\u308B\u753B\u50CF</strong>\u3092\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u3057\u306A\u3044\u3067\u304F\u3060\u3055\u3044\n                </li>\n                <li style={{ marginBottom: \"8px\" }}>\n                  <strong>\u8096\u50CF\u6A29</strong>\u3084<strong>\u30D7\u30E9\u30A4\u30D0\u30B7\u30FC\u6A29</strong>\u3092\u4FB5\u5BB3\u3059\u308B\u753B\u50CF\u306F\u4F7F\u7528\u3067\u304D\u307E\u305B\u3093\n                </li>\n                <li style={{ marginBottom: \"8px\" }}>\n                  <strong>\u5546\u6A19\u6A29</strong>\u3092\u4FB5\u5BB3\u3059\u308B\u753B\u50CF\uFF08\u4F01\u696D\u30ED\u30B4\u306A\u3069\uFF09\u306F\u4F7F\u7528\u3067\u304D\u307E\u305B\u3093\n                </li>\n                <li style={{ marginBottom: \"8px\" }}>\n                  \u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u3055\u308C\u305F\u753B\u50CF\u306F<strong>\u304A\u5BA2\u69D8\u306E\u8CAC\u4EFB</strong>\u3067\u7BA1\u7406\u3055\u308C\u307E\u3059\n                </li>\n                <li style={{ marginBottom: \"8px\" }}>\n                  \u4E0D\u9069\u5207\u306A\u753B\u50CF\u304C\u767A\u898B\u3055\u308C\u305F\u5834\u5408\u3001<strong>\u4E88\u544A\u306A\u304F\u524A\u9664</strong>\u3059\u308B\u3053\u3068\u304C\u3042\u308A\u307E\u3059\n                </li>\n              </ul>\n            </div>\n            \n            <div style={{ display: \"flex\", gap: \"12px\", flexDirection: isMobile ? \"column\" : \"row\" }}>\n              <button \n                onClick={() => {\n                  setShowCopyrightModal(false);\n                  pendingImageRef.current = null;\n                  if (fileInputRef.current) {\n                    fileInputRef.current.value = '';\n                  }\n                }}\n                style={{\n                  flex: 1,\n                  padding: \"14px 24px\",\n                  backgroundColor: \"#6c757d\",\n                  color: \"white\",\n                  border: \"none\",\n                  borderRadius: \"8px\",\n                  fontSize: \"16px\",\n                  fontWeight: \"600\",\n                  cursor: \"pointer\"\n                }}\n              >\n                \u30AD\u30E3\u30F3\u30BB\u30EB\n              </button>\n              <button \n                onClick={handleCopyrightAgree}\n                style={{\n                  flex: 1,\n                  padding: \"14px 24px\",\n                  background: \"linear-gradient(135deg, #667eea 0%, #764ba2 100%)\",\n                  color: \"white\",\n                  border: \"none\",\n                  borderRadius: \"8px\",\n                  fontSize: \"16px\",\n                  fontWeight: \"600\",\n                  cursor: \"pointer\"\n                }}\n              >\n                \u540C\u610F\u3057\u3066\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n      \n      {/* \u753B\u8CEA\u8B66\u544A */}\n      {imageQualityWarning && (() => {\n        const isWarning = imageQualityWarning.includes(\"[WARNING]\");\n        const isInfo = imageQualityWarning.includes(\"[INFO]\");\n        const isSuccess = imageQualityWarning.includes(\"[SUCCESS]\");\n        const message = imageQualityWarning.replace(\"[WARNING]\", \"\").replace(\"[INFO]\", \"\").replace(\"[SUCCESS]\", \"\").trim();\n        const iconType = isWarning ? \"warning\" : isInfo ? \"info\" : \"check\";\n        const iconColor = isWarning ? \"#ffc107\" : isInfo ? \"#17a2b8\" : \"#28a745\";\n        const bgColor = isWarning ? \"#fff3cd\" : isInfo ? \"#d1ecf1\" : \"#d4edda\";\n        const borderColor = isWarning ? \"#ffc107\" : isInfo ? \"#17a2b8\" : \"#28a745\";\n        \n        return (\n          <div style={{\n            position: \"fixed\",\n            bottom: \"20px\",\n            right: \"20px\",\n            backgroundColor: bgColor,\n            border: `1px solid ${borderColor}`,\n            borderRadius: \"8px\",\n            padding: \"16px 20px\",\n            maxWidth: \"400px\",\n            boxShadow: \"0 4px 12px rgba(0, 0, 0, 0.15)\",\n            zIndex: 9999,\n            fontSize: \"13px\",\n            whiteSpace: \"pre-line\",\n            display: \"flex\",\n            flexDirection: \"column\",\n            gap: \"12px\"\n          }}>\n            <div style={{ display: \"flex\", alignItems: \"flex-start\", gap: \"8px\" }}>\n              <Icon type={iconType} size={20} color={iconColor} />\n              <div style={{ flex: 1 }}>{message}</div>\n            </div>\n            <button \n              onClick={() => setImageQualityWarning(null)}\n              style={{\n                padding: \"8px 16px\",\n                backgroundColor: \"#6c757d\",\n                color: \"white\",\n                border: \"none\",\n                borderRadius: \"6px\",\n                cursor: \"pointer\",\n                fontSize: \"12px\",\n                fontWeight: \"600\"\n              }}\n            >\n              \u9589\u3058\u308B\n            </button>\n          </div>\n        );\n      })()}\n\n      {/* \u30AB\u30FC\u30C8\u8FFD\u52A0\u30E2\u30FC\u30C0\u30EB */}\n      {isModalOpen && (\n        <div\n          style={{\n            position: \"fixed\",\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            backgroundColor: \"rgba(0, 0, 0, 0.5)\",\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            zIndex: 10000,\n            padding: \"20px\",\n          }}\n          onClick={closeCartModal}\n        >\n          <div\n            style={{\n              backgroundColor: \"white\",\n              borderRadius: \"12px\",\n              padding: isMobile ? \"24px\" : \"32px\",\n              maxWidth: \"500px\",\n              width: \"100%\",\n              maxHeight: \"90vh\",\n              overflow: \"auto\",\n              boxShadow: \"0 8px 32px rgba(0, 0, 0, 0.2)\",\n            }}\n            onClick={(e) => e.stopPropagation()}\n          >\n            {/* \u30E2\u30FC\u30C0\u30EB\u30D8\u30C3\u30C0\u30FC */}\n            <div style={{ marginBottom: \"24px\" }}>\n              <h2 style={{ margin: 0, fontSize: \"24px\", color: \"#333\" }}>\n                \uD83D\uDED2 \u30AB\u30FC\u30C8\u306B\u8FFD\u52A0\n              </h2>\n              <p style={{ margin: \"8px 0 0 0\", fontSize: \"14px\", color: \"#666\" }}>\n                \u30B5\u30A4\u30BA\u3068\u500B\u6570\u3092\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044\n              </p>\n            </div>\n\n            {/* \u30AB\u30E9\u30FC\u9078\u629E */}\n            <div style={{ marginBottom: \"24px\" }}>\n              <label style={{ display: \"block\", fontWeight: \"bold\", marginBottom: \"12px\", color: \"#333\" }}>\n                \u30AB\u30E9\u30FC\n              </label>\n              <div style={{ display: \"flex\", gap: \"12px\" }}>\n                {product.colors.map((color) => (\n                  <button\n                    key={color.name}\n                    onClick={() => setModalColor(color.name)}\n                    style={{\n                      flex: 1,\n                      padding: \"12px\",\n                      border: modalColor === color.name ? \"2px solid #5c6ac4\" : \"2px solid #ddd\",\n                      borderRadius: \"8px\",\n                      backgroundColor: modalColor === color.name ? \"#f0f2ff\" : \"white\",\n                      color: modalColor === color.name ? \"#5c6ac4\" : \"#333\",\n                      fontWeight: modalColor === color.name ? \"bold\" : \"normal\",\n                      cursor: \"pointer\",\n                      fontSize: \"15px\",\n                      transition: \"all 0.2s\",\n                    }}\n                  >\n                    {color.name}\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            {/* \u30B5\u30A4\u30BA\u3068\u500B\u6570\u9078\u629E */}\n            <div style={{ marginBottom: \"24px\" }}>\n              <label style={{ display: \"block\", fontWeight: \"bold\", marginBottom: \"12px\", color: \"#333\" }}>\n                \u30B5\u30A4\u30BA\u3068\u500B\u6570\n              </label>\n              {[\"S\", \"M\", \"L\", \"XL\", \"XXL\"].map((size) => {\n                const currentQuantity = modalQuantities[modalColor]?.[size] || 0;\n                return (\n                  <div\n                    key={size}\n                    style={{\n                      display: \"flex\",\n                      alignItems: \"center\",\n                      justifyContent: \"space-between\",\n                      padding: \"12px 16px\",\n                      marginBottom: \"8px\",\n                      backgroundColor: currentQuantity > 0 ? \"#f0f2ff\" : \"#f8f9fa\",\n                      borderRadius: \"8px\",\n                      border: currentQuantity > 0 ? \"2px solid #5c6ac4\" : \"2px solid transparent\",\n                    }}\n                  >\n                    <span style={{ fontWeight: \"500\", fontSize: \"16px\", color: \"#333\" }}>\n                      {size}\n                    </span>\n                    <div style={{ display: \"flex\", alignItems: \"center\", gap: \"12px\" }}>\n                      <button\n                        onClick={() => {\n                          setModalQuantities((prev) => ({\n                            ...prev,\n                            [modalColor]: {\n                              ...prev[modalColor],\n                              [size]: Math.max(0, (prev[modalColor]?.[size] || 0) - 1),\n                            }\n                          }));\n                        }}\n                        style={{\n                          width: \"32px\",\n                          height: \"32px\",\n                          border: \"1px solid #ddd\",\n                          borderRadius: \"6px\",\n                          backgroundColor: \"white\",\n                          cursor: \"pointer\",\n                          fontSize: \"18px\",\n                          fontWeight: \"bold\",\n                          color: \"#666\",\n                        }}\n                      >\n                        -\n                      </button>\n                      <span style={{ \n                        minWidth: \"24px\", \n                        textAlign: \"center\", \n                        fontSize: \"16px\", \n                        fontWeight: \"bold\",\n                        color: currentQuantity > 0 ? \"#5c6ac4\" : \"#999\"\n                      }}>\n                        {currentQuantity}\n                      </span>\n                      <button\n                        onClick={() => {\n                          setModalQuantities((prev) => ({\n                            ...prev,\n                            [modalColor]: {\n                              ...prev[modalColor],\n                              [size]: Math.min(99, (prev[modalColor]?.[size] || 0) + 1),\n                            }\n                          }));\n                        }}\n                        style={{\n                          width: \"32px\",\n                          height: \"32px\",\n                          border: \"1px solid #ddd\",\n                          borderRadius: \"6px\",\n                          backgroundColor: \"white\",\n                          cursor: \"pointer\",\n                          fontSize: \"18px\",\n                          fontWeight: \"bold\",\n                          color: \"#666\",\n                        }}\n                      >\n                        +\n                      </button>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n\n            {/* \u5408\u8A08\u8868\u793A */}\n            <div\n              style={{\n                padding: \"16px\",\n                backgroundColor: \"#f0f2ff\",\n                borderRadius: \"8px\",\n                marginBottom: \"24px\",\n              }}\n            >\n              <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\n                <span style={{ fontWeight: \"bold\", fontSize: \"16px\", color: \"#333\" }}>\n                  \u5408\u8A08\n                </span>\n                <span style={{ fontWeight: \"bold\", fontSize: \"20px\", color: \"#5c6ac4\" }}>\n                  {Object.values(modalQuantities).reduce((colorQty, sizes) => {\n                    return colorQty + Object.values(sizes).reduce((sum, qty) => sum + qty, 0);\n                  }, 0)} \u70B9\n                </span>\n              </div>\n            </div>\n\n            {/* \u30DC\u30BF\u30F3 */}\n            <div style={{ display: \"flex\", gap: \"12px\" }}>\n              <button\n                onClick={closeCartModal}\n                style={{\n                  flex: 1,\n                  padding: \"14px\",\n                  border: \"2px solid #ddd\",\n                  borderRadius: \"8px\",\n                  backgroundColor: \"white\",\n                  color: \"#666\",\n                  fontSize: \"16px\",\n                  fontWeight: \"bold\",\n                  cursor: \"pointer\",\n                }}\n              >\n                \u30AD\u30E3\u30F3\u30BB\u30EB\n              </button>\n              <button\n                onClick={handleAddToCartMultiple}\n                disabled={Object.values(modalQuantities).reduce((colorQty, sizes) => {\n                  return colorQty + Object.values(sizes).reduce((sum, qty) => sum + qty, 0);\n                }, 0) === 0}\n                style={{\n                  flex: 1,\n                  padding: \"14px\",\n                  border: \"none\",\n                  borderRadius: \"8px\",\n                  backgroundColor: Object.values(modalQuantities).reduce((colorQty, sizes) => {\n                    return colorQty + Object.values(sizes).reduce((sum, qty) => sum + qty, 0);\n                  }, 0) === 0 ? \"#ccc\" : \"#5c6ac4\",\n                  color: \"white\",\n                  fontSize: \"16px\",\n                  fontWeight: \"bold\",\n                  cursor: Object.values(modalQuantities).reduce((colorQty, sizes) => {\n                    return colorQty + Object.values(sizes).reduce((sum, qty) => sum + qty, 0);\n                  }, 0) === 0 ? \"not-allowed\" : \"pointer\",\n                }}\n              >\n                \u30AB\u30FC\u30C8\u306B\u8FFD\u52A0\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n// ========== \u30B9\u30BF\u30A4\u30EB\u5B9A\u7FA9 ==========\nconst panelStyle: React.CSSProperties = {\n  padding: \"24px\",\n  backgroundColor: \"#fff\",\n  borderRadius: \"0\",\n  boxShadow: \"none\",\n  height: \"100%\",\n};\n\nconst sectionStyle: React.CSSProperties = {\n  marginBottom: \"8px\",\n};\n\nconst sectionTitleStyle: React.CSSProperties = {\n  fontSize: \"16px\",\n  marginBottom: \"12px\",\n  color: \"#333\",\n  fontWeight: \"600\",\n};\n\nconst dividerStyle: React.CSSProperties = {\n  margin: \"24px 0\",\n  border: \"1px solid #eee\",\n};\n\nconst buttonStyle = (bgColor: string, enabled: boolean): React.CSSProperties => ({\n  width: \"100%\",\n  padding: \"12px\",\n  marginBottom: \"10px\",\n  backgroundColor: enabled ? bgColor : \"#ccc\",\n  color: \"white\",\n  border: \"none\",\n  borderRadius: \"8px\",\n  fontSize: \"15px\",\n  cursor: enabled ? \"pointer\" : \"not-allowed\",\n  fontWeight: \"500\",\n  transition: \"all 0.2s\",\n});\n\nconst primaryButtonStyle = (disabled: boolean): React.CSSProperties => ({\n  width: \"100%\",\n  padding: \"14px\",\n  backgroundColor: disabled ? \"#ccc\" : \"linear-gradient(135deg, #667eea 0%, #764ba2 100%)\",\n  background: disabled ? \"#ccc\" : \"linear-gradient(135deg, #667eea 0%, #764ba2 100%)\",\n  color: \"white\",\n  border: \"none\",\n  borderRadius: \"8px\",\n  fontSize: \"16px\",\n  cursor: disabled ? \"not-allowed\" : \"pointer\",\n  fontWeight: \"bold\",\n});\n\nconst smallButtonStyle = (bgColor: string, enabled: boolean): React.CSSProperties => ({\n  padding: \"10px\",\n  backgroundColor: enabled ? bgColor : \"#ccc\",\n  color: \"white\",\n  border: \"none\",\n  borderRadius: \"6px\",\n  fontSize: \"13px\",\n  cursor: enabled ? \"pointer\" : \"not-allowed\",\n  width: \"100%\",\n});\n\nconst historyButtonStyle = (enabled: boolean): React.CSSProperties => ({\n  flex: 1,\n  padding: \"12px\",\n  backgroundColor: enabled ? \"#6c757d\" : \"#ccc\",\n  color: \"white\",\n  border: \"none\",\n  borderRadius: \"8px\",\n  fontSize: \"15px\",\n  cursor: enabled ? \"pointer\" : \"not-allowed\",\n  fontWeight: \"600\",\n});\n\nconst inputStyle: React.CSSProperties = {\n  width: \"100%\",\n  padding: \"10px\",\n  marginBottom: \"10px\",\n  border: \"1px solid #ddd\",\n  borderRadius: \"6px\",\n  fontSize: \"14px\",\n  boxSizing: \"border-box\",\n};\n\nconst textareaStyle: React.CSSProperties = {\n  width: \"100%\",\n  padding: \"12px\",\n  marginBottom: \"12px\",\n  border: \"2px solid #ddd\",\n  borderRadius: \"8px\",\n  fontSize: \"14px\",\n  boxSizing: \"border-box\",\n  fontFamily: \"inherit\",\n  resize: \"vertical\",\n};\n\nconst selectStyle: React.CSSProperties = {\n  width: \"100%\",\n  padding: \"10px\",\n  marginBottom: \"10px\",\n  border: \"1px solid #ddd\",\n  borderRadius: \"6px\",\n  fontSize: \"14px\",\n  boxSizing: \"border-box\",\n};\n\nconst colorInputStyle: React.CSSProperties = {\n  width: \"100%\",\n  height: \"40px\",\n  border: \"1px solid #ddd\",\n  borderRadius: \"6px\",\n  cursor: \"pointer\",\n};\n\nconst labelStyle: React.CSSProperties = {\n  fontSize: \"12px\",\n  display: \"block\",\n  marginBottom: \"5px\",\n  color: \"#666\",\n  fontWeight: \"500\",\n};\n\nconst infoBoxStyle: React.CSSProperties = {\n  marginTop: \"20px\",\n  padding: \"20px\",\n  backgroundColor: \"#ffffff\",\n  borderRadius: \"8px\",\n  fontSize: \"13px\",\n  border: \"1px solid #e0e0e0\",\n};\n", "/**\n * \u5546\u54C1\u30C7\u30FC\u30BF\u5B9A\u7FA9\n */\n\nexport interface Product {\n  id: string;\n  name: string;\n  description: string;\n  price: number;\n  category: 'tshirt' | 'longsleeve' | 'sweatshirt' | 'hoodie';\n  colors: Array<{\n    name: string;\n    hex: string;\n  }>;\n  mockupImage: string;\n  printAreaWidth: number;\n  printAreaHeight: number;\n}\n\nexport const products: Product[] = [\n  {\n    id: 'box-tshirt-short',\n    name: '\u30DC\u30C3\u30AF\u30B9\u30B7\u30EB\u30A8\u30C3\u30C8 / \u534A\u8896T\u30B7\u30E3\u30C4',\n    description: '\u3086\u3063\u305F\u308A\u3068\u3057\u305F\u30DC\u30C3\u30AF\u30B9\u30B7\u30EB\u30A8\u30C3\u30C8\u306E\u534A\u8896T\u30B7\u30E3\u30C4\uFF08\u30E6\u30CB\u30BB\u30C3\u30AF\u30B9\uFF09',\n    price: 2490,\n    category: 'tshirt',\n    colors: [\n      { name: '\u30DB\u30EF\u30A4\u30C8', hex: '#FFFFFF' },\n      { name: '\u30D6\u30E9\u30C3\u30AF', hex: '#000000' },\n    ],\n    mockupImage: '/images/products/box-tshirt-short-white.png',\n    printAreaWidth: 200,\n    printAreaHeight: 250,\n  },\n  {\n    id: 'box-tshirt-long',\n    name: '\u30DC\u30C3\u30AF\u30B9\u30B7\u30EB\u30A8\u30C3\u30C8 / \u9577\u8896T\u30B7\u30E3\u30C4',\n    description: '\u3086\u3063\u305F\u308A\u3068\u3057\u305F\u30DC\u30C3\u30AF\u30B9\u30B7\u30EB\u30A8\u30C3\u30C8\u306E\u9577\u8896T\u30B7\u30E3\u30C4\uFF08\u30E6\u30CB\u30BB\u30C3\u30AF\u30B9\uFF09',\n    price: 2990,\n    category: 'longsleeve',\n    colors: [\n      { name: '\u30DB\u30EF\u30A4\u30C8', hex: '#FFFFFF' },\n      { name: '\u30D6\u30E9\u30C3\u30AF', hex: '#000000' },\n    ],\n    mockupImage: '/images/products/box-tshirt-long-white.png',\n    printAreaWidth: 200,\n    printAreaHeight: 250,\n  },\n  {\n    id: 'sweatshirt',\n    name: '\u30B9\u30A6\u30A7\u30C3\u30C8\u30B7\u30E3\u30C4',\n    description: '\u5FEB\u9069\u306A\u7740\u5FC3\u5730\u306E\u30B9\u30A6\u30A7\u30C3\u30C8\u30B7\u30E3\u30C4\uFF08\u30E6\u30CB\u30BB\u30C3\u30AF\u30B9\uFF09',\n    price: 3990,\n    category: 'sweatshirt',\n    colors: [\n      { name: '\u30AA\u30D5\u30DB\u30EF\u30A4\u30C8', hex: '#F5F5DC' },\n      { name: '\u30D6\u30E9\u30C3\u30AF', hex: '#000000' },\n    ],\n    mockupImage: '/images/products/sweatshirt-white.png',\n    printAreaWidth: 220,\n    printAreaHeight: 280,\n  },\n  {\n    id: 'hoodie',\n    name: '\u30B9\u30A6\u30A7\u30C3\u30C8\u30D7\u30EB\u30D1\u30FC\u30AB',\n    description: '\u30D5\u30FC\u30C9\u4ED8\u304D\u30B9\u30A6\u30A7\u30C3\u30C8\u30D1\u30FC\u30AB\u30FC\uFF08\u30E6\u30CB\u30BB\u30C3\u30AF\u30B9\uFF09',\n    price: 4990,\n    category: 'hoodie',\n    colors: [\n      { name: '\u30AA\u30D5\u30DB\u30EF\u30A4\u30C8', hex: '#F5F5DC' },\n      { name: '\u30D6\u30E9\u30C3\u30AF', hex: '#000000' },\n    ],\n    mockupImage: '/images/products/hoodie-white.png',\n    printAreaWidth: 220,\n    printAreaHeight: 280,\n  },\n];\n\nexport function getProductById(id: string): Product | undefined {\n  return products.find(p => p.id === id);\n}\n", "/**\n * \u5546\u54C1\u9078\u629E\u30DA\u30FC\u30B8\uFF08\u30C8\u30C3\u30D7\u30DA\u30FC\u30B8\uFF09\n */\n\nimport type { MetaFunction } from \"@remix-run/node\";\nimport { Link } from \"@remix-run/react\";\nimport { products } from \"~/lib/products\";\n\nexport const meta: MetaFunction = () => {\n  return [\n    { title: \"\u5546\u54C1\u3092\u9078\u629E | PrintAIze\" },\n    {\n      name: \"description\",\n      content: \"\u304A\u597D\u307F\u306E\u5546\u54C1\u3092\u9078\u3093\u3067\u30AA\u30EA\u30B8\u30CA\u30EB\u30C7\u30B6\u30A4\u30F3\u3092\u4F5C\u6210\u3057\u307E\u3057\u3087\u3046\uFF01\",\n    },\n  ];\n};\n\nexport default function Index() {\n  return (\n    <div\n      style={{\n        fontFamily: \"system-ui, sans-serif\",\n        minHeight: \"100vh\",\n        backgroundColor: \"#f5f5f5\",\n      }}\n    >\n      {/* \u30D8\u30C3\u30C0\u30FC */}\n      <header\n        style={{\n          background: \"linear-gradient(135deg, #667eea 0%, #764ba2 100%)\",\n          color: \"white\",\n          padding: \"40px 20px\",\n          boxShadow: \"0 4px 6px rgba(0,0,0,0.1)\",\n        }}\n      >\n        <div style={{ maxWidth: \"1200px\", margin: \"0 auto\", textAlign: \"center\" }}>\n          <h1 style={{ margin: 0, fontSize: \"36px\", fontWeight: \"bold\" }}>\n            \uD83C\uDFA8 PrintAIze\n          </h1>\n          <p style={{ margin: \"15px 0 0\", opacity: 0.95, fontSize: \"18px\" }}>\n            \u4E16\u754C\u306B\u4E00\u3064\u3060\u3051\u306E\u30AA\u30EA\u30B8\u30CA\u30EB\u30C7\u30B6\u30A4\u30F3\u3092\u4F5C\u6210\u3057\u3088\u3046\n          </p>\n        </div>\n      </header>\n\n      {/* \u30E1\u30A4\u30F3\u30B3\u30F3\u30C6\u30F3\u30C4 */}\n      <main style={{ padding: \"60px 20px\", maxWidth: \"1200px\", margin: \"0 auto\" }}>\n        <div style={{ textAlign: \"center\", marginBottom: \"50px\" }}>\n          <h2 style={{ fontSize: \"28px\", color: \"#333\", marginBottom: \"15px\" }}>\n            \u5546\u54C1\u3092\u9078\u3093\u3067\u304F\u3060\u3055\u3044\n          </h2>\n          <p style={{ color: \"#666\", fontSize: \"16px\" }}>\n            T\u30B7\u30E3\u30C4\u30FB\u30B9\u30A6\u30A7\u30C3\u30C8\u5546\u54C1\u306F\u7537\u5973\u517C\u7528\uFF08\u30E6\u30CB\u30BB\u30C3\u30AF\u30B9\uFF09\u3067\u3059\n          </p>\n        </div>\n\n        {/* \u5546\u54C1\u30B0\u30EA\u30C3\u30C9 */}\n        <div\n          style={{\n            display: \"grid\",\n            gridTemplateColumns: \"repeat(auto-fit, minmax(280px, 1fr))\",\n            gap: \"30px\",\n            marginBottom: \"60px\",\n          }}\n        >\n          {products.map((product) => (\n            <Link\n              key={product.id}\n              to={`/customize?product=${product.id}`}\n              style={{ textDecoration: \"none\" }}\n            >\n              <div\n                style={{\n                  backgroundColor: \"white\",\n                  borderRadius: \"16px\",\n                  overflow: \"hidden\",\n                  boxShadow: \"0 4px 12px rgba(0,0,0,0.08)\",\n                  transition: \"all 0.3s ease\",\n                  cursor: \"pointer\",\n                  border: \"2px solid transparent\",\n                }}\n                onMouseEnter={(e) => {\n                  e.currentTarget.style.transform = \"translateY(-8px)\";\n                  e.currentTarget.style.boxShadow = \"0 12px 24px rgba(0,0,0,0.15)\";\n                  e.currentTarget.style.borderColor = \"#667eea\";\n                }}\n                onMouseLeave={(e) => {\n                  e.currentTarget.style.transform = \"translateY(0)\";\n                  e.currentTarget.style.boxShadow = \"0 4px 12px rgba(0,0,0,0.08)\";\n                  e.currentTarget.style.borderColor = \"transparent\";\n                }}\n              >\n                {/* \u5546\u54C1\u753B\u50CF\u30A8\u30EA\u30A2 */}\n                <div\n                  style={{\n                    width: \"100%\",\n                    height: \"350px\",\n                    backgroundColor: \"#FFFFFF\",\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                    position: \"relative\",\n                    overflow: \"hidden\",\n                  }}\n                >\n                  <img\n                    src={product.mockupImage}\n                    alt={product.name}\n                    style={{\n                      maxWidth: \"100%\",\n                      maxHeight: \"100%\",\n                      objectFit: \"contain\",\n                    }}\n                    onError={(e) => {\n                      // \u753B\u50CF\u8AAD\u307F\u8FBC\u307F\u5931\u6557\u6642\u306E\u30D5\u30A9\u30FC\u30EB\u30D0\u30C3\u30AF\n                      e.currentTarget.style.display = 'none';\n                      const fallback = document.createElement('div');\n                      fallback.style.fontSize = '80px';\n                      fallback.style.opacity = '0.3';\n                      fallback.style.color = '#999999';\n                      fallback.textContent = product.category === 'tshirt' ? '\uD83D\uDC55' :\n                                            product.category === 'longsleeve' ? '\uD83D\uDC54' :\n                                            product.category === 'sweatshirt' ? '\uD83E\uDDE5' : '\uD83E\uDDE5';\n                      e.currentTarget.parentElement?.appendChild(fallback);\n                    }}\n                  />\n                  \n                  {/* \"\u4EBA\u6C17\" \u30D0\u30C3\u30B8\uFF08\u6700\u521D\u306E\u5546\u54C1\u306E\u307F\uFF09 */}\n                  {product.id === 'box-tshirt-short' && (\n                    <div\n                      style={{\n                        position: \"absolute\",\n                        top: \"15px\",\n                        right: \"15px\",\n                        backgroundColor: \"#ff6b6b\",\n                        color: \"white\",\n                        padding: \"6px 12px\",\n                        borderRadius: \"20px\",\n                        fontSize: \"12px\",\n                        fontWeight: \"bold\",\n                      }}\n                    >\n                      \u4EBA\u6C17\n                    </div>\n                  )}\n                </div>\n\n                {/* \u5546\u54C1\u60C5\u5831 */}\n                <div style={{ padding: \"24px\" }}>\n                  <h3\n                    style={{\n                      margin: \"0 0 10px\",\n                      fontSize: \"18px\",\n                      color: \"#333\",\n                      fontWeight: \"600\",\n                    }}\n                  >\n                    {product.name}\n                  </h3>\n                  <p\n                    style={{\n                      margin: \"0 0 15px\",\n                      fontSize: \"14px\",\n                      color: \"#666\",\n                      lineHeight: \"1.5\",\n                    }}\n                  >\n                    {product.description}\n                  </p>\n\n                  {/* \u30AB\u30E9\u30FC\u30D0\u30EA\u30A8\u30FC\u30B7\u30E7\u30F3 */}\n                  <div style={{ marginBottom: \"15px\" }}>\n                    <div style={{ fontSize: \"12px\", color: \"#999\", marginBottom: \"8px\" }}>\n                      \u30AB\u30E9\u30FC:\n                    </div>\n                    <div style={{ display: \"flex\", gap: \"8px\" }}>\n                      {product.colors.map((color) => (\n                        <div\n                          key={color.name}\n                          style={{\n                            width: \"32px\",\n                            height: \"32px\",\n                            borderRadius: \"50%\",\n                            backgroundColor: color.hex,\n                            border: color.hex === '#FFFFFF' ? '2px solid #ddd' : '2px solid transparent',\n                            boxShadow: \"0 2px 4px rgba(0,0,0,0.1)\",\n                          }}\n                          title={color.name}\n                        />\n                      ))}\n                    </div>\n                  </div>\n\n                  {/* \u4FA1\u683C */}\n                  <div\n                    style={{\n                      display: \"flex\",\n                      justifyContent: \"space-between\",\n                      alignItems: \"center\",\n                      paddingTop: \"15px\",\n                      borderTop: \"1px solid #eee\",\n                    }}\n                  >\n                    <span style={{ fontSize: \"24px\", fontWeight: \"bold\", color: \"#667eea\" }}>\n                      \u00A5{product.price.toLocaleString()}\n                    </span>\n                    <span\n                      style={{\n                        fontSize: \"14px\",\n                        color: \"#667eea\",\n                        fontWeight: \"600\",\n                      }}\n                    >\n                      \u30C7\u30B6\u30A4\u30F3\u958B\u59CB \u2192\n                    </span>\n                  </div>\n                </div>\n              </div>\n            </Link>\n          ))}\n        </div>\n\n        {/* \u7279\u5FB4\u30BB\u30AF\u30B7\u30E7\u30F3 */}\n        <div\n          style={{\n            backgroundColor: \"white\",\n            borderRadius: \"16px\",\n            padding: \"40px\",\n            boxShadow: \"0 4px 12px rgba(0,0,0,0.08)\",\n          }}\n        >\n          <h3 style={{ textAlign: \"center\", fontSize: \"24px\", marginBottom: \"40px\", color: \"#333\" }}>\n            \u2728 \u30AB\u30B9\u30BF\u30DE\u30A4\u30BA\u6A5F\u80FD\n          </h3>\n          <div\n            style={{\n              display: \"grid\",\n              gridTemplateColumns: \"repeat(auto-fit, minmax(250px, 1fr))\",\n              gap: \"30px\",\n            }}\n          >\n            <div style={{ textAlign: \"center\" }}>\n              <div style={{ fontSize: \"48px\", marginBottom: \"15px\" }}>\uD83E\uDD16</div>\n              <h4 style={{ fontSize: \"18px\", marginBottom: \"10px\", color: \"#333\" }}>AI\u753B\u50CF\u751F\u6210</h4>\n              <p style={{ fontSize: \"14px\", color: \"#666\", lineHeight: \"1.6\" }}>\n                \u30C6\u30AD\u30B9\u30C8\u304B\u3089\u753B\u50CF\u3092\u751F\u6210\u3057\u3066\u3001\u30AA\u30EA\u30B8\u30CA\u30EB\u30C7\u30B6\u30A4\u30F3\u3092\u4F5C\u6210\n              </p>\n            </div>\n            <div style={{ textAlign: \"center\" }}>\n              <div style={{ fontSize: \"48px\", marginBottom: \"15px\" }}>\uD83D\uDCF7</div>\n              <h4 style={{ fontSize: \"18px\", marginBottom: \"10px\", color: \"#333\" }}>\u5199\u771F\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9</h4>\n              <p style={{ fontSize: \"14px\", color: \"#666\", lineHeight: \"1.6\" }}>\n                \u304A\u6C17\u306B\u5165\u308A\u306E\u5199\u771F\u3092\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u3057\u3066\u81EA\u7531\u306B\u914D\u7F6E\n              </p>\n            </div>\n            <div style={{ textAlign: \"center\" }}>\n              <div style={{ fontSize: \"48px\", marginBottom: \"15px\" }}>\u270F\uFE0F</div>\n              <h4 style={{ fontSize: \"18px\", marginBottom: \"10px\", color: \"#333\" }}>\u30C6\u30AD\u30B9\u30C8\u8FFD\u52A0</h4>\n              <p style={{ fontSize: \"14px\", color: \"#666\", lineHeight: \"1.6\" }}>\n                \u30D5\u30A9\u30F3\u30C8\u30FB\u30B5\u30A4\u30BA\u30FB\u8272\u3092\u81EA\u7531\u306B\u30AB\u30B9\u30BF\u30DE\u30A4\u30BA\n              </p>\n            </div>\n            <div style={{ textAlign: \"center\" }}>\n              <div style={{ fontSize: \"48px\", marginBottom: \"15px\" }}>\uD83C\uDFA8</div>\n              <h4 style={{ fontSize: \"18px\", marginBottom: \"10px\", color: \"#333\" }}>\u30D5\u30A3\u30EB\u30BF\u30FC\u52B9\u679C</h4>\n              <p style={{ fontSize: \"14px\", color: \"#666\", lineHeight: \"1.6\" }}>\n                \u30B0\u30EC\u30FC\u30B9\u30B1\u30FC\u30EB\u3001\u30BB\u30D4\u30A2\u3001\u660E\u308B\u3055\u8ABF\u6574\u306A\u3069\n              </p>\n            </div>\n          </div>\n        </div>\n      </main>\n\n      {/* \u30D5\u30C3\u30BF\u30FC */}\n      <footer\n        style={{\n          background: \"linear-gradient(135deg, #434343 0%, #000000 100%)\",\n          color: \"white\",\n          padding: \"40px 20px\",\n          textAlign: \"center\",\n          marginTop: \"60px\",\n        }}\n      >\n        <div style={{ maxWidth: \"1200px\", margin: \"0 auto\" }}>\n          <h3 style={{ marginTop: 0, fontSize: \"20px\" }}>\n            \u2728 AI\u753B\u50CF\u751F\u6210 \u00D7 Shopify\n          </h3>\n          <p style={{ margin: \"10px 0\", opacity: 0.8 }}>\n            Powered by Replicate AI & Shopify Storefront API\n          </p>\n          <p style={{ margin: \"20px 0 0\", fontSize: \"14px\", opacity: 0.6 }}>\n            \u00A9 2026 PrintAIze | All Rights Reserved\n          </p>\n        </div>\n      </footer>\n    </div>\n  );\n}\n", "export default {'entry':{'module':'/build/entry.client-EH7FZAJF.js','imports':['/build/_shared/chunk-O4BRYNJ4.js','/build/_shared/chunk-XGOTYLZ5.js','/build/_shared/chunk-UUZ63XC6.js','/build/_shared/chunk-AM6ZHEVA.js','/build/_shared/chunk-UWV35TSL.js','/build/_shared/chunk-U4FRFQSK.js','/build/_shared/chunk-7M6SC7J5.js','/build/_shared/chunk-PNG5AS42.js']},'routes':{'root':{'id':'root','parentId':undefined,'path':'','index':undefined,'caseSensitive':undefined,'module':'/build/root-RKAKVKLP.js','imports':['/build/_shared/chunk-G7CHZRZX.js'],'hasAction':false,'hasLoader':true,'hasClientAction':false,'hasClientLoader':false,'hasErrorBoundary':false},'routes/_index':{'id':'routes/_index','parentId':'root','path':undefined,'index':true,'caseSensitive':undefined,'module':'/build/routes/_index-POWNVARY.js','imports':['/build/_shared/chunk-MH6BU3J7.js'],'hasAction':false,'hasLoader':false,'hasClientAction':false,'hasClientLoader':false,'hasErrorBoundary':false},'routes/api.add-to-cart':{'id':'routes/api.add-to-cart','parentId':'root','path':'api/add-to-cart','index':undefined,'caseSensitive':undefined,'module':'/build/routes/api.add-to-cart-FNNDW7FO.js','imports':undefined,'hasAction':true,'hasLoader':false,'hasClientAction':false,'hasClientLoader':false,'hasErrorBoundary':false},'routes/api.add-to-cart-multiple':{'id':'routes/api.add-to-cart-multiple','parentId':'root','path':'api/add-to-cart-multiple','index':undefined,'caseSensitive':undefined,'module':'/build/routes/api.add-to-cart-multiple-ZSGAKDLA.js','imports':undefined,'hasAction':true,'hasLoader':false,'hasClientAction':false,'hasClientLoader':false,'hasErrorBoundary':false},'routes/api.cloudinary-signature':{'id':'routes/api.cloudinary-signature','parentId':'root','path':'api/cloudinary-signature','index':undefined,'caseSensitive':undefined,'module':'/build/routes/api.cloudinary-signature-ULI4CFBA.js','imports':undefined,'hasAction':true,'hasLoader':false,'hasClientAction':false,'hasClientLoader':false,'hasErrorBoundary':false},'routes/api.generate-image':{'id':'routes/api.generate-image','parentId':'root','path':'api/generate-image','index':undefined,'caseSensitive':undefined,'module':'/build/routes/api.generate-image-VXH64HIG.js','imports':undefined,'hasAction':true,'hasLoader':false,'hasClientAction':false,'hasClientLoader':false,'hasErrorBoundary':false},'routes/api.upload-image':{'id':'routes/api.upload-image','parentId':'root','path':'api/upload-image','index':undefined,'caseSensitive':undefined,'module':'/build/routes/api.upload-image-BDW6R7GK.js','imports':undefined,'hasAction':true,'hasLoader':false,'hasClientAction':false,'hasClientLoader':false,'hasErrorBoundary':false},'routes/customize':{'id':'routes/customize','parentId':'root','path':'customize','index':undefined,'caseSensitive':undefined,'module':'/build/routes/customize-OO3JPXKQ.js','imports':['/build/_shared/chunk-MH6BU3J7.js'],'hasAction':false,'hasLoader':true,'hasClientAction':false,'hasClientLoader':false,'hasErrorBoundary':false}},'version':'30f3d443','hmr':{'runtime':'/build/_shared/chunk-AM6ZHEVA.js','timestamp':1769487044731},'url':'/build/manifest-30F3D443.js'};"],
  "mappings": "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",
  "names": ["jsxDEV", "json", "json", "json", "action", "json", "action", "json", "action", "json", "action", "json", "cloudinary", "action", "json", "action", "json", "loader", "json", "useLoaderData", "jsxDEV", "printArea", "json", "sizes", "jsxDEV", "loader", "json", "useLoaderData", "meta", "Link", "jsxDEV", "meta", "Link"]
}
